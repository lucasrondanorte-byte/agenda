(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))r(f);new MutationObserver(f=>{for(const v of f)if(v.type==="childList")for(const d of v.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function g(f){const v={};return f.integrity&&(v.integrity=f.integrity),f.referrerPolicy&&(v.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?v.credentials="include":f.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function r(f){if(f.ep)return;f.ep=!0;const v=g(f);fetch(f.href,v)}})();function uh(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var cu={exports:{}},Ps={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function Ux(){if(Dm)return Ps;Dm=1;var o=Symbol.for("react.transitional.element"),m=Symbol.for("react.fragment");function g(r,f,v){var d=null;if(v!==void 0&&(d=""+v),f.key!==void 0&&(d=""+f.key),"key"in f){v={};for(var S in f)S!=="key"&&(v[S]=f[S])}else v=f;return f=v.ref,{$$typeof:o,type:r,key:d,ref:f!==void 0?f:null,props:v}}return Ps.Fragment=m,Ps.jsx=g,Ps.jsxs=g,Ps}var Mm;function Hx(){return Mm||(Mm=1,cu.exports=Ux()),cu.exports}var l=Hx(),ru={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function Bx(){if(Om)return pe;Om=1;var o=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),d=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),M=Symbol.iterator;function H(b){return b===null||typeof b!="object"?null:(b=M&&b[M]||b["@@iterator"],typeof b=="function"?b:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,J={};function A(b,Q,ee){this.props=b,this.context=Q,this.refs=J,this.updater=ee||B}A.prototype.isReactComponent={},A.prototype.setState=function(b,Q){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,Q,"setState")},A.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Z(){}Z.prototype=A.prototype;function G(b,Q,ee){this.props=b,this.context=Q,this.refs=J,this.updater=ee||B}var k=G.prototype=new Z;k.constructor=G,V(k,A.prototype),k.isPureReactComponent=!0;var Y=Array.isArray;function F(){}var $={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function P(b,Q,ee){var le=ee.ref;return{$$typeof:o,type:b,key:Q,ref:le!==void 0?le:null,props:ee}}function we(b,Q){return P(b.type,Q,b.props)}function fe(b){return typeof b=="object"&&b!==null&&b.$$typeof===o}function ie(b){var Q={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ee){return Q[ee]})}var ge=/\/+/g;function Ve(b,Q){return typeof b=="object"&&b!==null&&b.key!=null?ie(""+b.key):Q.toString(36)}function ae(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(F,F):(b.status="pending",b.then(function(Q){b.status==="pending"&&(b.status="fulfilled",b.value=Q)},function(Q){b.status==="pending"&&(b.status="rejected",b.reason=Q)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function E(b,Q,ee,le,de){var xe=typeof b;(xe==="undefined"||xe==="boolean")&&(b=null);var Ne=!1;if(b===null)Ne=!0;else switch(xe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(b.$$typeof){case o:case m:Ne=!0;break;case z:return Ne=b._init,E(Ne(b._payload),Q,ee,le,de)}}if(Ne)return de=de(b),Ne=le===""?"."+Ve(b,0):le,Y(de)?(ee="",Ne!=null&&(ee=Ne.replace(ge,"$&/")+"/"),E(de,Q,ee,"",function(pl){return pl})):de!=null&&(fe(de)&&(de=we(de,ee+(de.key==null||b&&b.key===de.key?"":(""+de.key).replace(ge,"$&/")+"/")+Ne)),Q.push(de)),1;Ne=0;var ct=le===""?".":le+":";if(Y(b))for(var He=0;He<b.length;He++)le=b[He],xe=ct+Ve(le,He),Ne+=E(le,Q,ee,xe,de);else if(He=H(b),typeof He=="function")for(b=He.call(b),He=0;!(le=b.next()).done;)le=le.value,xe=ct+Ve(le,He++),Ne+=E(le,Q,ee,xe,de);else if(xe==="object"){if(typeof b.then=="function")return E(ae(b),Q,ee,le,de);throw Q=String(b),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function O(b,Q,ee){if(b==null)return b;var le=[],de=0;return E(b,le,"","",function(xe){return Q.call(ee,xe,de++)}),le}function te(b){if(b._status===-1){var Q=b._result;Q=Q(),Q.then(function(ee){(b._status===0||b._status===-1)&&(b._status=1,b._result=ee)},function(ee){(b._status===0||b._status===-1)&&(b._status=2,b._result=ee)}),b._status===-1&&(b._status=0,b._result=Q)}if(b._status===1)return b._result.default;throw b._result}var se=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},he={map:O,forEach:function(b,Q,ee){O(b,function(){Q.apply(this,arguments)},ee)},count:function(b){var Q=0;return O(b,function(){Q++}),Q},toArray:function(b){return O(b,function(Q){return Q})||[]},only:function(b){if(!fe(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return pe.Activity=_,pe.Children=he,pe.Component=A,pe.Fragment=g,pe.Profiler=f,pe.PureComponent=G,pe.StrictMode=r,pe.Suspense=N,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,pe.__COMPILER_RUNTIME={__proto__:null,c:function(b){return $.H.useMemoCache(b)}},pe.cache=function(b){return function(){return b.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(b,Q,ee){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var le=V({},b.props),de=b.key;if(Q!=null)for(xe in Q.key!==void 0&&(de=""+Q.key),Q)!ce.call(Q,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Q.ref===void 0||(le[xe]=Q[xe]);var xe=arguments.length-2;if(xe===1)le.children=ee;else if(1<xe){for(var Ne=Array(xe),ct=0;ct<xe;ct++)Ne[ct]=arguments[ct+2];le.children=Ne}return P(b.type,de,le)},pe.createContext=function(b){return b={$$typeof:d,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:v,_context:b},b},pe.createElement=function(b,Q,ee){var le,de={},xe=null;if(Q!=null)for(le in Q.key!==void 0&&(xe=""+Q.key),Q)ce.call(Q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(de[le]=Q[le]);var Ne=arguments.length-2;if(Ne===1)de.children=ee;else if(1<Ne){for(var ct=Array(Ne),He=0;He<Ne;He++)ct[He]=arguments[He+2];de.children=ct}if(b&&b.defaultProps)for(le in Ne=b.defaultProps,Ne)de[le]===void 0&&(de[le]=Ne[le]);return P(b,xe,de)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(b){return{$$typeof:S,render:b}},pe.isValidElement=fe,pe.lazy=function(b){return{$$typeof:z,_payload:{_status:-1,_result:b},_init:te}},pe.memo=function(b,Q){return{$$typeof:h,type:b,compare:Q===void 0?null:Q}},pe.startTransition=function(b){var Q=$.T,ee={};$.T=ee;try{var le=b(),de=$.S;de!==null&&de(ee,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(F,se)}catch(xe){se(xe)}finally{Q!==null&&ee.types!==null&&(Q.types=ee.types),$.T=Q}},pe.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},pe.use=function(b){return $.H.use(b)},pe.useActionState=function(b,Q,ee){return $.H.useActionState(b,Q,ee)},pe.useCallback=function(b,Q){return $.H.useCallback(b,Q)},pe.useContext=function(b){return $.H.useContext(b)},pe.useDebugValue=function(){},pe.useDeferredValue=function(b,Q){return $.H.useDeferredValue(b,Q)},pe.useEffect=function(b,Q){return $.H.useEffect(b,Q)},pe.useEffectEvent=function(b){return $.H.useEffectEvent(b)},pe.useId=function(){return $.H.useId()},pe.useImperativeHandle=function(b,Q,ee){return $.H.useImperativeHandle(b,Q,ee)},pe.useInsertionEffect=function(b,Q){return $.H.useInsertionEffect(b,Q)},pe.useLayoutEffect=function(b,Q){return $.H.useLayoutEffect(b,Q)},pe.useMemo=function(b,Q){return $.H.useMemo(b,Q)},pe.useOptimistic=function(b,Q){return $.H.useOptimistic(b,Q)},pe.useReducer=function(b,Q,ee){return $.H.useReducer(b,Q,ee)},pe.useRef=function(b){return $.H.useRef(b)},pe.useState=function(b){return $.H.useState(b)},pe.useSyncExternalStore=function(b,Q,ee){return $.H.useSyncExternalStore(b,Q,ee)},pe.useTransition=function(){return $.H.useTransition()},pe.version="19.2.0",pe}var zm;function pu(){return zm||(zm=1,ru.exports=Bx()),ru.exports}var x=pu();const dh=uh(x);var uu={exports:{}},ei={},du={exports:{}},mu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Gx(){return Lm||(Lm=1,(function(o){function m(E,O){var te=E.length;E.push(O);e:for(;0<te;){var se=te-1>>>1,he=E[se];if(0<f(he,O))E[se]=O,E[te]=he,te=se;else break e}}function g(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var O=E[0],te=E.pop();if(te!==O){E[0]=te;e:for(var se=0,he=E.length,b=he>>>1;se<b;){var Q=2*(se+1)-1,ee=E[Q],le=Q+1,de=E[le];if(0>f(ee,te))le<he&&0>f(de,ee)?(E[se]=de,E[le]=te,se=le):(E[se]=ee,E[Q]=te,se=Q);else if(le<he&&0>f(de,te))E[se]=de,E[le]=te,se=le;else break e}}return O}function f(E,O){var te=E.sortIndex-O.sortIndex;return te!==0?te:E.id-O.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;o.unstable_now=function(){return v.now()}}else{var d=Date,S=d.now();o.unstable_now=function(){return d.now()-S}}var N=[],h=[],z=1,_=null,M=3,H=!1,B=!1,V=!1,J=!1,A=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function k(E){for(var O=g(h);O!==null;){if(O.callback===null)r(h);else if(O.startTime<=E)r(h),O.sortIndex=O.expirationTime,m(N,O);else break;O=g(h)}}function Y(E){if(V=!1,k(E),!B)if(g(N)!==null)B=!0,F||(F=!0,ie());else{var O=g(h);O!==null&&ae(Y,O.startTime-E)}}var F=!1,$=-1,ce=5,P=-1;function we(){return J?!0:!(o.unstable_now()-P<ce)}function fe(){if(J=!1,F){var E=o.unstable_now();P=E;var O=!0;try{e:{B=!1,V&&(V=!1,Z($),$=-1),H=!0;var te=M;try{t:{for(k(E),_=g(N);_!==null&&!(_.expirationTime>E&&we());){var se=_.callback;if(typeof se=="function"){_.callback=null,M=_.priorityLevel;var he=se(_.expirationTime<=E);if(E=o.unstable_now(),typeof he=="function"){_.callback=he,k(E),O=!0;break t}_===g(N)&&r(N),k(E)}else r(N);_=g(N)}if(_!==null)O=!0;else{var b=g(h);b!==null&&ae(Y,b.startTime-E),O=!1}}break e}finally{_=null,M=te,H=!1}O=void 0}}finally{O?ie():F=!1}}}var ie;if(typeof G=="function")ie=function(){G(fe)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Ve=ge.port2;ge.port1.onmessage=fe,ie=function(){Ve.postMessage(null)}}else ie=function(){A(fe,0)};function ae(E,O){$=A(function(){E(o.unstable_now())},O)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(E){E.callback=null},o.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<E?Math.floor(1e3/E):5},o.unstable_getCurrentPriorityLevel=function(){return M},o.unstable_next=function(E){switch(M){case 1:case 2:case 3:var O=3;break;default:O=M}var te=M;M=O;try{return E()}finally{M=te}},o.unstable_requestPaint=function(){J=!0},o.unstable_runWithPriority=function(E,O){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var te=M;M=E;try{return O()}finally{M=te}},o.unstable_scheduleCallback=function(E,O,te){var se=o.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?se+te:se):te=se,E){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=te+he,E={id:z++,callback:O,priorityLevel:E,startTime:te,expirationTime:he,sortIndex:-1},te>se?(E.sortIndex=te,m(h,E),g(N)===null&&E===g(h)&&(V?(Z($),$=-1):V=!0,ae(Y,te-se))):(E.sortIndex=he,m(N,E),B||H||(B=!0,F||(F=!0,ie()))),E},o.unstable_shouldYield=we,o.unstable_wrapCallback=function(E){var O=M;return function(){var te=M;M=O;try{return E.apply(this,arguments)}finally{M=te}}}})(mu)),mu}var Rm;function Yx(){return Rm||(Rm=1,du.exports=Gx()),du.exports}var fu={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function qx(){if(km)return bt;km=1;var o=pu();function m(N){var h="https://react.dev/errors/"+N;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var z=2;z<arguments.length;z++)h+="&args[]="+encodeURIComponent(arguments[z])}return"Minified React error #"+N+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(){}var r={d:{f:g,r:function(){throw Error(m(522))},D:g,C:g,L:g,m:g,X:g,S:g,M:g},p:0,findDOMNode:null},f=Symbol.for("react.portal");function v(N,h,z){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:_==null?null:""+_,children:N,containerInfo:h,implementation:z}}var d=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(N,h){if(N==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bt.createPortal=function(N,h){var z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(m(299));return v(N,h,null,z)},bt.flushSync=function(N){var h=d.T,z=r.p;try{if(d.T=null,r.p=2,N)return N()}finally{d.T=h,r.p=z,r.d.f()}},bt.preconnect=function(N,h){typeof N=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(N,h))},bt.prefetchDNS=function(N){typeof N=="string"&&r.d.D(N)},bt.preinit=function(N,h){if(typeof N=="string"&&h&&typeof h.as=="string"){var z=h.as,_=S(z,h.crossOrigin),M=typeof h.integrity=="string"?h.integrity:void 0,H=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;z==="style"?r.d.S(N,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:_,integrity:M,fetchPriority:H}):z==="script"&&r.d.X(N,{crossOrigin:_,integrity:M,fetchPriority:H,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},bt.preinitModule=function(N,h){if(typeof N=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var z=S(h.as,h.crossOrigin);r.d.M(N,{crossOrigin:z,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(N)},bt.preload=function(N,h){if(typeof N=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var z=h.as,_=S(z,h.crossOrigin);r.d.L(N,z,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},bt.preloadModule=function(N,h){if(typeof N=="string")if(h){var z=S(h.as,h.crossOrigin);r.d.m(N,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:z,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(N)},bt.requestFormReset=function(N){r.d.r(N)},bt.unstable_batchedUpdates=function(N,h){return N(h)},bt.useFormState=function(N,h,z){return d.H.useFormState(N,h,z)},bt.useFormStatus=function(){return d.H.useHostTransitionStatus()},bt.version="19.2.0",bt}var Im;function Vx(){if(Im)return fu.exports;Im=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(m){console.error(m)}}return o(),fu.exports=qx(),fu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function Zx(){if(Um)return ei;Um=1;var o=Yx(),m=pu(),g=Vx();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(v(e)!==e)throw Error(r(188))}function h(e){var t=e.alternate;if(!t){if(t=v(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,n=t;;){var s=a.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){a=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===a)return N(s),e;if(i===n)return N(s),t;i=i.sibling}throw Error(r(188))}if(a.return!==n.return)a=s,n=i;else{for(var c=!1,u=s.child;u;){if(u===a){c=!0,a=s,n=i;break}if(u===n){c=!0,n=s,a=i;break}u=u.sibling}if(!c){for(u=i.child;u;){if(u===a){c=!0,a=i,n=s;break}if(u===n){c=!0,n=i,a=s;break}u=u.sibling}if(!c)throw Error(r(189))}}if(a.alternate!==n)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function z(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=z(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),G=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),we=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case A:return"Profiler";case J:return"StrictMode";case Y:return"Suspense";case F:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case G:return e.displayName||"Context";case Z:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:Ve(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return Ve(e(t))}catch{}}return null}var ae=Array.isArray,E=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=g.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},se=[],he=-1;function b(e){return{current:e}}function Q(e){0>he||(e.current=se[he],se[he]=null,he--)}function ee(e,t){he++,se[he]=e.current,e.current=t}var le=b(null),de=b(null),xe=b(null),Ne=b(null);function ct(e,t){switch(ee(xe,t),ee(de,e),ee(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?P0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=P0(t),e=em(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(le),ee(le,e)}function He(){Q(le),Q(de),Q(xe)}function pl(e){e.memoizedState!==null&&ee(Ne,e);var t=le.current,a=em(t,e.type);t!==a&&(ee(de,e),ee(le,a))}function ha(e){de.current===e&&(Q(le),Q(de)),Ne.current===e&&(Q(Ne),$s._currentValue=te)}var Kn,gl;function xa(e){if(Kn===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Kn=t&&t[1]||"",gl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kn+e+gl}var pa=!1;function $n(e,t){if(!e||pa)return"";pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(U){var I=U}Reflect.construct(e,[],K)}else{try{K.call()}catch(U){I=U}e.call(K.prototype)}}else{try{throw Error()}catch(U){I=U}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),c=i[0],u=i[1];if(c&&u){var p=c.split(`
`),R=u.split(`
`);for(s=n=0;n<p.length&&!p[n].includes("DetermineComponentFrameRoot");)n++;for(;s<R.length&&!R[s].includes("DetermineComponentFrameRoot");)s++;if(n===p.length||s===R.length)for(n=p.length-1,s=R.length-1;1<=n&&0<=s&&p[n]!==R[s];)s--;for(;1<=n&&0<=s;n--,s--)if(p[n]!==R[s]){if(n!==1||s!==1)do if(n--,s--,0>s||p[n]!==R[s]){var q=`
`+p[n].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=n&&0<=s);break}}}finally{pa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?xa(a):""}function li(e,t){switch(e.tag){case 26:case 27:case 5:return xa(e.type);case 16:return xa("Lazy");case 13:return e.child!==t&&t!==null?xa("Suspense Fallback"):xa("Suspense");case 19:return xa("SuspenseList");case 0:case 15:return $n(e.type,!1);case 11:return $n(e.type.render,!1);case 1:return $n(e.type,!0);case 31:return xa("Activity");default:return""}}function ni(e){try{var t="",a=null;do t+=li(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Ql=Object.prototype.hasOwnProperty,Fn=o.unstable_scheduleCallback,Kl=o.unstable_cancelCallback,Ro=o.unstable_shouldYield,Jn=o.unstable_requestPaint,jt=o.unstable_now,Wn=o.unstable_getCurrentPriorityLevel,si=o.unstable_ImmediatePriority,$l=o.unstable_UserBlockingPriority,Fl=o.unstable_NormalPriority,Jl=o.unstable_LowPriority,ii=o.unstable_IdlePriority,Pn=o.log,ko=o.unstable_setDisableYieldValue,ga=null,Ze=null;function Gt(e){if(typeof Pn=="function"&&ko(e),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(ga,e)}catch{}}var it=Math.clz32?Math.clz32:Wl,es=Math.log,Io=Math.LN2;function Wl(e){return e>>>=0,e===0?32:31-(es(e)/Io|0)|0}var Pl=256,va=262144,qa=4194304;function ba(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Va(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var u=n&134217727;return u!==0?(n=u&~i,n!==0?s=ba(n):(c&=u,c!==0?s=ba(c):a||(a=u&~e,a!==0&&(s=ba(a))))):(u=n&~i,u!==0?s=ba(u):c!==0?s=ba(c):a||(a=n&~e,a!==0&&(s=ba(a)))),s===0?0:t!==0&&t!==s&&(t&i)===0&&(i=s&-s,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:s}function vl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bl(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function en(){var e=qa;return qa<<=1,(qa&62914560)===0&&(qa=4194304),e}function Ot(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ja(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uo(e,t,a,n,s,i){var c=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var u=e.entanglements,p=e.expirationTimes,R=e.hiddenUpdates;for(a=c&~a;0<a;){var q=31-it(a),K=1<<q;u[q]=0,p[q]=-1;var I=R[q];if(I!==null)for(R[q]=null,q=0;q<I.length;q++){var U=I[q];U!==null&&(U.lane&=-536870913)}a&=~K}n!==0&&tn(e,n,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function tn(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-it(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function an(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-it(a),s=1<<n;s&t|e[n]&t&&(e[n]|=t),a&=~s}}function Na(e,t){var a=t&-t;return a=(a&42)!==0?1:jl(a),(a&(e.suspendedLanes|t))!==0?0:a}function jl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ln(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ts(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:Sm(e.type))}function as(e,t){var a=O.p;try{return O.p=e,t()}finally{O.p=a}}var zt=Math.random().toString(36).slice(2),We="__reactFiber$"+zt,rt="__reactProps$"+zt,Nt="__reactContainer$"+zt,ut="__reactEvents$"+zt,nn="__reactListeners$"+zt,ya="__reactHandles$"+zt,oi="__reactResources$"+zt,Za="__reactMarker$"+zt;function ls(e){delete e[We],delete e[rt],delete e[ut],delete e[nn],delete e[ya]}function Wt(e){var t=e[We];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Nt]||a[We]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=om(e);e!==null;){if(a=e[We])return a;e=om(e)}return t}e=a,a=e.parentNode}return null}function Pt(e){if(e=e[We]||e[Nt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Nl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Sa(e){var t=e[oi];return t||(t=e[oi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Pe(e){e[Za]=!0}var yl=new Set,Sl={};function wa(e,t){Ea(e,t),Ea(e+"Capture",t)}function Ea(e,t){for(Sl[e]=t,e=0;e<t.length;e++)yl.add(t[e])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ci={},sn={};function ri(e){return Ql.call(sn,e)?!0:Ql.call(ci,e)?!1:Ho.test(e)?sn[e]=!0:(ci[e]=!0,!1)}function on(e,t,a){if(ri(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function wl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ea(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ui(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function di(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){a=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ns(e){if(!e._valueTracker){var t=ui(e)?"checked":"value";e._valueTracker=di(e,t,""+e[t])}}function mi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=ui(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bo=/[\n"\\]/g;function pt(e){return e.replace(Bo,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ss(e,t,a,n,s,i,c,u){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+yt(t)):e.value!==""+yt(t)&&(e.value=""+yt(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?is(e,c,yt(t)):a!=null?is(e,c,yt(a)):n!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+yt(u):e.removeAttribute("name")}function cn(e,t,a,n,s,i,c,u){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){ns(e);return}a=a!=null?""+yt(a):"",t=t!=null?""+yt(t):a,u||t===e.value||(e.value=t),e.defaultValue=t}n=n??s,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=u?e.checked:!!n,e.defaultChecked=!!n,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),ns(e)}function is(e,t,a){t==="number"&&Xa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ia(e,t,a,n){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&n&&(e[a].defaultSelected=!0)}else{for(a=""+yt(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function fi(e,t,a){if(t!=null&&(t=""+yt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+yt(a):""}function hi(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(r(92));if(ae(n)){if(1<n.length)throw Error(r(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=yt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),ns(e)}function re(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Go=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xi(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Go.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function pi(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&a[s]!==n&&xi(e,s,n)}else for(var i in t)t.hasOwnProperty(i)&&xi(e,i,t[i])}function os(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(e){return gi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function St(){}var cs=null;function oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yt=null,Tt=null;function vi(e){var t=Pt(e);if(t&&(e=t.stateNode)){var a=e[rt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ss(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var s=n[rt]||null;if(!s)throw Error(r(90));ss(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&mi(n)}break e;case"textarea":fi(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ia(e,!!a.multiple,t,!1)}}}var rn=!1;function ta(e,t,a){if(rn)return e(t,a);rn=!0;try{var n=e(t);return n}finally{if(rn=!1,(Yt!==null||Tt!==null)&&(co(),Yt&&(t=Yt,e=Tt,Tt=Yt=null,vi(t),e)))for(t=0;t<e.length;t++)vi(e[t])}}function Ye(e,t){var a=e.stateNode;if(a===null)return null;var n=a[rt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rs=!1;if(qt)try{var El={};Object.defineProperty(El,"passive",{get:function(){rs=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{rs=!1}var ca=null,us=null,un=null;function bi(){if(un)return un;var e,t=us,a=t.length,n,s="value"in ca?ca.value:ca.textContent,i=s.length;for(e=0;e<a&&t[e]===s[e];e++);var c=a-e;for(n=1;n<=c&&t[a-n]===s[i-n];n++);return un=s.slice(e,1<n?1-n:void 0)}function dn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mn(){return!0}function ds(){return!1}function gt(e){function t(a,n,s,i,c){this._reactName=a,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(a=e[u],this[u]=a?a(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mn:ds,this.isPropagationStopped=ds,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),t}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=gt(Ca),Tl=_({},Ca,{view:0,detail:0}),qo=gt(Tl),ms,fs,Cl,hn=_({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cl&&(Cl&&e.type==="mousemove"?(ms=e.screenX-Cl.screenX,fs=e.screenY-Cl.screenY):fs=ms=0,Cl=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:fs}}),ji=gt(hn),Vo=_({},hn,{dataTransfer:0}),Zo=gt(Vo),Xo=_({},Tl,{relatedTarget:0}),hs=gt(Xo),Qo=_({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=gt(Qo),$o=_({},Ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fo=gt($o),Jo=_({},Ca,{data:0}),Ni=gt(Jo),Wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ec[e])?!!t[e]:!1}function xs(){return tc}var ac=_({},Tl,{key:function(e){if(e.key){var t=Wo[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Po[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(e){return e.type==="keypress"?dn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lc=gt(ac),nc=_({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yi=gt(nc),sc=_({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),ic=gt(sc),oc=_({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),cc=gt(oc),ps=_({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rc=gt(ps),uc=_({},Ca,{newState:0,oldState:0}),dc=gt(uc),mc=[9,13,27,32],_l=qt&&"CompositionEvent"in window,Al=null;qt&&"documentMode"in document&&(Al=document.documentMode);var fc=qt&&"TextEvent"in window&&!Al,Si=qt&&(!_l||Al&&8<Al&&11>=Al),gs=" ",wi=!1;function xn(e,t){switch(e){case"keyup":return mc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function pn(e,t){switch(e){case"compositionend":return Xe(t);case"keypress":return t.which!==32?null:(wi=!0,gs);case"textInput":return e=t.data,e===gs&&wi?null:e;default:return null}}function gn(e,t){if(aa)return e==="compositionend"||!_l&&xn(e,t)?(e=bi(),un=us=ca=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Si&&t.locale!=="ko"?null:t.data;default:return null}}var hc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ei(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hc[e.type]:t==="textarea"}function Ti(e,t,a,n){Yt?Tt?Tt.push(n):Tt=[n]:Yt=n,t=po(t,"onChange"),0<t.length&&(a=new fn("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Qa=null,j=null;function C(e){Q0(e,0)}function T(e){var t=Nl(e);if(mi(t))return e}function w(e,t){if(e==="change")return t}var W=!1;if(qt){var je;if(qt){var Ce="oninput"in document;if(!Ce){var $e=document.createElement("div");$e.setAttribute("oninput","return;"),Ce=typeof $e.oninput=="function"}je=Ce}else je=!1;W=je&&(!document.documentMode||9<document.documentMode)}function wt(){Qa&&(Qa.detachEvent("onpropertychange",et),j=Qa=null)}function et(e){if(e.propertyName==="value"&&T(j)){var t=[];Ti(t,j,e,oa(e)),ta(C,t)}}function Lt(e,t,a){e==="focusin"?(wt(),Qa=t,j=a,Qa.attachEvent("onpropertychange",et)):e==="focusout"&&wt()}function vs(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return T(j)}function xc(e,t){if(e==="click")return T(t)}function Ci(e,t){if(e==="input"||e==="change")return T(t)}function pc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:pc;function Dl(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var s=a[n];if(!Ql.call(t,s)||!vt(e[s],t[s]))return!1}return!0}function bs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vu(e,t){var a=bs(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=bs(a)}}function bu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ju(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Xa(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Xa(e.document)}return t}function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var gh=qt&&"documentMode"in document&&11>=document.documentMode,vn=null,vc=null,js=null,bc=!1;function Nu(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bc||vn==null||vn!==Xa(n)||(n=vn,"selectionStart"in n&&gc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),js&&Dl(js,n)||(js=n,n=po(vc,"onSelect"),0<n.length&&(t=new fn("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=vn)))}function Ml(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var bn={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionrun:Ml("Transition","TransitionRun"),transitionstart:Ml("Transition","TransitionStart"),transitioncancel:Ml("Transition","TransitionCancel"),transitionend:Ml("Transition","TransitionEnd")},jc={},yu={};qt&&(yu=document.createElement("div").style,"AnimationEvent"in window||(delete bn.animationend.animation,delete bn.animationiteration.animation,delete bn.animationstart.animation),"TransitionEvent"in window||delete bn.transitionend.transition);function Ol(e){if(jc[e])return jc[e];if(!bn[e])return e;var t=bn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in yu)return jc[e]=t[a];return e}var Su=Ol("animationend"),wu=Ol("animationiteration"),Eu=Ol("animationstart"),vh=Ol("transitionrun"),bh=Ol("transitionstart"),jh=Ol("transitioncancel"),Tu=Ol("transitionend"),Cu=new Map,Nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nc.push("scrollEnd");function la(e,t){Cu.set(e,t),wa(t,[e])}var _i=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],jn=0,yc=0;function Ai(){for(var e=jn,t=yc=jn=0;t<e;){var a=Vt[t];Vt[t++]=null;var n=Vt[t];Vt[t++]=null;var s=Vt[t];Vt[t++]=null;var i=Vt[t];if(Vt[t++]=null,n!==null&&s!==null){var c=n.pending;c===null?s.next=s:(s.next=c.next,c.next=s),n.pending=s}i!==0&&_u(a,s,i)}}function Di(e,t,a,n){Vt[jn++]=e,Vt[jn++]=t,Vt[jn++]=a,Vt[jn++]=n,yc|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Sc(e,t,a,n){return Di(e,t,a,n),Mi(e)}function zl(e,t){return Di(e,null,null,t),Mi(e)}function _u(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var s=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-it(a),e=i.hiddenUpdates,n=e[s],n===null?e[s]=[t]:n.push(t),t.lane=a|536870912),i):null}function Mi(e){if(50<Ys)throw Ys=0,Or=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Nn={};function Nh(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,a,n){return new Nh(e,t,a,n)}function wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _a(e,t){var a=e.alternate;return a===null?(a=Rt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Au(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Oi(e,t,a,n,s,i){var c=0;if(n=e,typeof e=="function")wc(e)&&(c=1);else if(typeof e=="string")c=Tx(e,a,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=Rt(31,a,t,s),e.elementType=P,e.lanes=i,e;case V:return Ll(a.children,s,i,t);case J:c=8,s|=24;break;case A:return e=Rt(12,a,t,s|2),e.elementType=A,e.lanes=i,e;case Y:return e=Rt(13,a,t,s),e.elementType=Y,e.lanes=i,e;case F:return e=Rt(19,a,t,s),e.elementType=F,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:c=10;break e;case Z:c=9;break e;case k:c=11;break e;case $:c=14;break e;case ce:c=16,n=null;break e}c=29,a=Error(r(130,e===null?"null":typeof e,"")),n=null}return t=Rt(c,a,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ll(e,t,a,n){return e=Rt(7,e,n,t),e.lanes=a,e}function Ec(e,t,a){return e=Rt(6,e,null,t),e.lanes=a,e}function Du(e){var t=Rt(18,null,null,0);return t.stateNode=e,t}function Tc(e,t,a){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Mu=new WeakMap;function Zt(e,t){if(typeof e=="object"&&e!==null){var a=Mu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ni(t)},Mu.set(e,t),t)}return{value:e,source:t,stack:ni(t)}}var yn=[],Sn=0,zi=null,Ns=0,Xt=[],Qt=0,Ka=null,ra=1,ua="";function Aa(e,t){yn[Sn++]=Ns,yn[Sn++]=zi,zi=e,Ns=t}function Ou(e,t,a){Xt[Qt++]=ra,Xt[Qt++]=ua,Xt[Qt++]=Ka,Ka=e;var n=ra;e=ua;var s=32-it(n)-1;n&=~(1<<s),a+=1;var i=32-it(t)+s;if(30<i){var c=s-s%5;i=(n&(1<<c)-1).toString(32),n>>=c,s-=c,ra=1<<32-it(t)+s|a<<s|n,ua=i+e}else ra=1<<i|a<<s|n,ua=e}function Cc(e){e.return!==null&&(Aa(e,1),Ou(e,1,0))}function _c(e){for(;e===zi;)zi=yn[--Sn],yn[Sn]=null,Ns=yn[--Sn],yn[Sn]=null;for(;e===Ka;)Ka=Xt[--Qt],Xt[Qt]=null,ua=Xt[--Qt],Xt[Qt]=null,ra=Xt[--Qt],Xt[Qt]=null}function zu(e,t){Xt[Qt++]=ra,Xt[Qt++]=ua,Xt[Qt++]=Ka,ra=t.id,ua=t.overflow,Ka=e}var dt=null,Be=null,_e=!1,$a=null,Kt=!1,Ac=Error(r(519));function Fa(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ys(Zt(t,e)),Ac}function Lu(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[We]=e,t[rt]=n,a){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(a=0;a<Vs.length;a++)Se(Vs[a],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),cn(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),hi(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||J0(t.textContent,a)?(n.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),n.onScroll!=null&&Se("scroll",t),n.onScrollEnd!=null&&Se("scrollend",t),n.onClick!=null&&(t.onclick=St),t=!0):t=!1,t||Fa(e,!0)}function Ru(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:dt=dt.return}}function wn(e){if(e!==dt)return!1;if(!_e)return Ru(e),_e=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Qr(e.type,e.memoizedProps)),a=!a),a&&Be&&Fa(e),Ru(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Be=im(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Be=im(e)}else t===27?(t=Be,ul(e.type)?(e=Wr,Wr=null,Be=e):Be=t):Be=dt?Ft(e.stateNode.nextSibling):null;return!0}function Rl(){Be=dt=null,_e=!1}function Dc(){var e=$a;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),$a=null),e}function ys(e){$a===null?$a=[e]:$a.push(e)}var Mc=b(null),kl=null,Da=null;function Ja(e,t,a){ee(Mc,t._currentValue),t._currentValue=a}function Ma(e){e._currentValue=Mc.current,Q(Mc)}function Oc(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function zc(e,t,a,n){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var c=s.child;i=i.firstContext;e:for(;i!==null;){var u=i;i=s;for(var p=0;p<t.length;p++)if(u.context===t[p]){i.lanes|=a,u=i.alternate,u!==null&&(u.lanes|=a),Oc(i.return,a,e),n||(c=null);break e}i=u.next}}else if(s.tag===18){if(c=s.return,c===null)throw Error(r(341));c.lanes|=a,i=c.alternate,i!==null&&(i.lanes|=a),Oc(c,a,e),c=null}else c=s.child;if(c!==null)c.return=s;else for(c=s;c!==null;){if(c===e){c=null;break}if(s=c.sibling,s!==null){s.return=c.return,c=s;break}c=c.return}s=c}}function En(e,t,a,n){e=null;for(var s=t,i=!1;s!==null;){if(!i){if((s.flags&524288)!==0)i=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var c=s.alternate;if(c===null)throw Error(r(387));if(c=c.memoizedProps,c!==null){var u=s.type;vt(s.pendingProps.value,c.value)||(e!==null?e.push(u):e=[u])}}else if(s===Ne.current){if(c=s.alternate,c===null)throw Error(r(387));c.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push($s):e=[$s])}s=s.return}e!==null&&zc(t,e,a,n),t.flags|=262144}function Li(e){for(e=e.firstContext;e!==null;){if(!vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Il(e){kl=e,Da=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return ku(kl,e)}function Ri(e,t){return kl===null&&Il(e),ku(e,t)}function ku(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Da===null){if(e===null)throw Error(r(308));Da=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Da=Da.next=t;return a}var yh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Sh=o.unstable_scheduleCallback,wh=o.unstable_NormalPriority,tt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new yh,data:new Map,refCount:0}}function Ss(e){e.refCount--,e.refCount===0&&Sh(wh,function(){e.controller.abort()})}var ws=null,Rc=0,Tn=0,Cn=null;function Eh(e,t){if(ws===null){var a=ws=[];Rc=0,Tn=Ur(),Cn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Rc++,t.then(Iu,Iu),t}function Iu(){if(--Rc===0&&ws!==null){Cn!==null&&(Cn.status="fulfilled");var e=ws;ws=null,Tn=0,Cn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Th(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(n.status="rejected",n.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),n}var Uu=E.S;E.S=function(e,t){N0=jt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Eh(e,t),Uu!==null&&Uu(e,t)};var Ul=b(null);function kc(){var e=Ul.current;return e!==null?e:Ie.pooledCache}function ki(e,t){t===null?ee(Ul,Ul.current):ee(Ul,t.pool)}function Hu(){var e=kc();return e===null?null:{parent:tt._currentValue,pool:e}}var _n=Error(r(460)),Ic=Error(r(474)),Ii=Error(r(542)),Ui={then:function(){}};function Bu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(St,St),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qu(e),e;default:if(typeof t.status=="string")t.then(St,St);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=n}},function(n){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qu(e),e}throw Bl=t,_n}}function Hl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bl=a,_n):a}}var Bl=null;function Yu(){if(Bl===null)throw Error(r(459));var e=Bl;return Bl=null,e}function qu(e){if(e===_n||e===Ii)throw Error(r(483))}var An=null,Es=0;function Hi(e){var t=Es;return Es+=1,An===null&&(An=[]),Gu(An,e,t)}function Ts(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Bi(e,t){throw t.$$typeof===M?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Vu(e){function t(D,y){if(e){var L=D.deletions;L===null?(D.deletions=[y],D.flags|=16):L.push(y)}}function a(D,y){if(!e)return null;for(;y!==null;)t(D,y),y=y.sibling;return null}function n(D){for(var y=new Map;D!==null;)D.key!==null?y.set(D.key,D):y.set(D.index,D),D=D.sibling;return y}function s(D,y){return D=_a(D,y),D.index=0,D.sibling=null,D}function i(D,y,L){return D.index=L,e?(L=D.alternate,L!==null?(L=L.index,L<y?(D.flags|=67108866,y):L):(D.flags|=67108866,y)):(D.flags|=1048576,y)}function c(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function u(D,y,L,X){return y===null||y.tag!==6?(y=Ec(L,D.mode,X),y.return=D,y):(y=s(y,L),y.return=D,y)}function p(D,y,L,X){var ue=L.type;return ue===V?q(D,y,L.props.children,X,L.key):y!==null&&(y.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ce&&Hl(ue)===y.type)?(y=s(y,L.props),Ts(y,L),y.return=D,y):(y=Oi(L.type,L.key,L.props,null,D.mode,X),Ts(y,L),y.return=D,y)}function R(D,y,L,X){return y===null||y.tag!==4||y.stateNode.containerInfo!==L.containerInfo||y.stateNode.implementation!==L.implementation?(y=Tc(L,D.mode,X),y.return=D,y):(y=s(y,L.children||[]),y.return=D,y)}function q(D,y,L,X,ue){return y===null||y.tag!==7?(y=Ll(L,D.mode,X,ue),y.return=D,y):(y=s(y,L),y.return=D,y)}function K(D,y,L){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Ec(""+y,D.mode,L),y.return=D,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case H:return L=Oi(y.type,y.key,y.props,null,D.mode,L),Ts(L,y),L.return=D,L;case B:return y=Tc(y,D.mode,L),y.return=D,y;case ce:return y=Hl(y),K(D,y,L)}if(ae(y)||ie(y))return y=Ll(y,D.mode,L,null),y.return=D,y;if(typeof y.then=="function")return K(D,Hi(y),L);if(y.$$typeof===G)return K(D,Ri(D,y),L);Bi(D,y)}return null}function I(D,y,L,X){var ue=y!==null?y.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ue!==null?null:u(D,y,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===ue?p(D,y,L,X):null;case B:return L.key===ue?R(D,y,L,X):null;case ce:return L=Hl(L),I(D,y,L,X)}if(ae(L)||ie(L))return ue!==null?null:q(D,y,L,X,null);if(typeof L.then=="function")return I(D,y,Hi(L),X);if(L.$$typeof===G)return I(D,y,Ri(D,L),X);Bi(D,L)}return null}function U(D,y,L,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return D=D.get(L)||null,u(y,D,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case H:return D=D.get(X.key===null?L:X.key)||null,p(y,D,X,ue);case B:return D=D.get(X.key===null?L:X.key)||null,R(y,D,X,ue);case ce:return X=Hl(X),U(D,y,L,X,ue)}if(ae(X)||ie(X))return D=D.get(L)||null,q(y,D,X,ue,null);if(typeof X.then=="function")return U(D,y,L,Hi(X),ue);if(X.$$typeof===G)return U(D,y,L,Ri(y,X),ue);Bi(y,X)}return null}function ne(D,y,L,X){for(var ue=null,Ae=null,oe=y,be=y=0,Te=null;oe!==null&&be<L.length;be++){oe.index>be?(Te=oe,oe=null):Te=oe.sibling;var De=I(D,oe,L[be],X);if(De===null){oe===null&&(oe=Te);break}e&&oe&&De.alternate===null&&t(D,oe),y=i(De,y,be),Ae===null?ue=De:Ae.sibling=De,Ae=De,oe=Te}if(be===L.length)return a(D,oe),_e&&Aa(D,be),ue;if(oe===null){for(;be<L.length;be++)oe=K(D,L[be],X),oe!==null&&(y=i(oe,y,be),Ae===null?ue=oe:Ae.sibling=oe,Ae=oe);return _e&&Aa(D,be),ue}for(oe=n(oe);be<L.length;be++)Te=U(oe,D,be,L[be],X),Te!==null&&(e&&Te.alternate!==null&&oe.delete(Te.key===null?be:Te.key),y=i(Te,y,be),Ae===null?ue=Te:Ae.sibling=Te,Ae=Te);return e&&oe.forEach(function(xl){return t(D,xl)}),_e&&Aa(D,be),ue}function me(D,y,L,X){if(L==null)throw Error(r(151));for(var ue=null,Ae=null,oe=y,be=y=0,Te=null,De=L.next();oe!==null&&!De.done;be++,De=L.next()){oe.index>be?(Te=oe,oe=null):Te=oe.sibling;var xl=I(D,oe,De.value,X);if(xl===null){oe===null&&(oe=Te);break}e&&oe&&xl.alternate===null&&t(D,oe),y=i(xl,y,be),Ae===null?ue=xl:Ae.sibling=xl,Ae=xl,oe=Te}if(De.done)return a(D,oe),_e&&Aa(D,be),ue;if(oe===null){for(;!De.done;be++,De=L.next())De=K(D,De.value,X),De!==null&&(y=i(De,y,be),Ae===null?ue=De:Ae.sibling=De,Ae=De);return _e&&Aa(D,be),ue}for(oe=n(oe);!De.done;be++,De=L.next())De=U(oe,D,be,De.value,X),De!==null&&(e&&De.alternate!==null&&oe.delete(De.key===null?be:De.key),y=i(De,y,be),Ae===null?ue=De:Ae.sibling=De,Ae=De);return e&&oe.forEach(function(Ix){return t(D,Ix)}),_e&&Aa(D,be),ue}function ke(D,y,L,X){if(typeof L=="object"&&L!==null&&L.type===V&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:e:{for(var ue=L.key;y!==null;){if(y.key===ue){if(ue=L.type,ue===V){if(y.tag===7){a(D,y.sibling),X=s(y,L.props.children),X.return=D,D=X;break e}}else if(y.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ce&&Hl(ue)===y.type){a(D,y.sibling),X=s(y,L.props),Ts(X,L),X.return=D,D=X;break e}a(D,y);break}else t(D,y);y=y.sibling}L.type===V?(X=Ll(L.props.children,D.mode,X,L.key),X.return=D,D=X):(X=Oi(L.type,L.key,L.props,null,D.mode,X),Ts(X,L),X.return=D,D=X)}return c(D);case B:e:{for(ue=L.key;y!==null;){if(y.key===ue)if(y.tag===4&&y.stateNode.containerInfo===L.containerInfo&&y.stateNode.implementation===L.implementation){a(D,y.sibling),X=s(y,L.children||[]),X.return=D,D=X;break e}else{a(D,y);break}else t(D,y);y=y.sibling}X=Tc(L,D.mode,X),X.return=D,D=X}return c(D);case ce:return L=Hl(L),ke(D,y,L,X)}if(ae(L))return ne(D,y,L,X);if(ie(L)){if(ue=ie(L),typeof ue!="function")throw Error(r(150));return L=ue.call(L),me(D,y,L,X)}if(typeof L.then=="function")return ke(D,y,Hi(L),X);if(L.$$typeof===G)return ke(D,y,Ri(D,L),X);Bi(D,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,y!==null&&y.tag===6?(a(D,y.sibling),X=s(y,L),X.return=D,D=X):(a(D,y),X=Ec(L,D.mode,X),X.return=D,D=X),c(D)):a(D,y)}return function(D,y,L,X){try{Es=0;var ue=ke(D,y,L,X);return An=null,ue}catch(oe){if(oe===_n||oe===Ii)throw oe;var Ae=Rt(29,oe,null,D.mode);return Ae.lanes=X,Ae.return=D,Ae}finally{}}}var Gl=Vu(!0),Zu=Vu(!1),Wa=!1;function Uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function el(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Me&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=Mi(e),_u(e,null,a),t}return Di(e,n,t,a),Mi(e)}function Cs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,an(e,a)}}function Bc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var s=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var c={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?s=i=c:i=i.next=c,a=a.next}while(a!==null);i===null?s=i=t:i=i.next=t}else s=i=t;a={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Gc=!1;function _s(){if(Gc){var e=Cn;if(e!==null)throw e}}function As(e,t,a,n){Gc=!1;var s=e.updateQueue;Wa=!1;var i=s.firstBaseUpdate,c=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var p=u,R=p.next;p.next=null,c===null?i=R:c.next=R,c=p;var q=e.alternate;q!==null&&(q=q.updateQueue,u=q.lastBaseUpdate,u!==c&&(u===null?q.firstBaseUpdate=R:u.next=R,q.lastBaseUpdate=p))}if(i!==null){var K=s.baseState;c=0,q=R=p=null,u=i;do{var I=u.lane&-536870913,U=I!==u.lane;if(U?(Ee&I)===I:(n&I)===I){I!==0&&I===Tn&&(Gc=!0),q!==null&&(q=q.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var ne=e,me=u;I=t;var ke=a;switch(me.tag){case 1:if(ne=me.payload,typeof ne=="function"){K=ne.call(ke,K,I);break e}K=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=me.payload,I=typeof ne=="function"?ne.call(ke,K,I):ne,I==null)break e;K=_({},K,I);break e;case 2:Wa=!0}}I=u.callback,I!==null&&(e.flags|=64,U&&(e.flags|=8192),U=s.callbacks,U===null?s.callbacks=[I]:U.push(I))}else U={lane:I,tag:u.tag,payload:u.payload,callback:u.callback,next:null},q===null?(R=q=U,p=K):q=q.next=U,c|=I;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;U=u,u=U.next,U.next=null,s.lastBaseUpdate=U,s.shared.pending=null}}while(!0);q===null&&(p=K),s.baseState=p,s.firstBaseUpdate=R,s.lastBaseUpdate=q,i===null&&(s.shared.lanes=0),sl|=c,e.lanes=c,e.memoizedState=K}}function Xu(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Qu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Xu(a[e],t)}var Dn=b(null),Gi=b(0);function Ku(e,t){e=Ba,ee(Gi,e),ee(Dn,t),Ba=e|t.baseLanes}function Yc(){ee(Gi,Ba),ee(Dn,Dn.current)}function qc(){Ba=Gi.current,Q(Dn),Q(Gi)}var kt=b(null),$t=null;function tl(e){var t=e.alternate;ee(Fe,Fe.current&1),ee(kt,e),$t===null&&(t===null||Dn.current!==null||t.memoizedState!==null)&&($t=e)}function Vc(e){ee(Fe,Fe.current),ee(kt,e),$t===null&&($t=e)}function $u(e){e.tag===22?(ee(Fe,Fe.current),ee(kt,e),$t===null&&($t=e)):al()}function al(){ee(Fe,Fe.current),ee(kt,kt.current)}function It(e){Q(kt),$t===e&&($t=null),Q(Fe)}var Fe=b(0);function Yi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fr(a)||Jr(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oa=0,ve=null,Le=null,at=null,qi=!1,Mn=!1,Yl=!1,Vi=0,Ds=0,On=null,Ch=0;function Qe(){throw Error(r(321))}function Zc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!vt(e[a],t[a]))return!1;return!0}function Xc(e,t,a,n,s,i){return Oa=i,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?Od:or,Yl=!1,i=a(n,s),Yl=!1,Mn&&(i=Ju(t,a,n,s)),Fu(e),i}function Fu(e){E.H=zs;var t=Le!==null&&Le.next!==null;if(Oa=0,at=Le=ve=null,qi=!1,Ds=0,On=null,t)throw Error(r(300));e===null||lt||(e=e.dependencies,e!==null&&Li(e)&&(lt=!0))}function Ju(e,t,a,n){ve=e;var s=0;do{if(Mn&&(On=null),Ds=0,Mn=!1,25<=s)throw Error(r(301));if(s+=1,at=Le=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}E.H=zd,i=t(a,n)}while(Mn);return i}function _h(){var e=E.H,t=e.useState()[0];return t=typeof t.then=="function"?Ms(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(ve.flags|=1024),t}function Qc(){var e=Vi!==0;return Vi=0,e}function Kc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function $c(e){if(qi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}qi=!1}Oa=0,at=Le=ve=null,Mn=!1,Ds=Vi=0,On=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ve.memoizedState=at=e:at=at.next=e,at}function Je(){if(Le===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=at===null?ve.memoizedState:at.next;if(t!==null)at=t,Le=e;else{if(e===null)throw ve.alternate===null?Error(r(467)):Error(r(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},at===null?ve.memoizedState=at=e:at=at.next=e}return at}function Zi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ms(e){var t=Ds;return Ds+=1,On===null&&(On=[]),e=Gu(On,e,t),t=ve,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?Od:or),e}function Xi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ms(e);if(e.$$typeof===G)return mt(e)}throw Error(r(438,String(e)))}function Fc(e){var t=null,a=ve.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=ve.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Zi(),ve.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=we;return t.index++,a}function za(e,t){return typeof t=="function"?t(e):t}function Qi(e){var t=Je();return Jc(t,Le,e)}function Jc(e,t,a){var n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=a;var s=e.baseQueue,i=n.pending;if(i!==null){if(s!==null){var c=s.next;s.next=i.next,i.next=c}t.baseQueue=s=i,n.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var u=c=null,p=null,R=t,q=!1;do{var K=R.lane&-536870913;if(K!==R.lane?(Ee&K)===K:(Oa&K)===K){var I=R.revertLane;if(I===0)p!==null&&(p=p.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),K===Tn&&(q=!0);else if((Oa&I)===I){R=R.next,I===Tn&&(q=!0);continue}else K={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},p===null?(u=p=K,c=i):p=p.next=K,ve.lanes|=I,sl|=I;K=R.action,Yl&&a(i,K),i=R.hasEagerState?R.eagerState:a(i,K)}else I={lane:K,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},p===null?(u=p=I,c=i):p=p.next=I,ve.lanes|=K,sl|=K;R=R.next}while(R!==null&&R!==t);if(p===null?c=i:p.next=u,!vt(i,e.memoizedState)&&(lt=!0,q&&(a=Cn,a!==null)))throw a;e.memoizedState=i,e.baseState=c,e.baseQueue=p,n.lastRenderedState=i}return s===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Wc(e){var t=Je(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var n=a.dispatch,s=a.pending,i=t.memoizedState;if(s!==null){a.pending=null;var c=s=s.next;do i=e(i,c.action),c=c.next;while(c!==s);vt(i,t.memoizedState)||(lt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function Wu(e,t,a){var n=ve,s=Je(),i=_e;if(i){if(a===void 0)throw Error(r(407));a=a()}else a=t();var c=!vt((Le||s).memoizedState,a);if(c&&(s.memoizedState=a,lt=!0),s=s.queue,tr(td.bind(null,n,s,e),[e]),s.getSnapshot!==t||c||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,zn(9,{destroy:void 0},ed.bind(null,n,s,a,t),null),Ie===null)throw Error(r(349));i||(Oa&127)!==0||Pu(n,t,a)}return a}function Pu(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ve.updateQueue,t===null?(t=Zi(),ve.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ed(e,t,a,n){t.value=a,t.getSnapshot=n,ad(t)&&ld(e)}function td(e,t,a){return a(function(){ad(t)&&ld(e)})}function ad(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!vt(e,a)}catch{return!0}}function ld(e){var t=zl(e,2);t!==null&&Mt(t,e,2)}function Pc(e){var t=Et();if(typeof e=="function"){var a=e;if(e=a(),Yl){Gt(!0);try{a()}finally{Gt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:e},t}function nd(e,t,a,n){return e.baseState=a,Jc(e,Le,typeof n=="function"?n:za)}function Ah(e,t,a,n,s){if(Fi(e))throw Error(r(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};E.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,sd(t,i)):(i.next=a.next,t.pending=a.next=i)}}function sd(e,t){var a=t.action,n=t.payload,s=e.state;if(t.isTransition){var i=E.T,c={};E.T=c;try{var u=a(s,n),p=E.S;p!==null&&p(c,u),id(e,t,u)}catch(R){er(e,t,R)}finally{i!==null&&c.types!==null&&(i.types=c.types),E.T=i}}else try{i=a(s,n),id(e,t,i)}catch(R){er(e,t,R)}}function id(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){od(e,t,n)},function(n){return er(e,t,n)}):od(e,t,a)}function od(e,t,a){t.status="fulfilled",t.value=a,cd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,sd(e,a)))}function er(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,cd(t),t=t.next;while(t!==n)}e.action=null}function cd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function rd(e,t){return t}function ud(e,t){if(_e){var a=Ie.formState;if(a!==null){e:{var n=ve;if(_e){if(Be){t:{for(var s=Be,i=Kt;s.nodeType!==8;){if(!i){s=null;break t}if(s=Ft(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Be=Ft(s.nextSibling),n=s.data==="F!";break e}}Fa(n)}n=!1}n&&(t=a[0])}}return a=Et(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:t},a.queue=n,a=Ad.bind(null,ve,n),n.dispatch=a,n=Pc(!1),i=ir.bind(null,ve,!1,n.queue),n=Et(),s={state:t,dispatch:null,action:e,pending:null},n.queue=s,a=Ah.bind(null,ve,s,i,a),s.dispatch=a,n.memoizedState=e,[t,a,!1]}function dd(e){var t=Je();return md(t,Le,e)}function md(e,t,a){if(t=Jc(e,t,rd)[0],e=Qi(za)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Ms(t)}catch(c){throw c===_n?Ii:c}else n=t;t=Je();var s=t.queue,i=s.dispatch;return a!==t.memoizedState&&(ve.flags|=2048,zn(9,{destroy:void 0},Dh.bind(null,s,a),null)),[n,i,e]}function Dh(e,t){e.action=t}function fd(e){var t=Je(),a=Le;if(a!==null)return md(t,a,e);Je(),t=t.memoizedState,a=Je();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function zn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=ve.updateQueue,t===null&&(t=Zi(),ve.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function hd(){return Je().memoizedState}function Ki(e,t,a,n){var s=Et();ve.flags|=e,s.memoizedState=zn(1|t,{destroy:void 0},a,n===void 0?null:n)}function $i(e,t,a,n){var s=Je();n=n===void 0?null:n;var i=s.memoizedState.inst;Le!==null&&n!==null&&Zc(n,Le.memoizedState.deps)?s.memoizedState=zn(t,i,a,n):(ve.flags|=e,s.memoizedState=zn(1|t,i,a,n))}function xd(e,t){Ki(8390656,8,e,t)}function tr(e,t){$i(2048,8,e,t)}function Mh(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=Zi(),ve.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function pd(e){var t=Je().memoizedState;return Mh({ref:t,nextImpl:e}),function(){if((Me&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function gd(e,t){return $i(4,2,e,t)}function vd(e,t){return $i(4,4,e,t)}function bd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,a){a=a!=null?a.concat([e]):null,$i(4,4,bd.bind(null,t,e),a)}function ar(){}function Nd(e,t){var a=Je();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Zc(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function yd(e,t){var a=Je();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Zc(t,n[1]))return n[0];if(n=e(),Yl){Gt(!0);try{e()}finally{Gt(!1)}}return a.memoizedState=[n,t],n}function lr(e,t,a){return a===void 0||(Oa&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=S0(),ve.lanes|=e,sl|=e,a)}function Sd(e,t,a,n){return vt(a,t)?a:Dn.current!==null?(e=lr(e,a,n),vt(e,t)||(lt=!0),e):(Oa&42)===0||(Oa&1073741824)!==0&&(Ee&261930)===0?(lt=!0,e.memoizedState=a):(e=S0(),ve.lanes|=e,sl|=e,t)}function wd(e,t,a,n,s){var i=O.p;O.p=i!==0&&8>i?i:8;var c=E.T,u={};E.T=u,ir(e,!1,t,a);try{var p=s(),R=E.S;if(R!==null&&R(u,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var q=Th(p,n);Os(e,t,q,Bt(e))}else Os(e,t,n,Bt(e))}catch(K){Os(e,t,{then:function(){},status:"rejected",reason:K},Bt())}finally{O.p=i,c!==null&&u.types!==null&&(c.types=u.types),E.T=c}}function Oh(){}function nr(e,t,a,n){if(e.tag!==5)throw Error(r(476));var s=Ed(e).queue;wd(e,s,t,te,a===null?Oh:function(){return Td(e),a(n)})}function Ed(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Td(e){var t=Ed(e);t.next===null&&(t=e.alternate.memoizedState),Os(e,t.next.queue,{},Bt())}function sr(){return mt($s)}function Cd(){return Je().memoizedState}function _d(){return Je().memoizedState}function zh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Bt();e=Pa(a);var n=el(t,e,a);n!==null&&(Mt(n,t,a),Cs(n,t,a)),t={cache:Lc()},e.payload=t;return}t=t.return}}function Lh(e,t,a){var n=Bt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fi(e)?Dd(t,a):(a=Sc(e,t,a,n),a!==null&&(Mt(a,e,n),Md(a,t,n)))}function Ad(e,t,a){var n=Bt();Os(e,t,a,n)}function Os(e,t,a,n){var s={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fi(e))Dd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,u=i(c,a);if(s.hasEagerState=!0,s.eagerState=u,vt(u,c))return Di(e,t,s,0),Ie===null&&Ai(),!1}catch{}finally{}if(a=Sc(e,t,s,n),a!==null)return Mt(a,e,n),Md(a,t,n),!0}return!1}function ir(e,t,a,n){if(n={lane:2,revertLane:Ur(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fi(e)){if(t)throw Error(r(479))}else t=Sc(e,a,n,2),t!==null&&Mt(t,e,2)}function Fi(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Dd(e,t){Mn=qi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Md(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,an(e,a)}}var zs={readContext:mt,use:Xi,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};zs.useEffectEvent=Qe;var Od={readContext:mt,use:Xi,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:xd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ki(4194308,4,bd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ki(4194308,4,e,t)},useInsertionEffect:function(e,t){Ki(4,2,e,t)},useMemo:function(e,t){var a=Et();t=t===void 0?null:t;var n=e();if(Yl){Gt(!0);try{e()}finally{Gt(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Et();if(a!==void 0){var s=a(t);if(Yl){Gt(!0);try{a(t)}finally{Gt(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=Lh.bind(null,ve,e),[n.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=Pc(e);var t=e.queue,a=Ad.bind(null,ve,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ar,useDeferredValue:function(e,t){var a=Et();return lr(a,e,t)},useTransition:function(){var e=Pc(!1);return e=wd.bind(null,ve,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=ve,s=Et();if(_e){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ie===null)throw Error(r(349));(Ee&127)!==0||Pu(n,t,a)}s.memoizedState=a;var i={value:a,getSnapshot:t};return s.queue=i,xd(td.bind(null,n,i,e),[e]),n.flags|=2048,zn(9,{destroy:void 0},ed.bind(null,n,i,a,t),null),a},useId:function(){var e=Et(),t=Ie.identifierPrefix;if(_e){var a=ua,n=ra;a=(n&~(1<<32-it(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Vi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Ch++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:sr,useFormState:ud,useActionState:ud,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ir.bind(null,ve,!0,a),a.dispatch=t,[e,t]},useMemoCache:Fc,useCacheRefresh:function(){return Et().memoizedState=zh.bind(null,ve)},useEffectEvent:function(e){var t=Et(),a={impl:e};return t.memoizedState=a,function(){if((Me&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},or={readContext:mt,use:Xi,useCallback:Nd,useContext:mt,useEffect:tr,useImperativeHandle:jd,useInsertionEffect:gd,useLayoutEffect:vd,useMemo:yd,useReducer:Qi,useRef:hd,useState:function(){return Qi(za)},useDebugValue:ar,useDeferredValue:function(e,t){var a=Je();return Sd(a,Le.memoizedState,e,t)},useTransition:function(){var e=Qi(za)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Ms(e),t]},useSyncExternalStore:Wu,useId:Cd,useHostTransitionStatus:sr,useFormState:dd,useActionState:dd,useOptimistic:function(e,t){var a=Je();return nd(a,Le,e,t)},useMemoCache:Fc,useCacheRefresh:_d};or.useEffectEvent=pd;var zd={readContext:mt,use:Xi,useCallback:Nd,useContext:mt,useEffect:tr,useImperativeHandle:jd,useInsertionEffect:gd,useLayoutEffect:vd,useMemo:yd,useReducer:Wc,useRef:hd,useState:function(){return Wc(za)},useDebugValue:ar,useDeferredValue:function(e,t){var a=Je();return Le===null?lr(a,e,t):Sd(a,Le.memoizedState,e,t)},useTransition:function(){var e=Wc(za)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Ms(e),t]},useSyncExternalStore:Wu,useId:Cd,useHostTransitionStatus:sr,useFormState:fd,useActionState:fd,useOptimistic:function(e,t){var a=Je();return Le!==null?nd(a,Le,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fc,useCacheRefresh:_d};zd.useEffectEvent=pd;function cr(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var rr={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Bt(),s=Pa(n);s.payload=t,a!=null&&(s.callback=a),t=el(e,s,n),t!==null&&(Mt(t,e,n),Cs(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Bt(),s=Pa(n);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=el(e,s,n),t!==null&&(Mt(t,e,n),Cs(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Bt(),n=Pa(a);n.tag=2,t!=null&&(n.callback=t),t=el(e,n,a),t!==null&&(Mt(t,e,a),Cs(t,e,a))}};function Ld(e,t,a,n,s,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,c):t.prototype&&t.prototype.isPureReactComponent?!Dl(a,n)||!Dl(s,i):!0}function Rd(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&rr.enqueueReplaceState(t,t.state,null)}function ql(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function kd(e){_i(e)}function Id(e){console.error(e)}function Ud(e){_i(e)}function Ji(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Hd(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function ur(e,t,a){return a=Pa(a),a.tag=3,a.payload={element:null},a.callback=function(){Ji(e,t)},a}function Bd(e){return e=Pa(e),e.tag=3,e}function Gd(e,t,a,n){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var i=n.value;e.payload=function(){return s(i)},e.callback=function(){Hd(t,a,n)}}var c=a.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){Hd(t,a,n),typeof s!="function"&&(il===null?il=new Set([this]):il.add(this));var u=n.stack;this.componentDidCatch(n.value,{componentStack:u!==null?u:""})})}function Rh(e,t,a,n,s){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&En(t,a,s,!0),a=kt.current,a!==null){switch(a.tag){case 31:case 13:return $t===null?ro():a.alternate===null&&Ke===0&&(Ke=3),a.flags&=-257,a.flags|=65536,a.lanes=s,n===Ui?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Rr(e,n,s)),!1;case 22:return a.flags|=65536,n===Ui?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Rr(e,n,s)),!1}throw Error(r(435,a.tag))}return Rr(e,n,s),ro(),!1}if(_e)return t=kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==Ac&&(e=Error(r(422),{cause:n}),ys(Zt(e,a)))):(n!==Ac&&(t=Error(r(423),{cause:n}),ys(Zt(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,n=Zt(n,a),s=ur(e.stateNode,n,s),Bc(e,s),Ke!==4&&(Ke=2)),!1;var i=Error(r(520),{cause:n});if(i=Zt(i,a),Gs===null?Gs=[i]:Gs.push(i),Ke!==4&&(Ke=2),t===null)return!0;n=Zt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=ur(a.stateNode,n,e),Bc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(il===null||!il.has(i))))return a.flags|=65536,s&=-s,a.lanes|=s,s=Bd(s),Gd(s,e,a,n),Bc(a,s),!1}a=a.return}while(a!==null);return!1}var dr=Error(r(461)),lt=!1;function ft(e,t,a,n){t.child=e===null?Zu(t,null,a,n):Gl(t,e.child,a,n)}function Yd(e,t,a,n,s){a=a.render;var i=t.ref;if("ref"in n){var c={};for(var u in n)u!=="ref"&&(c[u]=n[u])}else c=n;return Il(t),n=Xc(e,t,a,c,i,s),u=Qc(),e!==null&&!lt?(Kc(e,t,s),La(e,t,s)):(_e&&u&&Cc(t),t.flags|=1,ft(e,t,n,s),t.child)}function qd(e,t,a,n,s){if(e===null){var i=a.type;return typeof i=="function"&&!wc(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Vd(e,t,i,n,s)):(e=Oi(a.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!br(e,s)){var c=i.memoizedProps;if(a=a.compare,a=a!==null?a:Dl,a(c,n)&&e.ref===t.ref)return La(e,t,s)}return t.flags|=1,e=_a(i,n),e.ref=t.ref,e.return=t,t.child=e}function Vd(e,t,a,n,s){if(e!==null){var i=e.memoizedProps;if(Dl(i,n)&&e.ref===t.ref)if(lt=!1,t.pendingProps=n=i,br(e,s))(e.flags&131072)!==0&&(lt=!0);else return t.lanes=e.lanes,La(e,t,s)}return mr(e,t,a,n,s)}function Zd(e,t,a,n){var s=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,s=0;n!==null;)s=s|n.lanes|n.childLanes,n=n.sibling;n=s&~i}else n=0,t.child=null;return Xd(e,t,i,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ki(t,i!==null?i.cachePool:null),i!==null?Ku(t,i):Yc(),$u(t);else return n=t.lanes=536870912,Xd(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(ki(t,i.cachePool),Ku(t,i),al(),t.memoizedState=null):(e!==null&&ki(t,null),Yc(),al());return ft(e,t,s,a),t.child}function Ls(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xd(e,t,a,n,s){var i=kc();return i=i===null?null:{parent:tt._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&ki(t,null),Yc(),$u(t),e!==null&&En(e,t,n,!0),t.childLanes=s,null}function Wi(e,t){return t=eo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Qd(e,t,a){return Gl(t,e.child,null,a),e=Wi(t,t.pendingProps),e.flags|=2,It(t),t.memoizedState=null,e}function kh(e,t,a){var n=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(n.mode==="hidden")return e=Wi(t,n),t.lanes=536870912,Ls(null,e);if(Vc(t),(e=Be)?(e=sm(e,Kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:ra,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},a=Du(e),a.return=t,t.child=a,dt=t,Be=null)):e=null,e===null)throw Fa(t);return t.lanes=536870912,null}return Wi(t,n)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(Vc(t),s)if(t.flags&256)t.flags&=-257,t=Qd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(lt||En(e,t,a,!1),s=(a&e.childLanes)!==0,lt||s){if(n=Ie,n!==null&&(c=Na(n,a),c!==0&&c!==i.retryLane))throw i.retryLane=c,zl(e,c),Mt(n,e,c),dr;ro(),t=Qd(e,t,a)}else e=i.treeContext,Be=Ft(c.nextSibling),dt=t,_e=!0,$a=null,Kt=!1,e!==null&&zu(t,e),t=Wi(t,n),t.flags|=4096;return t}return e=_a(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Pi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function mr(e,t,a,n,s){return Il(t),a=Xc(e,t,a,n,void 0,s),n=Qc(),e!==null&&!lt?(Kc(e,t,s),La(e,t,s)):(_e&&n&&Cc(t),t.flags|=1,ft(e,t,a,s),t.child)}function Kd(e,t,a,n,s,i){return Il(t),t.updateQueue=null,a=Ju(t,n,a,s),Fu(e),n=Qc(),e!==null&&!lt?(Kc(e,t,i),La(e,t,i)):(_e&&n&&Cc(t),t.flags|=1,ft(e,t,a,i),t.child)}function $d(e,t,a,n,s){if(Il(t),t.stateNode===null){var i=Nn,c=a.contextType;typeof c=="object"&&c!==null&&(i=mt(c)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=rr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},Uc(t),c=a.contextType,i.context=typeof c=="object"&&c!==null?mt(c):Nn,i.state=t.memoizedState,c=a.getDerivedStateFromProps,typeof c=="function"&&(cr(t,a,c,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&rr.enqueueReplaceState(i,i.state,null),As(t,n,i,s),_s(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var u=t.memoizedProps,p=ql(a,u);i.props=p;var R=i.context,q=a.contextType;c=Nn,typeof q=="object"&&q!==null&&(c=mt(q));var K=a.getDerivedStateFromProps;q=typeof K=="function"||typeof i.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,q||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u||R!==c)&&Rd(t,i,n,c),Wa=!1;var I=t.memoizedState;i.state=I,As(t,n,i,s),_s(),R=t.memoizedState,u||I!==R||Wa?(typeof K=="function"&&(cr(t,a,K,n),R=t.memoizedState),(p=Wa||Ld(t,a,p,n,I,R,c))?(q||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=R),i.props=n,i.state=R,i.context=c,n=p):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Hc(e,t),c=t.memoizedProps,q=ql(a,c),i.props=q,K=t.pendingProps,I=i.context,R=a.contextType,p=Nn,typeof R=="object"&&R!==null&&(p=mt(R)),u=a.getDerivedStateFromProps,(R=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==K||I!==p)&&Rd(t,i,n,p),Wa=!1,I=t.memoizedState,i.state=I,As(t,n,i,s),_s();var U=t.memoizedState;c!==K||I!==U||Wa||e!==null&&e.dependencies!==null&&Li(e.dependencies)?(typeof u=="function"&&(cr(t,a,u,n),U=t.memoizedState),(q=Wa||Ld(t,a,q,n,I,U,p)||e!==null&&e.dependencies!==null&&Li(e.dependencies))?(R||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,U,p),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,U,p)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=U),i.props=n,i.state=U,i.context=p,n=q):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Pi(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=Gl(t,e.child,null,s),t.child=Gl(t,null,a,s)):ft(e,t,a,s),t.memoizedState=i.state,e=t.child):e=La(e,t,s),e}function Fd(e,t,a,n){return Rl(),t.flags|=256,ft(e,t,a,n),t.child}var fr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hr(e){return{baseLanes:e,cachePool:Hu()}}function xr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ht),e}function Jd(e,t,a){var n=t.pendingProps,s=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),c&&(s=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(s?tl(t):al(),(e=Be)?(e=sm(e,Kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:ra,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},a=Du(e),a.return=t,t.child=a,dt=t,Be=null)):e=null,e===null)throw Fa(t);return Jr(e)?t.lanes=32:t.lanes=536870912,null}var u=n.children;return n=n.fallback,s?(al(),s=t.mode,u=eo({mode:"hidden",children:u},s),n=Ll(n,s,a,null),u.return=t,n.return=t,u.sibling=n,t.child=u,n=t.child,n.memoizedState=hr(a),n.childLanes=xr(e,c,a),t.memoizedState=fr,Ls(null,n)):(tl(t),pr(t,u))}var p=e.memoizedState;if(p!==null&&(u=p.dehydrated,u!==null)){if(i)t.flags&256?(tl(t),t.flags&=-257,t=gr(e,t,a)):t.memoizedState!==null?(al(),t.child=e.child,t.flags|=128,t=null):(al(),u=n.fallback,s=t.mode,n=eo({mode:"visible",children:n.children},s),u=Ll(u,s,a,null),u.flags|=2,n.return=t,u.return=t,n.sibling=u,t.child=n,Gl(t,e.child,null,a),n=t.child,n.memoizedState=hr(a),n.childLanes=xr(e,c,a),t.memoizedState=fr,t=Ls(null,n));else if(tl(t),Jr(u)){if(c=u.nextSibling&&u.nextSibling.dataset,c)var R=c.dgst;c=R,n=Error(r(419)),n.stack="",n.digest=c,ys({value:n,source:null,stack:null}),t=gr(e,t,a)}else if(lt||En(e,t,a,!1),c=(a&e.childLanes)!==0,lt||c){if(c=Ie,c!==null&&(n=Na(c,a),n!==0&&n!==p.retryLane))throw p.retryLane=n,zl(e,n),Mt(c,e,n),dr;Fr(u)||ro(),t=gr(e,t,a)}else Fr(u)?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,Be=Ft(u.nextSibling),dt=t,_e=!0,$a=null,Kt=!1,e!==null&&zu(t,e),t=pr(t,n.children),t.flags|=4096);return t}return s?(al(),u=n.fallback,s=t.mode,p=e.child,R=p.sibling,n=_a(p,{mode:"hidden",children:n.children}),n.subtreeFlags=p.subtreeFlags&65011712,R!==null?u=_a(R,u):(u=Ll(u,s,a,null),u.flags|=2),u.return=t,n.return=t,n.sibling=u,t.child=n,Ls(null,n),n=t.child,u=e.child.memoizedState,u===null?u=hr(a):(s=u.cachePool,s!==null?(p=tt._currentValue,s=s.parent!==p?{parent:p,pool:p}:s):s=Hu(),u={baseLanes:u.baseLanes|a,cachePool:s}),n.memoizedState=u,n.childLanes=xr(e,c,a),t.memoizedState=fr,Ls(e.child,n)):(tl(t),a=e.child,e=a.sibling,a=_a(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=a,t.memoizedState=null,a)}function pr(e,t){return t=eo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function eo(e,t){return e=Rt(22,e,null,t),e.lanes=0,e}function gr(e,t,a){return Gl(t,e.child,null,a),e=pr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wd(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Oc(e.return,t,a)}function vr(e,t,a,n,s,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:s,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=n,c.tail=a,c.tailMode=s,c.treeForkCount=i)}function Pd(e,t,a){var n=t.pendingProps,s=n.revealOrder,i=n.tail;n=n.children;var c=Fe.current,u=(c&2)!==0;if(u?(c=c&1|2,t.flags|=128):c&=1,ee(Fe,c),ft(e,t,n,a),n=_e?Ns:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wd(e,a,t);else if(e.tag===19)Wd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&Yi(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),vr(t,!1,s,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Yi(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}vr(t,!0,a,null,i,n);break;case"together":vr(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function La(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),sl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(En(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=_a(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=_a(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function br(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Li(e)))}function Ih(e,t,a){switch(t.tag){case 3:ct(t,t.stateNode.containerInfo),Ja(t,tt,e.memoizedState.cache),Rl();break;case 27:case 5:pl(t);break;case 4:ct(t,t.stateNode.containerInfo);break;case 10:Ja(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Vc(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(tl(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Jd(e,t,a):(tl(t),e=La(e,t,a),e!==null?e.sibling:null);tl(t);break;case 19:var s=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(En(e,t,a,!1),n=(a&t.childLanes)!==0),s){if(n)return Pd(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(Fe,Fe.current),n)break;return null;case 22:return t.lanes=0,Zd(e,t,a,t.pendingProps);case 24:Ja(t,tt,e.memoizedState.cache)}return La(e,t,a)}function e0(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)lt=!0;else{if(!br(e,a)&&(t.flags&128)===0)return lt=!1,Ih(e,t,a);lt=(e.flags&131072)!==0}else lt=!1,_e&&(t.flags&1048576)!==0&&Ou(t,Ns,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Hl(t.elementType),t.type=e,typeof e=="function")wc(e)?(n=ql(e,n),t.tag=1,t=$d(null,t,e,n,a)):(t.tag=0,t=mr(null,t,e,n,a));else{if(e!=null){var s=e.$$typeof;if(s===k){t.tag=11,t=Yd(null,t,e,n,a);break e}else if(s===$){t.tag=14,t=qd(null,t,e,n,a);break e}}throw t=Ve(e)||e,Error(r(306,t,""))}}return t;case 0:return mr(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,s=ql(n,t.pendingProps),$d(e,t,n,s,a);case 3:e:{if(ct(t,t.stateNode.containerInfo),e===null)throw Error(r(387));n=t.pendingProps;var i=t.memoizedState;s=i.element,Hc(e,t),As(t,n,null,a);var c=t.memoizedState;if(n=c.cache,Ja(t,tt,n),n!==i.cache&&zc(t,[tt],a,!0),_s(),n=c.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Fd(e,t,n,a);break e}else if(n!==s){s=Zt(Error(r(424)),t),ys(s),t=Fd(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=Ft(e.firstChild),dt=t,_e=!0,$a=null,Kt=!0,a=Zu(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rl(),n===s){t=La(e,t,a);break e}ft(e,t,n,a)}t=t.child}return t;case 26:return Pi(e,t),e===null?(a=dm(t.type,null,t.pendingProps,null))?t.memoizedState=a:_e||(a=t.type,e=t.pendingProps,n=go(xe.current).createElement(a),n[We]=t,n[rt]=e,ht(n,a,e),Pe(n),t.stateNode=n):t.memoizedState=dm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pl(t),e===null&&_e&&(n=t.stateNode=cm(t.type,t.pendingProps,xe.current),dt=t,Kt=!0,s=Be,ul(t.type)?(Wr=s,Be=Ft(n.firstChild)):Be=s),ft(e,t,t.pendingProps.children,a),Pi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((s=n=Be)&&(n=fx(n,t.type,t.pendingProps,Kt),n!==null?(t.stateNode=n,dt=t,Be=Ft(n.firstChild),Kt=!1,s=!0):s=!1),s||Fa(t)),pl(t),s=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,n=i.children,Qr(s,i)?n=null:c!==null&&Qr(s,c)&&(t.flags|=32),t.memoizedState!==null&&(s=Xc(e,t,_h,null,null,a),$s._currentValue=s),Pi(e,t),ft(e,t,n,a),t.child;case 6:return e===null&&_e&&((e=a=Be)&&(a=hx(a,t.pendingProps,Kt),a!==null?(t.stateNode=a,dt=t,Be=null,e=!0):e=!1),e||Fa(t)),null;case 13:return Jd(e,t,a);case 4:return ct(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Gl(t,null,n,a):ft(e,t,n,a),t.child;case 11:return Yd(e,t,t.type,t.pendingProps,a);case 7:return ft(e,t,t.pendingProps,a),t.child;case 8:return ft(e,t,t.pendingProps.children,a),t.child;case 12:return ft(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ja(t,t.type,n.value),ft(e,t,n.children,a),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,Il(t),s=mt(s),n=n(s),t.flags|=1,ft(e,t,n,a),t.child;case 14:return qd(e,t,t.type,t.pendingProps,a);case 15:return Vd(e,t,t.type,t.pendingProps,a);case 19:return Pd(e,t,a);case 31:return kh(e,t,a);case 22:return Zd(e,t,a,t.pendingProps);case 24:return Il(t),n=mt(tt),e===null?(s=kc(),s===null&&(s=Ie,i=Lc(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=a),s=i),t.memoizedState={parent:n,cache:s},Uc(t),Ja(t,tt,s)):((e.lanes&a)!==0&&(Hc(e,t),As(t,null,null,a),_s()),s=e.memoizedState,i=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Ja(t,tt,n)):(n=i.cache,Ja(t,tt,n),n!==s.cache&&zc(t,[tt],a,!0))),ft(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Ra(e){e.flags|=4}function jr(e,t,a,n,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(C0())e.flags|=8192;else throw Bl=Ui,Ic}else e.flags&=-16777217}function t0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pm(t))if(C0())e.flags|=8192;else throw Bl=Ui,Ic}function to(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?en():536870912,e.lanes|=t,In|=t)}function Rs(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags&65011712,n|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Uh(e,t,a){var n=t.pendingProps;switch(_c(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ma(tt),He(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wn(t)?Ra(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dc())),Ge(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(Ra(t),i!==null?(Ge(t),t0(t,i)):(Ge(t),jr(t,s,null,n,a))):i?i!==e.memoizedState?(Ra(t),Ge(t),t0(t,i)):(Ge(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Ra(t),Ge(t),jr(t,s,e,n,a)),null;case 27:if(ha(t),a=xe.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ra(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Ge(t),null}e=le.current,wn(t)?Lu(t):(e=cm(s,n,a),t.stateNode=e,Ra(t))}return Ge(t),null;case 5:if(ha(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ra(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Ge(t),null}if(i=le.current,wn(t))Lu(t);else{var c=go(xe.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?c.createElement("select",{is:n.is}):c.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?c.createElement(s,{is:n.is}):c.createElement(s)}}i[We]=t,i[rt]=n;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch(ht(i,s,n),s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ra(t)}}return Ge(t),jr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Ra(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(r(166));if(e=xe.current,wn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,s=dt,s!==null)switch(s.tag){case 27:case 5:n=s.memoizedProps}e[We]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||J0(e.nodeValue,a)),e||Fa(t,!0)}else e=go(e).createTextNode(n),e[We]=t,t.stateNode=e}return Ge(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=wn(t),a!==null){if(e===null){if(!n)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[We]=t}else Rl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),e=!1}else a=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(It(t),t):(It(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ge(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=wn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(r(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));s[We]=t}else Rl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),s=!1}else s=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(It(t),t):(It(t),null)}return It(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,s=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(s=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==s&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),to(t,t.updateQueue),Ge(t),null);case 4:return He(),e===null&&Yr(t.stateNode.containerInfo),Ge(t),null;case 10:return Ma(t.type),Ge(t),null;case 19:if(Q(Fe),n=t.memoizedState,n===null)return Ge(t),null;if(s=(t.flags&128)!==0,i=n.rendering,i===null)if(s)Rs(n,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Yi(e),i!==null){for(t.flags|=128,Rs(n,!1),e=i.updateQueue,t.updateQueue=e,to(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Au(a,e),a=a.sibling;return ee(Fe,Fe.current&1|2),_e&&Aa(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&jt()>io&&(t.flags|=128,s=!0,Rs(n,!1),t.lanes=4194304)}else{if(!s)if(e=Yi(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,to(t,e),Rs(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!_e)return Ge(t),null}else 2*jt()-n.renderingStartTime>io&&a!==536870912&&(t.flags|=128,s=!0,Rs(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=jt(),e.sibling=null,a=Fe.current,ee(Fe,s?a&1|2:a&1),_e&&Aa(t,n.treeForkCount),e):(Ge(t),null);case 22:case 23:return It(t),qc(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),a=t.updateQueue,a!==null&&to(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Q(Ul),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ma(tt),Ge(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Hh(e,t){switch(_c(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ma(tt),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ha(t),null;case 31:if(t.memoizedState!==null){if(It(t),t.alternate===null)throw Error(r(340));Rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(It(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(Fe),null;case 4:return He(),null;case 10:return Ma(t.type),null;case 22:case 23:return It(t),qc(),e!==null&&Q(Ul),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ma(tt),null;case 25:return null;default:return null}}function a0(e,t){switch(_c(t),t.tag){case 3:Ma(tt),He();break;case 26:case 27:case 5:ha(t);break;case 4:He();break;case 31:t.memoizedState!==null&&It(t);break;case 13:It(t);break;case 19:Q(Fe);break;case 10:Ma(t.type);break;case 22:case 23:It(t),qc(),e!==null&&Q(Ul);break;case 24:Ma(tt)}}function ks(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){n=void 0;var i=a.create,c=a.inst;n=i(),c.destroy=n}a=a.next}while(a!==s)}}catch(u){ze(t,t.return,u)}}function ll(e,t,a){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&e)===e){var c=n.inst,u=c.destroy;if(u!==void 0){c.destroy=void 0,s=t;var p=a,R=u;try{R()}catch(q){ze(s,p,q)}}}n=n.next}while(n!==i)}}catch(q){ze(t,t.return,q)}}function l0(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Qu(t,a)}catch(n){ze(e,e.return,n)}}}function n0(e,t,a){a.props=ql(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){ze(e,t,n)}}function Is(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(s){ze(e,t,s)}}function da(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(s){ze(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){ze(e,t,s)}else a.current=null}function s0(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(s){ze(e,e.return,s)}}function Nr(e,t,a){try{var n=e.stateNode;ox(n,e.type,a,t),n[rt]=t}catch(s){ze(e,e.return,s)}}function i0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ul(e.type)||e.tag===4}function yr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||i0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ul(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=St));else if(n!==4&&(n===27&&ul(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Sr(e,t,a),e=e.sibling;e!==null;)Sr(e,t,a),e=e.sibling}function ao(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&ul(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ao(e,t,a),e=e.sibling;e!==null;)ao(e,t,a),e=e.sibling}function o0(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ht(t,n,a),t[We]=e,t[rt]=a}catch(i){ze(e,e.return,i)}}var ka=!1,nt=!1,wr=!1,c0=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Bh(e,t){if(e=e.containerInfo,Zr=wo,e=ju(e),gc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var c=0,u=-1,p=-1,R=0,q=0,K=e,I=null;t:for(;;){for(var U;K!==a||s!==0&&K.nodeType!==3||(u=c+s),K!==i||n!==0&&K.nodeType!==3||(p=c+n),K.nodeType===3&&(c+=K.nodeValue.length),(U=K.firstChild)!==null;)I=K,K=U;for(;;){if(K===e)break t;if(I===a&&++R===s&&(u=c),I===i&&++q===n&&(p=c),(U=K.nextSibling)!==null)break;K=I,I=K.parentNode}K=U}a=u===-1||p===-1?null:{start:u,end:p}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xr={focusedElem:e,selectionRange:a},wo=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){switch(t=ot,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,s=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var ne=ql(a.type,s);e=n.getSnapshotBeforeUpdate(ne,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(me){ze(a,a.return,me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)$r(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$r(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function r0(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Ua(e,a),n&4&&ks(5,a);break;case 1:if(Ua(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(c){ze(a,a.return,c)}else{var s=ql(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){ze(a,a.return,c)}}n&64&&l0(a),n&512&&Is(a,a.return);break;case 3:if(Ua(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Qu(e,t)}catch(c){ze(a,a.return,c)}}break;case 27:t===null&&n&4&&o0(a);case 26:case 5:Ua(e,a),t===null&&n&4&&s0(a),n&512&&Is(a,a.return);break;case 12:Ua(e,a);break;case 31:Ua(e,a),n&4&&m0(e,a);break;case 13:Ua(e,a),n&4&&f0(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=$h.bind(null,a),xx(e,a))));break;case 22:if(n=a.memoizedState!==null||ka,!n){t=t!==null&&t.memoizedState!==null||nt,s=ka;var i=nt;ka=n,(nt=t)&&!i?Ha(e,a,(a.subtreeFlags&8772)!==0):Ua(e,a),ka=s,nt=i}break;case 30:break;default:Ua(e,a)}}function u0(e){var t=e.alternate;t!==null&&(e.alternate=null,u0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ls(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,Ct=!1;function Ia(e,t,a){for(a=a.child;a!==null;)d0(e,t,a),a=a.sibling}function d0(e,t,a){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(ga,a)}catch{}switch(a.tag){case 26:nt||da(a,t),Ia(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nt||da(a,t);var n=qe,s=Ct;ul(a.type)&&(qe=a.stateNode,Ct=!1),Ia(e,t,a),Xs(a.stateNode),qe=n,Ct=s;break;case 5:nt||da(a,t);case 6:if(n=qe,s=Ct,qe=null,Ia(e,t,a),qe=n,Ct=s,qe!==null)if(Ct)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(a.stateNode)}catch(i){ze(a,t,i)}else try{qe.removeChild(a.stateNode)}catch(i){ze(a,t,i)}break;case 18:qe!==null&&(Ct?(e=qe,lm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Zn(e)):lm(qe,a.stateNode));break;case 4:n=qe,s=Ct,qe=a.stateNode.containerInfo,Ct=!0,Ia(e,t,a),qe=n,Ct=s;break;case 0:case 11:case 14:case 15:ll(2,a,t),nt||ll(4,a,t),Ia(e,t,a);break;case 1:nt||(da(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&n0(a,t,n)),Ia(e,t,a);break;case 21:Ia(e,t,a);break;case 22:nt=(n=nt)||a.memoizedState!==null,Ia(e,t,a),nt=n;break;default:Ia(e,t,a)}}function m0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zn(e)}catch(a){ze(t,t.return,a)}}}function f0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zn(e)}catch(a){ze(t,t.return,a)}}function Gh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new c0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new c0),t;default:throw Error(r(435,e.tag))}}function lo(e,t){var a=Gh(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var s=Fh.bind(null,e,n);n.then(s,s)}})}function _t(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var s=a[n],i=e,c=t,u=c;e:for(;u!==null;){switch(u.tag){case 27:if(ul(u.type)){qe=u.stateNode,Ct=!1;break e}break;case 5:qe=u.stateNode,Ct=!1;break e;case 3:case 4:qe=u.stateNode.containerInfo,Ct=!0;break e}u=u.return}if(qe===null)throw Error(r(160));d0(i,c,s),qe=null,Ct=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)h0(t,e),t=t.sibling}var na=null;function h0(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),At(e),n&4&&(ll(3,e,e.return),ks(3,e),ll(5,e,e.return));break;case 1:_t(t,e),At(e),n&512&&(nt||a===null||da(a,a.return)),n&64&&ka&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var s=na;if(_t(t,e),At(e),n&512&&(nt||a===null||da(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Za]||i[We]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(n),s.head.insertBefore(i,s.querySelector("head > title"))),ht(i,n,a),i[We]=e,Pe(i),n=i;break e;case"link":var c=hm("link","href",s).get(n+(a.href||""));if(c){for(var u=0;u<c.length;u++)if(i=c[u],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){c.splice(u,1);break t}}i=s.createElement(n),ht(i,n,a),s.head.appendChild(i);break;case"meta":if(c=hm("meta","content",s).get(n+(a.content||""))){for(u=0;u<c.length;u++)if(i=c[u],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){c.splice(u,1);break t}}i=s.createElement(n),ht(i,n,a),s.head.appendChild(i);break;default:throw Error(r(468,n))}i[We]=e,Pe(i),n=i}e.stateNode=n}else xm(s,e.type,e.stateNode);else e.stateNode=fm(s,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?xm(s,e.type,e.stateNode):fm(s,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Nr(e,e.memoizedProps,a.memoizedProps)}break;case 27:_t(t,e),At(e),n&512&&(nt||a===null||da(a,a.return)),a!==null&&n&4&&Nr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_t(t,e),At(e),n&512&&(nt||a===null||da(a,a.return)),e.flags&32){s=e.stateNode;try{re(s,"")}catch(ne){ze(e,e.return,ne)}}n&4&&e.stateNode!=null&&(s=e.memoizedProps,Nr(e,s,a!==null?a.memoizedProps:s)),n&1024&&(wr=!0);break;case 6:if(_t(t,e),At(e),n&4){if(e.stateNode===null)throw Error(r(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(ne){ze(e,e.return,ne)}}break;case 3:if(jo=null,s=na,na=vo(t.containerInfo),_t(t,e),na=s,At(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Zn(t.containerInfo)}catch(ne){ze(e,e.return,ne)}wr&&(wr=!1,x0(e));break;case 4:n=na,na=vo(e.stateNode.containerInfo),_t(t,e),At(e),na=n;break;case 12:_t(t,e),At(e);break;case 31:_t(t,e),At(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,lo(e,n)));break;case 13:_t(t,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(so=jt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,lo(e,n)));break;case 22:s=e.memoizedState!==null;var p=a!==null&&a.memoizedState!==null,R=ka,q=nt;if(ka=R||s,nt=q||p,_t(t,e),nt=q,ka=R,At(e),n&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||p||ka||nt||Vl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){p=a=t;try{if(i=p.stateNode,s)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{u=p.stateNode;var K=p.memoizedProps.style,I=K!=null&&K.hasOwnProperty("display")?K.display:null;u.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(ne){ze(p,p.return,ne)}}}else if(t.tag===6){if(a===null){p=t;try{p.stateNode.nodeValue=s?"":p.memoizedProps}catch(ne){ze(p,p.return,ne)}}}else if(t.tag===18){if(a===null){p=t;try{var U=p.stateNode;s?nm(U,!0):nm(p.stateNode,!1)}catch(ne){ze(p,p.return,ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,lo(e,a))));break;case 19:_t(t,e),At(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,lo(e,n)));break;case 30:break;case 21:break;default:_t(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(i0(n)){a=n;break}n=n.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var s=a.stateNode,i=yr(e);ao(e,i,s);break;case 5:var c=a.stateNode;a.flags&32&&(re(c,""),a.flags&=-33);var u=yr(e);ao(e,u,c);break;case 3:case 4:var p=a.stateNode.containerInfo,R=yr(e);Sr(e,R,p);break;default:throw Error(r(161))}}catch(q){ze(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;x0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)r0(e,t.alternate,t),t=t.sibling}function Vl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),Vl(t);break;case 1:da(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&n0(t,t.return,a),Vl(t);break;case 27:Xs(t.stateNode);case 26:case 5:da(t,t.return),Vl(t);break;case 22:t.memoizedState===null&&Vl(t);break;case 30:Vl(t);break;default:Vl(t)}e=e.sibling}}function Ha(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,s=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:Ha(s,i,a),ks(4,i);break;case 1:if(Ha(s,i,a),n=i,s=n.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(R){ze(n,n.return,R)}if(n=i,s=n.updateQueue,s!==null){var u=n.stateNode;try{var p=s.shared.hiddenCallbacks;if(p!==null)for(s.shared.hiddenCallbacks=null,s=0;s<p.length;s++)Xu(p[s],u)}catch(R){ze(n,n.return,R)}}a&&c&64&&l0(i),Is(i,i.return);break;case 27:o0(i);case 26:case 5:Ha(s,i,a),a&&n===null&&c&4&&s0(i),Is(i,i.return);break;case 12:Ha(s,i,a);break;case 31:Ha(s,i,a),a&&c&4&&m0(s,i);break;case 13:Ha(s,i,a),a&&c&4&&f0(s,i);break;case 22:i.memoizedState===null&&Ha(s,i,a),Is(i,i.return);break;case 30:break;default:Ha(s,i,a)}t=t.sibling}}function Er(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ss(a))}function Tr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ss(e))}function sa(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p0(e,t,a,n),t=t.sibling}function p0(e,t,a,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:sa(e,t,a,n),s&2048&&ks(9,t);break;case 1:sa(e,t,a,n);break;case 3:sa(e,t,a,n),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ss(e)));break;case 12:if(s&2048){sa(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,u=i.onPostCommit;typeof u=="function"&&u(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){ze(t,t.return,p)}}else sa(e,t,a,n);break;case 31:sa(e,t,a,n);break;case 13:sa(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?sa(e,t,a,n):Us(e,t):i._visibility&2?sa(e,t,a,n):(i._visibility|=2,Ln(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Er(c,t);break;case 24:sa(e,t,a,n),s&2048&&Tr(t.alternate,t);break;default:sa(e,t,a,n)}}function Ln(e,t,a,n,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,u=a,p=n,R=c.flags;switch(c.tag){case 0:case 11:case 15:Ln(i,c,u,p,s),ks(8,c);break;case 23:break;case 22:var q=c.stateNode;c.memoizedState!==null?q._visibility&2?Ln(i,c,u,p,s):Us(i,c):(q._visibility|=2,Ln(i,c,u,p,s)),s&&R&2048&&Er(c.alternate,c);break;case 24:Ln(i,c,u,p,s),s&&R&2048&&Tr(c.alternate,c);break;default:Ln(i,c,u,p,s)}t=t.sibling}}function Us(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,s=n.flags;switch(n.tag){case 22:Us(a,n),s&2048&&Er(n.alternate,n);break;case 24:Us(a,n),s&2048&&Tr(n.alternate,n);break;default:Us(a,n)}t=t.sibling}}var Hs=8192;function Rn(e,t,a){if(e.subtreeFlags&Hs)for(e=e.child;e!==null;)g0(e,t,a),e=e.sibling}function g0(e,t,a){switch(e.tag){case 26:Rn(e,t,a),e.flags&Hs&&e.memoizedState!==null&&Cx(a,na,e.memoizedState,e.memoizedProps);break;case 5:Rn(e,t,a);break;case 3:case 4:var n=na;na=vo(e.stateNode.containerInfo),Rn(e,t,a),na=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Hs,Hs=16777216,Rn(e,t,a),Hs=n):Rn(e,t,a));break;default:Rn(e,t,a)}}function v0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ot=n,j0(n,e)}v0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)b0(e),e=e.sibling}function b0(e){switch(e.tag){case 0:case 11:case 15:Bs(e),e.flags&2048&&ll(9,e,e.return);break;case 3:Bs(e);break;case 12:Bs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,no(e)):Bs(e);break;default:Bs(e)}}function no(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ot=n,j0(n,e)}v0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ll(8,t,t.return),no(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,no(t));break;default:no(t)}e=e.sibling}}function j0(e,t){for(;ot!==null;){var a=ot;switch(a.tag){case 0:case 11:case 15:ll(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Ss(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,ot=n;else e:for(a=e;ot!==null;){n=ot;var s=n.sibling,i=n.return;if(u0(n),n===a){ot=null;break e}if(s!==null){s.return=i,ot=s;break e}ot=i}}}var Yh={getCacheForType:function(e){var t=mt(tt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return mt(tt).controller.signal}},qh=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ie=null,ye=null,Ee=0,Oe=0,Ut=null,nl=!1,kn=!1,Cr=!1,Ba=0,Ke=0,sl=0,Zl=0,_r=0,Ht=0,In=0,Gs=null,Dt=null,Ar=!1,so=0,N0=0,io=1/0,oo=null,il=null,st=0,ol=null,Un=null,Ga=0,Dr=0,Mr=null,y0=null,Ys=0,Or=null;function Bt(){return(Me&2)!==0&&Ee!==0?Ee&-Ee:E.T!==null?Ur():ts()}function S0(){if(Ht===0)if((Ee&536870912)===0||_e){var e=va;va<<=1,(va&3932160)===0&&(va=262144),Ht=e}else Ht=536870912;return e=kt.current,e!==null&&(e.flags|=32),Ht}function Mt(e,t,a){(e===Ie&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Hn(e,0),cl(e,Ee,Ht,!1)),ja(e,a),((Me&2)===0||e!==Ie)&&(e===Ie&&((Me&2)===0&&(Zl|=a),Ke===4&&cl(e,Ee,Ht,!1)),ma(e))}function w0(e,t,a){if((Me&6)!==0)throw Error(r(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||vl(e,t),s=n?Xh(e,t):Lr(e,t,!0),i=n;do{if(s===0){kn&&!n&&cl(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!Vh(a)){s=Lr(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var u=e;s=Gs;var p=u.current.memoizedState.isDehydrated;if(p&&(Hn(u,c).flags|=256),c=Lr(u,c,!1),c!==2){if(Cr&&!p){u.errorRecoveryDisabledLanes|=i,Zl|=i,s=4;break e}i=Dt,Dt=s,i!==null&&(Dt===null?Dt=i:Dt.push.apply(Dt,i))}s=c}if(i=!1,s!==2)continue}}if(s===1){Hn(e,0),cl(e,t,0,!0);break}e:{switch(n=e,i=s,i){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:cl(n,t,Ht,!nl);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(s=so+300-jt(),10<s)){if(cl(n,t,Ht,!nl),Va(n,0,!0)!==0)break e;Ga=t,n.timeoutHandle=tm(E0.bind(null,n,a,Dt,oo,Ar,t,Ht,Zl,In,nl,i,"Throttled",-0,0),s);break e}E0(n,a,Dt,oo,Ar,t,Ht,Zl,In,nl,i,null,-0,0)}}break}while(!0);ma(e)}function E0(e,t,a,n,s,i,c,u,p,R,q,K,I,U){if(e.timeoutHandle=-1,K=t.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:St},g0(t,i,K);var ne=(i&62914560)===i?so-jt():(i&4194048)===i?N0-jt():0;if(ne=_x(K,ne),ne!==null){Ga=i,e.cancelPendingCommit=ne(z0.bind(null,e,t,i,a,n,s,c,u,p,q,K,null,I,U)),cl(e,i,c,!R);return}}z0(e,t,i,a,n,s,c,u,p)}function Vh(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var s=a[n],i=s.getSnapshot;s=s.value;try{if(!vt(i(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cl(e,t,a,n){t&=~_r,t&=~Zl,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var i=31-it(s),c=1<<i;n[i]=-1,s&=~c}a!==0&&tn(e,a,t)}function co(){return(Me&6)===0?(qs(0),!1):!0}function zr(){if(ye!==null){if(Oe===0)var e=ye.return;else e=ye,Da=kl=null,$c(e),An=null,Es=0,e=ye;for(;e!==null;)a0(e.alternate,e),e=e.return;ye=null}}function Hn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ux(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ga=0,zr(),Ie=e,ye=a=_a(e.current,null),Ee=t,Oe=0,Ut=null,nl=!1,kn=vl(e,t),Cr=!1,In=Ht=_r=Zl=sl=Ke=0,Dt=Gs=null,Ar=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var s=31-it(n),i=1<<s;t|=e[s],n&=~i}return Ba=t,Ai(),a}function T0(e,t){ve=null,E.H=zs,t===_n||t===Ii?(t=Yu(),Oe=3):t===Ic?(t=Yu(),Oe=4):Oe=t===dr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,ye===null&&(Ke=1,Ji(e,Zt(t,e.current)))}function C0(){var e=kt.current;return e===null?!0:(Ee&4194048)===Ee?$t===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===$t:!1}function _0(){var e=E.H;return E.H=zs,e===null?zs:e}function A0(){var e=E.A;return E.A=Yh,e}function ro(){Ke=4,nl||(Ee&4194048)!==Ee&&kt.current!==null||(kn=!0),(sl&134217727)===0&&(Zl&134217727)===0||Ie===null||cl(Ie,Ee,Ht,!1)}function Lr(e,t,a){var n=Me;Me|=2;var s=_0(),i=A0();(Ie!==e||Ee!==t)&&(oo=null,Hn(e,t)),t=!1;var c=Ke;e:do try{if(Oe!==0&&ye!==null){var u=ye,p=Ut;switch(Oe){case 8:zr(),c=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(t=!0);var R=Oe;if(Oe=0,Ut=null,Bn(e,u,p,R),a&&kn){c=0;break e}break;default:R=Oe,Oe=0,Ut=null,Bn(e,u,p,R)}}Zh(),c=Ke;break}catch(q){T0(e,q)}while(!0);return t&&e.shellSuspendCounter++,Da=kl=null,Me=n,E.H=s,E.A=i,ye===null&&(Ie=null,Ee=0,Ai()),c}function Zh(){for(;ye!==null;)D0(ye)}function Xh(e,t){var a=Me;Me|=2;var n=_0(),s=A0();Ie!==e||Ee!==t?(oo=null,io=jt()+500,Hn(e,t)):kn=vl(e,t);e:do try{if(Oe!==0&&ye!==null){t=ye;var i=Ut;t:switch(Oe){case 1:Oe=0,Ut=null,Bn(e,t,i,1);break;case 2:case 9:if(Bu(i)){Oe=0,Ut=null,M0(t);break}t=function(){Oe!==2&&Oe!==9||Ie!==e||(Oe=7),ma(e)},i.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Bu(i)?(Oe=0,Ut=null,M0(t)):(Oe=0,Ut=null,Bn(e,t,i,7));break;case 5:var c=null;switch(ye.tag){case 26:c=ye.memoizedState;case 5:case 27:var u=ye;if(c?pm(c):u.stateNode.complete){Oe=0,Ut=null;var p=u.sibling;if(p!==null)ye=p;else{var R=u.return;R!==null?(ye=R,uo(R)):ye=null}break t}}Oe=0,Ut=null,Bn(e,t,i,5);break;case 6:Oe=0,Ut=null,Bn(e,t,i,6);break;case 8:zr(),Ke=6;break e;default:throw Error(r(462))}}Qh();break}catch(q){T0(e,q)}while(!0);return Da=kl=null,E.H=n,E.A=s,Me=a,ye!==null?0:(Ie=null,Ee=0,Ai(),Ke)}function Qh(){for(;ye!==null&&!Ro();)D0(ye)}function D0(e){var t=e0(e.alternate,e,Ba);e.memoizedProps=e.pendingProps,t===null?uo(e):ye=t}function M0(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Kd(a,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Kd(a,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:$c(t);default:a0(a,t),t=ye=Au(t,Ba),t=e0(a,t,Ba)}e.memoizedProps=e.pendingProps,t===null?uo(e):ye=t}function Bn(e,t,a,n){Da=kl=null,$c(t),An=null,Es=0;var s=t.return;try{if(Rh(e,s,t,a,Ee)){Ke=1,Ji(e,Zt(a,e.current)),ye=null;return}}catch(i){if(s!==null)throw ye=s,i;Ke=1,Ji(e,Zt(a,e.current)),ye=null;return}t.flags&32768?(_e||n===1?e=!0:kn||(Ee&536870912)!==0?e=!1:(nl=e=!0,(n===2||n===9||n===3||n===6)&&(n=kt.current,n!==null&&n.tag===13&&(n.flags|=16384))),O0(t,e)):uo(t)}function uo(e){var t=e;do{if((t.flags&32768)!==0){O0(t,nl);return}e=t.return;var a=Uh(t.alternate,t,Ba);if(a!==null){ye=a;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Ke===0&&(Ke=5)}function O0(e,t){do{var a=Hh(e.alternate,e);if(a!==null){a.flags&=32767,ye=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=a}while(e!==null);Ke=6,ye=null}function z0(e,t,a,n,s,i,c,u,p){e.cancelPendingCommit=null;do mo();while(st!==0);if((Me&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(i=t.lanes|t.childLanes,i|=yc,Uo(e,a,i,c,u,p),e===Ie&&(ye=Ie=null,Ee=0),Un=t,ol=e,Ga=a,Dr=i,Mr=s,y0=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jh(Fl,function(){return U0(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=E.T,E.T=null,s=O.p,O.p=2,c=Me,Me|=4;try{Bh(e,t,a)}finally{Me=c,O.p=s,E.T=n}}st=1,L0(),R0(),k0()}}function L0(){if(st===1){st=0;var e=ol,t=Un,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=E.T,E.T=null;var n=O.p;O.p=2;var s=Me;Me|=4;try{h0(t,e);var i=Xr,c=ju(e.containerInfo),u=i.focusedElem,p=i.selectionRange;if(c!==u&&u&&u.ownerDocument&&bu(u.ownerDocument.documentElement,u)){if(p!==null&&gc(u)){var R=p.start,q=p.end;if(q===void 0&&(q=R),"selectionStart"in u)u.selectionStart=R,u.selectionEnd=Math.min(q,u.value.length);else{var K=u.ownerDocument||document,I=K&&K.defaultView||window;if(I.getSelection){var U=I.getSelection(),ne=u.textContent.length,me=Math.min(p.start,ne),ke=p.end===void 0?me:Math.min(p.end,ne);!U.extend&&me>ke&&(c=ke,ke=me,me=c);var D=vu(u,me),y=vu(u,ke);if(D&&y&&(U.rangeCount!==1||U.anchorNode!==D.node||U.anchorOffset!==D.offset||U.focusNode!==y.node||U.focusOffset!==y.offset)){var L=K.createRange();L.setStart(D.node,D.offset),U.removeAllRanges(),me>ke?(U.addRange(L),U.extend(y.node,y.offset)):(L.setEnd(y.node,y.offset),U.addRange(L))}}}}for(K=[],U=u;U=U.parentNode;)U.nodeType===1&&K.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<K.length;u++){var X=K[u];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}wo=!!Zr,Xr=Zr=null}finally{Me=s,O.p=n,E.T=a}}e.current=t,st=2}}function R0(){if(st===2){st=0;var e=ol,t=Un,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=E.T,E.T=null;var n=O.p;O.p=2;var s=Me;Me|=4;try{r0(e,t.alternate,t)}finally{Me=s,O.p=n,E.T=a}}st=3}}function k0(){if(st===4||st===3){st=0,Jn();var e=ol,t=Un,a=Ga,n=y0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?st=5:(st=0,Un=ol=null,I0(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(il=null),ln(a),t=t.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(ga,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=E.T,s=O.p,O.p=2,E.T=null;try{for(var i=e.onRecoverableError,c=0;c<n.length;c++){var u=n[c];i(u.value,{componentStack:u.stack})}}finally{E.T=t,O.p=s}}(Ga&3)!==0&&mo(),ma(e),s=e.pendingLanes,(a&261930)!==0&&(s&42)!==0?e===Or?Ys++:(Ys=0,Or=e):Ys=0,qs(0)}}function I0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ss(t)))}function mo(){return L0(),R0(),k0(),U0()}function U0(){if(st!==5)return!1;var e=ol,t=Dr;Dr=0;var a=ln(Ga),n=E.T,s=O.p;try{O.p=32>a?32:a,E.T=null,a=Mr,Mr=null;var i=ol,c=Ga;if(st=0,Un=ol=null,Ga=0,(Me&6)!==0)throw Error(r(331));var u=Me;if(Me|=4,b0(i.current),p0(i,i.current,c,a),Me=u,qs(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(ga,i)}catch{}return!0}finally{O.p=s,E.T=n,I0(e,t)}}function H0(e,t,a){t=Zt(a,t),t=ur(e.stateNode,t,2),e=el(e,t,2),e!==null&&(ja(e,2),ma(e))}function ze(e,t,a){if(e.tag===3)H0(e,e,a);else for(;t!==null;){if(t.tag===3){H0(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(il===null||!il.has(n))){e=Zt(a,e),a=Bd(2),n=el(t,a,2),n!==null&&(Gd(a,n,t,e),ja(n,2),ma(n));break}}t=t.return}}function Rr(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new qh;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(a)||(Cr=!0,s.add(a),e=Kh.bind(null,e,t,a),t.then(e,e))}function Kh(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ie===e&&(Ee&a)===a&&(Ke===4||Ke===3&&(Ee&62914560)===Ee&&300>jt()-so?(Me&2)===0&&Hn(e,0):_r|=a,In===Ee&&(In=0)),ma(e)}function B0(e,t){t===0&&(t=en()),e=zl(e,t),e!==null&&(ja(e,t),ma(e))}function $h(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),B0(e,a)}function Fh(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(r(314))}n!==null&&n.delete(t),B0(e,a)}function Jh(e,t){return Fn(e,t)}var fo=null,Gn=null,kr=!1,ho=!1,Ir=!1,rl=0;function ma(e){e!==Gn&&e.next===null&&(Gn===null?fo=Gn=e:Gn=Gn.next=e),ho=!0,kr||(kr=!0,Ph())}function qs(e,t){if(!Ir&&ho){Ir=!0;do for(var a=!1,n=fo;n!==null;){if(e!==0){var s=n.pendingLanes;if(s===0)var i=0;else{var c=n.suspendedLanes,u=n.pingedLanes;i=(1<<31-it(42|e)+1)-1,i&=s&~(c&~u),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,V0(n,i))}else i=Ee,i=Va(n,n===Ie?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||vl(n,i)||(a=!0,V0(n,i));n=n.next}while(a);Ir=!1}}function Wh(){G0()}function G0(){ho=kr=!1;var e=0;rl!==0&&rx()&&(e=rl);for(var t=jt(),a=null,n=fo;n!==null;){var s=n.next,i=Y0(n,t);i===0?(n.next=null,a===null?fo=s:a.next=s,s===null&&(Gn=a)):(a=n,(e!==0||(i&3)!==0)&&(ho=!0)),n=s}st!==0&&st!==5||qs(e),rl!==0&&(rl=0)}function Y0(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-it(i),u=1<<c,p=s[c];p===-1?((u&a)===0||(u&n)!==0)&&(s[c]=bl(u,t)):p<=t&&(e.expiredLanes|=u),i&=~u}if(t=Ie,a=Ee,a=Va(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Kl(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||vl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Kl(n),ln(a)){case 2:case 8:a=$l;break;case 32:a=Fl;break;case 268435456:a=ii;break;default:a=Fl}return n=q0.bind(null,e),a=Fn(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Kl(n),e.callbackPriority=2,e.callbackNode=null,2}function q0(e,t){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(mo()&&e.callbackNode!==a)return null;var n=Ee;return n=Va(e,e===Ie?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(w0(e,n,t),Y0(e,jt()),e.callbackNode!=null&&e.callbackNode===a?q0.bind(null,e):null)}function V0(e,t){if(mo())return null;w0(e,t,!0)}function Ph(){dx(function(){(Me&6)!==0?Fn(si,Wh):G0()})}function Ur(){if(rl===0){var e=Tn;e===0&&(e=Pl,Pl<<=1,(Pl&261888)===0&&(Pl=256)),rl=e}return rl}function Z0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ta(""+e)}function X0(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ex(e,t,a,n,s){if(t==="submit"&&a&&a.stateNode===s){var i=Z0((s[rt]||null).action),c=n.submitter;c&&(t=(t=c[rt]||null)?Z0(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var u=new fn("action","action",null,n,s);e.push({event:u,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(rl!==0){var p=c?X0(s,c):new FormData(s);nr(a,{pending:!0,data:p,method:s.method,action:i},null,p)}}else typeof i=="function"&&(u.preventDefault(),p=c?X0(s,c):new FormData(s),nr(a,{pending:!0,data:p,method:s.method,action:i},i,p))},currentTarget:s}]})}}for(var Hr=0;Hr<Nc.length;Hr++){var Br=Nc[Hr],tx=Br.toLowerCase(),ax=Br[0].toUpperCase()+Br.slice(1);la(tx,"on"+ax)}la(Su,"onAnimationEnd"),la(wu,"onAnimationIteration"),la(Eu,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(vh,"onTransitionRun"),la(bh,"onTransitionStart"),la(jh,"onTransitionCancel"),la(Tu,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vs));function Q0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var c=n.length-1;0<=c;c--){var u=n[c],p=u.instance,R=u.currentTarget;if(u=u.listener,p!==i&&s.isPropagationStopped())break e;i=u,s.currentTarget=R;try{i(s)}catch(q){_i(q)}s.currentTarget=null,i=p}else for(c=0;c<n.length;c++){if(u=n[c],p=u.instance,R=u.currentTarget,u=u.listener,p!==i&&s.isPropagationStopped())break e;i=u,s.currentTarget=R;try{i(s)}catch(q){_i(q)}s.currentTarget=null,i=p}}}}function Se(e,t){var a=t[ut];a===void 0&&(a=t[ut]=new Set);var n=e+"__bubble";a.has(n)||(K0(t,e,2,!1),a.add(n))}function Gr(e,t,a){var n=0;t&&(n|=4),K0(a,e,n,t)}var xo="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[xo]){e[xo]=!0,yl.forEach(function(a){a!=="selectionchange"&&(lx.has(a)||Gr(a,!1,e),Gr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xo]||(t[xo]=!0,Gr("selectionchange",!1,t))}}function K0(e,t,a,n){switch(Sm(t)){case 2:var s=Mx;break;case 8:s=Ox;break;default:s=lu}a=s.bind(null,t,a,e),s=void 0,!rs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function qr(e,t,a,n,s){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var c=n.tag;if(c===3||c===4){var u=n.stateNode.containerInfo;if(u===s)break;if(c===4)for(c=n.return;c!==null;){var p=c.tag;if((p===3||p===4)&&c.stateNode.containerInfo===s)return;c=c.return}for(;u!==null;){if(c=Wt(u),c===null)return;if(p=c.tag,p===5||p===6||p===26||p===27){n=i=c;continue e}u=u.parentNode}}n=n.return}ta(function(){var R=i,q=oa(a),K=[];e:{var I=Cu.get(e);if(I!==void 0){var U=fn,ne=e;switch(e){case"keypress":if(dn(a)===0)break e;case"keydown":case"keyup":U=lc;break;case"focusin":ne="focus",U=hs;break;case"focusout":ne="blur",U=hs;break;case"beforeblur":case"afterblur":U=hs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=ji;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Zo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=ic;break;case Su:case wu:case Eu:U=Ko;break;case Tu:U=cc;break;case"scroll":case"scrollend":U=qo;break;case"wheel":U=rc;break;case"copy":case"cut":case"paste":U=Fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=yi;break;case"toggle":case"beforetoggle":U=dc}var me=(t&4)!==0,ke=!me&&(e==="scroll"||e==="scrollend"),D=me?I!==null?I+"Capture":null:I;me=[];for(var y=R,L;y!==null;){var X=y;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||D===null||(X=Ye(y,D),X!=null&&me.push(Zs(y,X,L))),ke)break;y=y.return}0<me.length&&(I=new U(I,ne,null,a,q),K.push({event:I,listeners:me}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",I&&a!==cs&&(ne=a.relatedTarget||a.fromElement)&&(Wt(ne)||ne[Nt]))break e;if((U||I)&&(I=q.window===q?q:(I=q.ownerDocument)?I.defaultView||I.parentWindow:window,U?(ne=a.relatedTarget||a.toElement,U=R,ne=ne?Wt(ne):null,ne!==null&&(ke=v(ne),me=ne.tag,ne!==ke||me!==5&&me!==27&&me!==6)&&(ne=null)):(U=null,ne=R),U!==ne)){if(me=ji,X="onMouseLeave",D="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(me=yi,X="onPointerLeave",D="onPointerEnter",y="pointer"),ke=U==null?I:Nl(U),L=ne==null?I:Nl(ne),I=new me(X,y+"leave",U,a,q),I.target=ke,I.relatedTarget=L,X=null,Wt(q)===R&&(me=new me(D,y+"enter",ne,a,q),me.target=L,me.relatedTarget=ke,X=me),ke=X,U&&ne)t:{for(me=nx,D=U,y=ne,L=0,X=D;X;X=me(X))L++;X=0;for(var ue=y;ue;ue=me(ue))X++;for(;0<L-X;)D=me(D),L--;for(;0<X-L;)y=me(y),X--;for(;L--;){if(D===y||y!==null&&D===y.alternate){me=D;break t}D=me(D),y=me(y)}me=null}else me=null;U!==null&&$0(K,I,U,me,!1),ne!==null&&ke!==null&&$0(K,ke,ne,me,!0)}}e:{if(I=R?Nl(R):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var Ae=w;else if(Ei(I))if(W)Ae=Ci;else{Ae=vs;var oe=Lt}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?R&&os(R.elementType)&&(Ae=w):Ae=xc;if(Ae&&(Ae=Ae(e,R))){Ti(K,Ae,a,q);break e}oe&&oe(e,I,R),e==="focusout"&&R&&I.type==="number"&&R.memoizedProps.value!=null&&is(I,"number",I.value)}switch(oe=R?Nl(R):window,e){case"focusin":(Ei(oe)||oe.contentEditable==="true")&&(vn=oe,vc=R,js=null);break;case"focusout":js=vc=vn=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,Nu(K,a,q);break;case"selectionchange":if(gh)break;case"keydown":case"keyup":Nu(K,a,q)}var be;if(_l)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else aa?xn(e,a)&&(Te="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(Si&&a.locale!=="ko"&&(aa||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&aa&&(be=bi()):(ca=q,us="value"in ca?ca.value:ca.textContent,aa=!0)),oe=po(R,Te),0<oe.length&&(Te=new Ni(Te,e,null,a,q),K.push({event:Te,listeners:oe}),be?Te.data=be:(be=Xe(a),be!==null&&(Te.data=be)))),(be=fc?pn(e,a):gn(e,a))&&(Te=po(R,"onBeforeInput"),0<Te.length&&(oe=new Ni("onBeforeInput","beforeinput",null,a,q),K.push({event:oe,listeners:Te}),oe.data=be)),ex(K,e,R,a,q)}Q0(K,t)})}function Zs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function po(e,t){for(var a=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=Ye(e,a),s!=null&&n.unshift(Zs(e,s,i)),s=Ye(e,t),s!=null&&n.push(Zs(e,s,i))),e.tag===3)return n;e=e.return}return[]}function nx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $0(e,t,a,n,s){for(var i=t._reactName,c=[];a!==null&&a!==n;){var u=a,p=u.alternate,R=u.stateNode;if(u=u.tag,p!==null&&p===n)break;u!==5&&u!==26&&u!==27||R===null||(p=R,s?(R=Ye(a,i),R!=null&&c.unshift(Zs(a,R,p))):s||(R=Ye(a,i),R!=null&&c.push(Zs(a,R,p)))),a=a.return}c.length!==0&&e.push({event:t,listeners:c})}var sx=/\r\n?/g,ix=/\u0000|\uFFFD/g;function F0(e){return(typeof e=="string"?e:""+e).replace(sx,`
`).replace(ix,"")}function J0(e,t){return t=F0(t),F0(e)===t}function Re(e,t,a,n,s,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||re(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&re(e,""+n);break;case"className":wl(e,"class",n);break;case"tabIndex":wl(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":wl(e,a,n);break;case"style":pi(e,n,i);break;case"data":if(t!=="object"){wl(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ta(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Re(e,t,"name",s.name,s,null),Re(e,t,"formEncType",s.formEncType,s,null),Re(e,t,"formMethod",s.formMethod,s,null),Re(e,t,"formTarget",s.formTarget,s,null)):(Re(e,t,"encType",s.encType,s,null),Re(e,t,"method",s.method,s,null),Re(e,t,"target",s.target,s,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ta(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=St);break;case"onScroll":n!=null&&Se("scroll",e);break;case"onScrollEnd":n!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Ta(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Se("beforetoggle",e),Se("toggle",e),on(e,"popover",n);break;case"xlinkActuate":ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ea(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ea(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ea(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ea(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":on(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yo.get(a)||a,on(e,a,n))}}function Vr(e,t,a,n,s,i){switch(a){case"style":pi(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof n=="string"?re(e,n):(typeof n=="number"||typeof n=="bigint")&&re(e,""+n);break;case"onScroll":n!=null&&Se("scroll",e);break;case"onScrollEnd":n!=null&&Se("scrollend",e);break;case"onClick":n!=null&&(e.onclick=St);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),i=e[rt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,s);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):on(e,a,n)}}}function ht(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var n=!1,s=!1,i;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];if(c!=null)switch(i){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Re(e,t,i,c,a,null)}}s&&Re(e,t,"srcSet",a.srcSet,a,null),n&&Re(e,t,"src",a.src,a,null);return;case"input":Se("invalid",e);var u=i=c=s=null,p=null,R=null;for(n in a)if(a.hasOwnProperty(n)){var q=a[n];if(q!=null)switch(n){case"name":s=q;break;case"type":c=q;break;case"checked":p=q;break;case"defaultChecked":R=q;break;case"value":i=q;break;case"defaultValue":u=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,t));break;default:Re(e,t,n,q,a,null)}}cn(e,i,u,p,R,c,s,!1);return;case"select":Se("invalid",e),n=c=i=null;for(s in a)if(a.hasOwnProperty(s)&&(u=a[s],u!=null))switch(s){case"value":i=u;break;case"defaultValue":c=u;break;case"multiple":n=u;default:Re(e,t,s,u,a,null)}t=i,a=c,e.multiple=!!n,t!=null?ia(e,!!n,t,!1):a!=null&&ia(e,!!n,a,!0);return;case"textarea":Se("invalid",e),i=s=n=null;for(c in a)if(a.hasOwnProperty(c)&&(u=a[c],u!=null))switch(c){case"value":n=u;break;case"defaultValue":s=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:Re(e,t,c,u,a,null)}hi(e,n,s,i);return;case"option":for(p in a)if(a.hasOwnProperty(p)&&(n=a[p],n!=null))switch(p){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Re(e,t,p,n,a,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(n=0;n<Vs.length;n++)Se(Vs[n],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(n=a[R],n!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Re(e,t,R,n,a,null)}return;default:if(os(t)){for(q in a)a.hasOwnProperty(q)&&(n=a[q],n!==void 0&&Vr(e,t,q,n,a,void 0));return}}for(u in a)a.hasOwnProperty(u)&&(n=a[u],n!=null&&Re(e,t,u,n,a,null))}function ox(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,c=null,u=null,p=null,R=null,q=null;for(U in a){var K=a[U];if(a.hasOwnProperty(U)&&K!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":p=K;default:n.hasOwnProperty(U)||Re(e,t,U,null,n,K)}}for(var I in n){var U=n[I];if(K=a[I],n.hasOwnProperty(I)&&(U!=null||K!=null))switch(I){case"type":i=U;break;case"name":s=U;break;case"checked":R=U;break;case"defaultChecked":q=U;break;case"value":c=U;break;case"defaultValue":u=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:U!==K&&Re(e,t,I,U,n,K)}}ss(e,c,u,p,R,q,i,s);return;case"select":U=c=u=I=null;for(i in a)if(p=a[i],a.hasOwnProperty(i)&&p!=null)switch(i){case"value":break;case"multiple":U=p;default:n.hasOwnProperty(i)||Re(e,t,i,null,n,p)}for(s in n)if(i=n[s],p=a[s],n.hasOwnProperty(s)&&(i!=null||p!=null))switch(s){case"value":I=i;break;case"defaultValue":u=i;break;case"multiple":c=i;default:i!==p&&Re(e,t,s,i,n,p)}t=u,a=c,n=U,I!=null?ia(e,!!a,I,!1):!!n!=!!a&&(t!=null?ia(e,!!a,t,!0):ia(e,!!a,a?[]:"",!1));return;case"textarea":U=I=null;for(u in a)if(s=a[u],a.hasOwnProperty(u)&&s!=null&&!n.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Re(e,t,u,null,n,s)}for(c in n)if(s=n[c],i=a[c],n.hasOwnProperty(c)&&(s!=null||i!=null))switch(c){case"value":I=s;break;case"defaultValue":U=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(r(91));break;default:s!==i&&Re(e,t,c,s,n,i)}fi(e,I,U);return;case"option":for(var ne in a)if(I=a[ne],a.hasOwnProperty(ne)&&I!=null&&!n.hasOwnProperty(ne))switch(ne){case"selected":e.selected=!1;break;default:Re(e,t,ne,null,n,I)}for(p in n)if(I=n[p],U=a[p],n.hasOwnProperty(p)&&I!==U&&(I!=null||U!=null))switch(p){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Re(e,t,p,I,n,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)I=a[me],a.hasOwnProperty(me)&&I!=null&&!n.hasOwnProperty(me)&&Re(e,t,me,null,n,I);for(R in n)if(I=n[R],U=a[R],n.hasOwnProperty(R)&&I!==U&&(I!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,t));break;default:Re(e,t,R,I,n,U)}return;default:if(os(t)){for(var ke in a)I=a[ke],a.hasOwnProperty(ke)&&I!==void 0&&!n.hasOwnProperty(ke)&&Vr(e,t,ke,void 0,n,I);for(q in n)I=n[q],U=a[q],!n.hasOwnProperty(q)||I===U||I===void 0&&U===void 0||Vr(e,t,q,I,n,U);return}}for(var D in a)I=a[D],a.hasOwnProperty(D)&&I!=null&&!n.hasOwnProperty(D)&&Re(e,t,D,null,n,I);for(K in n)I=n[K],U=a[K],!n.hasOwnProperty(K)||I===U||I==null&&U==null||Re(e,t,K,I,n,U)}function W0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var s=a[n],i=s.transferSize,c=s.initiatorType,u=s.duration;if(i&&u&&W0(c)){for(c=0,u=s.responseEnd,n+=1;n<a.length;n++){var p=a[n],R=p.startTime;if(R>u)break;var q=p.transferSize,K=p.initiatorType;q&&W0(K)&&(p=p.responseEnd,c+=q*(p<u?1:(u-R)/(p-R)))}if(--n,t+=8*(i+c)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zr=null,Xr=null;function go(e){return e.nodeType===9?e:e.ownerDocument}function P0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function em(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Qr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kr=null;function rx(){var e=window.event;return e&&e.type==="popstate"?e===Kr?!1:(Kr=e,!0):(Kr=null,!1)}var tm=typeof setTimeout=="function"?setTimeout:void 0,ux=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,dx=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(e){return am.resolve(null).then(e).catch(mx)}:tm;function mx(e){setTimeout(function(){throw e})}function ul(e){return e==="head"}function lm(e,t){var a=t,n=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(s),Zn(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Xs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Xs(a);for(var i=a.firstChild;i;){var c=i.nextSibling,u=i.nodeName;i[Za]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=c}}else a==="body"&&Xs(e.ownerDocument.body);a=s}while(a);Zn(t)}function nm(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function $r(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$r(a),ls(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function fx(e,t,a,n){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Za])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function hx(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ft(e.nextSibling),e===null))return null;return e}function sm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ft(e.nextSibling),e===null))return null;return e}function Fr(e){return e.data==="$?"||e.data==="$~"}function Jr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xx(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Wr=null;function im(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Ft(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function om(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function cm(e,t,a){switch(t=go(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Xs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ls(e)}var Jt=new Map,rm=new Set;function vo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ya=O.d;O.d={f:px,r:gx,D:vx,C:bx,L:jx,m:Nx,X:Sx,S:yx,M:wx};function px(){var e=Ya.f(),t=co();return e||t}function gx(e){var t=Pt(e);t!==null&&t.tag===5&&t.type==="form"?Td(t):Ya.r(e)}var Yn=typeof document>"u"?null:document;function um(e,t,a){var n=Yn;if(n&&typeof t=="string"&&t){var s=pt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),rm.has(s)||(rm.add(s),e={rel:e,crossOrigin:a,href:t},n.querySelector(s)===null&&(t=n.createElement("link"),ht(t,"link",e),Pe(t),n.head.appendChild(t)))}}function vx(e){Ya.D(e),um("dns-prefetch",e,null)}function bx(e,t){Ya.C(e,t),um("preconnect",e,t)}function jx(e,t,a){Ya.L(e,t,a);var n=Yn;if(n&&e&&t){var s='link[rel="preload"][as="'+pt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+pt(a.imageSizes)+'"]')):s+='[href="'+pt(e)+'"]';var i=s;switch(t){case"style":i=qn(e);break;case"script":i=Vn(e)}Jt.has(i)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Jt.set(i,e),n.querySelector(s)!==null||t==="style"&&n.querySelector(Qs(i))||t==="script"&&n.querySelector(Ks(i))||(t=n.createElement("link"),ht(t,"link",e),Pe(t),n.head.appendChild(t)))}}function Nx(e,t){Ya.m(e,t);var a=Yn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+pt(n)+'"][href="'+pt(e)+'"]',i=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Vn(e)}if(!Jt.has(i)&&(e=_({rel:"modulepreload",href:e},t),Jt.set(i,e),a.querySelector(s)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ks(i)))return}n=a.createElement("link"),ht(n,"link",e),Pe(n),a.head.appendChild(n)}}}function yx(e,t,a){Ya.S(e,t,a);var n=Yn;if(n&&e){var s=Sa(n).hoistableStyles,i=qn(e);t=t||"default";var c=s.get(i);if(!c){var u={loading:0,preload:null};if(c=n.querySelector(Qs(i)))u.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Jt.get(i))&&Pr(e,a);var p=c=n.createElement("link");Pe(p),ht(p,"link",e),p._p=new Promise(function(R,q){p.onload=R,p.onerror=q}),p.addEventListener("load",function(){u.loading|=1}),p.addEventListener("error",function(){u.loading|=2}),u.loading|=4,bo(c,t,n)}c={type:"stylesheet",instance:c,count:1,state:u},s.set(i,c)}}}function Sx(e,t){Ya.X(e,t);var a=Yn;if(a&&e){var n=Sa(a).hoistableScripts,s=Vn(e),i=n.get(s);i||(i=a.querySelector(Ks(s)),i||(e=_({src:e,async:!0},t),(t=Jt.get(s))&&eu(e,t),i=a.createElement("script"),Pe(i),ht(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(s,i))}}function wx(e,t){Ya.M(e,t);var a=Yn;if(a&&e){var n=Sa(a).hoistableScripts,s=Vn(e),i=n.get(s);i||(i=a.querySelector(Ks(s)),i||(e=_({src:e,async:!0,type:"module"},t),(t=Jt.get(s))&&eu(e,t),i=a.createElement("script"),Pe(i),ht(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(s,i))}}function dm(e,t,a,n){var s=(s=xe.current)?vo(s):null;if(!s)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=qn(a.href),a=Sa(s).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qn(a.href);var i=Sa(s).hoistableStyles,c=i.get(e);if(c||(s=s.ownerDocument||s,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=s.querySelector(Qs(e)))&&!i._p&&(c.instance=i,c.state.loading=5),Jt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jt.set(e,a),i||Ex(s,e,a,c.state))),t&&n===null)throw Error(r(528,""));return c}if(t&&n!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Vn(a),a=Sa(s).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function qn(e){return'href="'+pt(e)+'"'}function Qs(e){return'link[rel="stylesheet"]['+e+"]"}function mm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Ex(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),ht(t,"link",a),Pe(t),e.head.appendChild(t))}function Vn(e){return'[src="'+pt(e)+'"]'}function Ks(e){return"script[async]"+e}function fm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+pt(a.href)+'"]');if(n)return t.instance=n,Pe(n),n;var s=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Pe(n),ht(n,"style",s),bo(n,a.precedence,e),t.instance=n;case"stylesheet":s=qn(a.href);var i=e.querySelector(Qs(s));if(i)return t.state.loading|=4,t.instance=i,Pe(i),i;n=mm(a),(s=Jt.get(s))&&Pr(n,s),i=(e.ownerDocument||e).createElement("link"),Pe(i);var c=i;return c._p=new Promise(function(u,p){c.onload=u,c.onerror=p}),ht(i,"link",n),t.state.loading|=4,bo(i,a.precedence,e),t.instance=i;case"script":return i=Vn(a.src),(s=e.querySelector(Ks(i)))?(t.instance=s,Pe(s),s):(n=a,(s=Jt.get(i))&&(n=_({},a),eu(n,s)),e=e.ownerDocument||e,s=e.createElement("script"),Pe(s),ht(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,bo(n,a.precedence,e));return t.instance}function bo(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,i=s,c=0;c<n.length;c++){var u=n[c];if(u.dataset.precedence===t)i=u;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Pr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var jo=null;function hm(e,t,a){if(jo===null){var n=new Map,s=jo=new Map;s.set(a,n)}else s=jo,n=s.get(a),n||(n=new Map,s.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var i=a[s];if(!(i[Za]||i[We]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var u=n.get(c);u?u.push(i):n.set(c,[i])}}return n}function xm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Tx(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function pm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Cx(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var s=qn(n.href),i=t.querySelector(Qs(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=No.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Pe(i);return}i=t.ownerDocument||t,n=mm(n),(s=Jt.get(s))&&Pr(n,s),i=i.createElement("link"),Pe(i);var c=i;c._p=new Promise(function(u,p){c.onload=u,c.onerror=p}),ht(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=No.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var tu=0;function _x(e,t){return e.stylesheets&&e.count===0&&So(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&So(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&tu===0&&(tu=62500*cx());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&So(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>tu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(s)}}:null}function No(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)So(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yo=null;function So(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yo=new Map,t.forEach(Ax,e),yo=null,No.call(e))}function Ax(e,t){if(!(t.state.loading&4)){var a=yo.get(e);if(a)var n=a.get(null);else{a=new Map,yo.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var c=s[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(a.set(c.dataset.precedence,c),n=c)}n&&a.set(null,n)}s=t.instance,c=s.getAttribute("data-precedence"),i=a.get(c)||n,i===n&&a.set(null,s),a.set(c,s),this.count++,n=No.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var $s={$$typeof:G,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Dx(e,t,a,n,s,i,c,u,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ot(0),this.hiddenUpdates=Ot(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function gm(e,t,a,n,s,i,c,u,p,R,q,K){return e=new Dx(e,t,a,c,p,R,q,K,u),t=1,i===!0&&(t|=24),i=Rt(3,null,null,t),e.current=i,i.stateNode=e,t=Lc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},Uc(i),e}function vm(e){return e?(e=Nn,e):Nn}function bm(e,t,a,n,s,i){s=vm(s),n.context===null?n.context=s:n.pendingContext=s,n=Pa(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=el(e,n,t),a!==null&&(Mt(a,e,t),Cs(a,e,t))}function jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function au(e,t){jm(e,t),(e=e.alternate)&&jm(e,t)}function Nm(e){if(e.tag===13||e.tag===31){var t=zl(e,67108864);t!==null&&Mt(t,e,67108864),au(e,67108864)}}function ym(e){if(e.tag===13||e.tag===31){var t=Bt();t=jl(t);var a=zl(e,t);a!==null&&Mt(a,e,t),au(e,t)}}var wo=!0;function Mx(e,t,a,n){var s=E.T;E.T=null;var i=O.p;try{O.p=2,lu(e,t,a,n)}finally{O.p=i,E.T=s}}function Ox(e,t,a,n){var s=E.T;E.T=null;var i=O.p;try{O.p=8,lu(e,t,a,n)}finally{O.p=i,E.T=s}}function lu(e,t,a,n){if(wo){var s=nu(n);if(s===null)qr(e,t,n,Eo,a),wm(e,n);else if(Lx(s,e,t,a,n))n.stopPropagation();else if(wm(e,n),t&4&&-1<zx.indexOf(e)){for(;s!==null;){var i=Pt(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=ba(i.pendingLanes);if(c!==0){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;c;){var p=1<<31-it(c);u.entanglements[1]|=p,c&=~p}ma(i),(Me&6)===0&&(io=jt()+500,qs(0))}}break;case 31:case 13:u=zl(i,2),u!==null&&Mt(u,i,2),co(),au(i,2)}if(i=nu(n),i===null&&qr(e,t,n,Eo,a),i===s)break;s=i}s!==null&&n.stopPropagation()}else qr(e,t,n,null,a)}}function nu(e){return e=oa(e),su(e)}var Eo=null;function su(e){if(Eo=null,e=Wt(e),e!==null){var t=v(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=d(t),e!==null)return e;e=null}else if(a===31){if(e=S(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Eo=e,null}function Sm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wn()){case si:return 2;case $l:return 8;case Fl:case Jl:return 32;case ii:return 268435456;default:return 32}default:return 32}}var iu=!1,dl=null,ml=null,fl=null,Fs=new Map,Js=new Map,hl=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wm(e,t){switch(e){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":ml=null;break;case"mouseover":case"mouseout":fl=null;break;case"pointerover":case"pointerout":Fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(t.pointerId)}}function Ws(e,t,a,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Pt(t),t!==null&&Nm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Lx(e,t,a,n,s){switch(t){case"focusin":return dl=Ws(dl,e,t,a,n,s),!0;case"dragenter":return ml=Ws(ml,e,t,a,n,s),!0;case"mouseover":return fl=Ws(fl,e,t,a,n,s),!0;case"pointerover":var i=s.pointerId;return Fs.set(i,Ws(Fs.get(i)||null,e,t,a,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Js.set(i,Ws(Js.get(i)||null,e,t,a,n,s)),!0}return!1}function Em(e){var t=Wt(e.target);if(t!==null){var a=v(t);if(a!==null){if(t=a.tag,t===13){if(t=d(a),t!==null){e.blockedOn=t,as(e.priority,function(){ym(a)});return}}else if(t===31){if(t=S(a),t!==null){e.blockedOn=t,as(e.priority,function(){ym(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function To(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=nu(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);cs=n,a.target.dispatchEvent(n),cs=null}else return t=Pt(a),t!==null&&Nm(t),e.blockedOn=a,!1;t.shift()}return!0}function Tm(e,t,a){To(e)&&a.delete(t)}function Rx(){iu=!1,dl!==null&&To(dl)&&(dl=null),ml!==null&&To(ml)&&(ml=null),fl!==null&&To(fl)&&(fl=null),Fs.forEach(Tm),Js.forEach(Tm)}function Co(e,t){e.blockedOn===t&&(e.blockedOn=null,iu||(iu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Rx)))}var _o=null;function Cm(e){_o!==e&&(_o=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){_o===e&&(_o=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],s=e[t+2];if(typeof n!="function"){if(su(n||a)===null)continue;break}var i=Pt(a);i!==null&&(e.splice(t,3),t-=3,nr(i,{pending:!0,data:s,method:a.method,action:n},n,s))}}))}function Zn(e){function t(p){return Co(p,e)}dl!==null&&Co(dl,e),ml!==null&&Co(ml,e),fl!==null&&Co(fl,e),Fs.forEach(t),Js.forEach(t);for(var a=0;a<hl.length;a++){var n=hl[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<hl.length&&(a=hl[0],a.blockedOn===null);)Em(a),a.blockedOn===null&&hl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var s=a[n],i=a[n+1],c=s[rt]||null;if(typeof i=="function")c||Cm(a);else if(c){var u=null;if(i&&i.hasAttribute("formAction")){if(s=i,c=i[rt]||null)u=c.formAction;else if(su(s)!==null)continue}else u=c.action;typeof u=="function"?a[n+1]=u:(a.splice(n,3),n-=3),Cm(a)}}}function _m(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return s=c})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function ou(e){this._internalRoot=e}Ao.prototype.render=ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,n=Bt();bm(a,n,e,t,null,null)},Ao.prototype.unmount=ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bm(e.current,2,null,e,null,null),co(),t[Nt]=null}};function Ao(e){this._internalRoot=e}Ao.prototype.unstable_scheduleHydration=function(e){if(e){var t=ts();e={blockedOn:null,target:e,priority:t};for(var a=0;a<hl.length&&t!==0&&t<hl[a].priority;a++);hl.splice(a,0,e),a===0&&Em(e)}};var Am=m.version;if(Am!=="19.2.0")throw Error(r(527,Am,"19.2.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=h(t),e=e!==null?z(e):null,e=e===null?null:e.stateNode,e};var kx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{ga=Do.inject(kx),Ze=Do}catch{}}return ei.createRoot=function(e,t){if(!f(e))throw Error(r(299));var a=!1,n="",s=kd,i=Id,c=Ud;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=gm(e,1,!1,null,null,a,n,null,s,i,c,_m),e[Nt]=t.current,Yr(e),new ou(t)},ei.hydrateRoot=function(e,t,a){if(!f(e))throw Error(r(299));var n=!1,s="",i=kd,c=Id,u=Ud,p=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(u=a.onRecoverableError),a.formState!==void 0&&(p=a.formState)),t=gm(e,1,!0,t,a??null,n,s,p,i,c,u,_m),t.context=vm(null),a=t.current,n=Bt(),n=jl(n),s=Pa(n),s.callback=null,el(a,s,n),a=n,t.current.lanes=a,ja(t,a),ma(t),e[Nt]=t.current,Yr(e),new Ao(t)},ei.version="19.2.0",ei}var Hm;function Xx(){if(Hm)return uu.exports;Hm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(m){console.error(m)}}return o(),uu.exports=Zx(),uu.exports}var Qx=Xx();const Kx=uh(Qx),$x=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),Fx=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),Jx=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a2.25 2.25 0 0 0-2.25-2.25H9.75a2.25 2.25 0 0 0-2.25 2.25v3.75m6 0H7.5m9 0h-9m9 0v6m-9-6v6m0-6H5.25a2.25 2.25 0 0 0-2.25 2.25v4.5a2.25 2.25 0 0 0 2.25 2.25h13.5a2.25 2.25 0 0 0 2.25-2.25v-4.5a2.25 2.25 0 0 0-2.25-2.25H18.75"})}),Mo={personal:"#3B82F6",pareja:"#EC4899",trabajo:"#22C55E",otro:"#64748B"},Wx=({currentDate:o,setCurrentDate:m,selectedDate:g,onDateSelect:r,events:f,onOpenPrintView:v})=>{const d=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],S=new Date(o.getFullYear(),o.getMonth(),1),h=new Date(o.getFullYear(),o.getMonth()+1,0).getDate(),z=S.getDay(),_=()=>{m(new Date(o.getFullYear(),o.getMonth()-1,1))},M=()=>{m(new Date(o.getFullYear(),o.getMonth()+1,1))},H=(A,Z)=>A.getFullYear()===Z.getFullYear()&&A.getMonth()===Z.getMonth()&&A.getDate()===Z.getDate(),B=new Date,V=f.reduce((A,Z)=>{const G=Z.date;return A[G]||(A[G]=[]),A[G].push(Z),A},{}),J=()=>{const A=[];for(let Z=0;Z<z;Z++)A.push(l.jsx("div",{className:"border-r border-b border-zinc-100"},`empty-start-${Z}`));for(let Z=1;Z<=h;Z++){const G=new Date(o.getFullYear(),o.getMonth(),Z),k=G.toISOString().split("T")[0],Y=(V[k]||[]).sort((ie,ge)=>ie.time.localeCompare(ge.time)),F=H(G,B),$=H(G,g),ce=new Date,P=Y.some(ie=>{`${ie.date}${ie.time}`;const ge=new Date(ie.date+"T00:00:00"),Ve=new Date(ce.getFullYear(),ce.getMonth(),ce.getDate());return ge<Ve&&!ie.completed});let we="relative p-2 h-20 sm:h-24 border-r border-b border-zinc-100 flex flex-col cursor-pointer transition-colors duration-200";$?we+=" bg-teal-100":F?we+=" bg-stone-50":we+=" hover:bg-stone-50";let fe="text-sm font-medium";$?fe+=" text-teal-700":F?fe+=" text-teal-600":fe+=" text-zinc-500",A.push(l.jsxs("div",{className:we,onClick:()=>r(G),children:[P&&l.jsx("span",{title:"Hay eventos pasados sin completar",className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full"}),l.jsx("span",{className:fe,children:Z}),Y.length>0&&l.jsx("div",{className:"mt-1 flex-grow overflow-hidden",children:Y.length>2?l.jsx("div",{className:"flex flex-wrap gap-1","aria-label":`${Y.length} eventos`,children:Y.map(ie=>l.jsx("div",{title:`${ie.time} - ${ie.title}`,className:`w-2 h-2 rounded-full ${ie.completed?"opacity-40":""}`,style:{backgroundColor:ie.color||Mo[ie.category]||Mo.otro}},ie.id))}):l.jsx("div",{className:"space-y-1",children:Y.map(ie=>l.jsx("div",{className:`w-full text-xs truncate px-1.5 py-0.5 rounded text-white ${ie.completed?"opacity-50":""}`,style:{backgroundColor:ie.color||Mo[ie.category]||Mo.otro},children:ie.title},ie.id))})})]},Z))}return A};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-zinc-700",children:o.toLocaleString("es-ES",{month:"long",year:"numeric"})}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:v,title:"Abrir vista de impresión",className:"p-2 rounded-full hover:bg-zinc-100 transition-colors",children:l.jsx(Jx,{className:"w-5 h-5 text-zinc-500"})}),l.jsx("button",{onClick:_,className:"p-2 rounded-full hover:bg-zinc-100 transition-colors",children:l.jsx($x,{className:"w-5 h-5 text-zinc-500"})}),l.jsx("button",{onClick:M,className:"p-2 rounded-full hover:bg-zinc-100 transition-colors",children:l.jsx(Fx,{className:"w-5 h-5 text-zinc-500"})})]})]}),l.jsxs("div",{className:"grid grid-cols-7 border-t border-l border-zinc-100 rounded-lg overflow-hidden",children:[d.map(A=>l.jsx("div",{className:"text-center py-2 text-sm font-semibold text-zinc-500 bg-stone-50 border-r border-b border-zinc-100",children:A},A)),J()]})]})},Bm={personal:"#3B82F6",pareja:"#EC4899",trabajo:"#22C55E",otro:"#64748B"},Px=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),e1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 11.664 0l3.181-3.183m-3.181-4.991v4.99"})}),t1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),a1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),l1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})}),n1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),s1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),i1=({selectedDate:o,events:m,exams:g,subjects:r,onAddEvent:f,onEditEvent:v,onDeleteEvent:d,onManageRoutines:S,onToggleEventCompletion:N})=>{const[h,z]=dh.useState([]),_=o.toISOString().split("T")[0],M=m.filter(A=>A.date===_).sort((A,Z)=>A.time.localeCompare(Z.time)),H=A=>{z(Z=>Z.includes(A)?Z.filter(G=>G!==A):[...Z,A])},B=A=>{A.routineId||A.isAcademic||d(A.id)},V=A=>A.routineId?"Edita la rutina para cambiar este evento":A.isAcademic?"Gestiona este examen desde la sección Académica":"Editar evento",J=A=>A.routineId?"Elimina la rutina para borrar este evento":A.isAcademic?"Gestiona este examen desde la sección Académica":"Eliminar evento";return l.jsx(l.Fragment,{children:l.jsxs("div",{children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:"Agenda del Día"}),l.jsx("p",{className:"text-md text-zinc-500 mt-1",children:o.toLocaleDateString("es-ES",{weekday:"long",month:"long",day:"numeric"})})]}),l.jsx("div",{className:"mt-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsx("h3",{className:"text-lg font-medium text-zinc-800",children:"Eventos de Hoy"}),l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[l.jsxs("button",{onClick:S,className:"flex items-center space-x-2 text-sm font-medium text-teal-600 hover:text-teal-800 transition-colors",children:[l.jsx(e1,{className:"w-5 h-5"}),l.jsx("span",{children:"Rutinas"})]}),l.jsxs("button",{onClick:f,className:"flex items-center space-x-2 text-sm font-medium text-teal-600 hover:text-teal-800 transition-colors",children:[l.jsx(Px,{className:"w-5 h-5"}),l.jsx("span",{children:"Añadir Evento"})]})]})]}),M.length>0?l.jsx("ul",{className:"space-y-3",children:M.map(A=>{const Z=h.includes(A.id),G=!!A.routineId||!!A.isAcademic,k=A.isAcademic?A.id.replace("exam-",""):null,Y=k?g.find($=>$.id===k):null,F=A.description||A.isAcademic&&(Y==null?void 0:Y.topics);return l.jsxs("li",{className:`p-3 rounded-lg flex flex-col group transition-all duration-300 ease-in-out border-l-4 ${A.completed?"bg-green-50 border-green-400":"bg-stone-50"}`,style:A.completed?{}:{borderColor:A.color||Bm[A.category]||Bm.otro},children:[l.jsxs("div",{className:"flex justify-between items-start w-full",children:[l.jsxs("div",{className:"flex items-start space-x-3 flex-grow min-w-0",children:[l.jsx("input",{type:"checkbox",checked:!!A.completed,onChange:$=>{$.stopPropagation(),N(A.id)},className:"mt-1 h-5 w-5 rounded border-zinc-300 text-teal-600 focus:ring-teal-500 cursor-pointer flex-shrink-0","aria-label":`Marcar ${A.title} como completado`}),l.jsxs("div",{className:`flex-grow ${F?"cursor-pointer":""}`,onClick:()=>F&&H(A.id),children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[A.completed&&l.jsx(n1,{className:"w-5 h-5 text-green-500 flex-shrink-0 transition-opacity"}),l.jsx("p",{className:`font-semibold text-zinc-800 truncate transition-colors ${A.completed?"line-through text-zinc-500":""}`,children:A.title})]}),l.jsxs("div",{className:`flex items-center gap-2 text-sm transition-colors ${A.completed?"text-zinc-400":"text-zinc-500"}`,children:[l.jsx("span",{children:A.time}),A.reminder&&!A.isAcademic&&l.jsx("div",{title:"Recordatorio en la app activado",children:l.jsx(l1,{className:`w-4 h-4 transition-colors ${A.completed?"text-zinc-400":"text-teal-500"}`})}),(Y==null?void 0:Y.grade)!==null&&(Y==null?void 0:Y.grade)!==void 0&&l.jsxs("span",{className:`font-bold text-base ml-2 ${Y.grade>=4?"text-green-600":"text-red-600"}`,children:["Nota: ",Y.grade]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 sm:opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0 ml-2",children:[F&&l.jsx("button",{onClick:()=>H(A.id),className:"p-1.5 text-zinc-500 rounded-md",children:l.jsx(s1,{className:`w-4 h-4 transition-transform ${Z?"rotate-180":""}`})}),l.jsx("button",{onClick:()=>v(A),disabled:G,className:"p-1.5 text-zinc-500 hover:text-teal-600 rounded-md hover:bg-zinc-200 disabled:cursor-not-allowed disabled:text-zinc-300 disabled:hover:bg-transparent",title:V(A),children:l.jsx(t1,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>B(A),disabled:G,className:"p-1.5 text-zinc-500 hover:text-red-600 rounded-md hover:bg-zinc-200 disabled:cursor-not-allowed disabled:text-zinc-300 disabled:hover:bg-transparent",title:J(A),children:l.jsx(a1,{className:"w-4 h-4"})})]})]}),Z&&F&&l.jsx("div",{className:"pl-8 pt-2",children:l.jsx("p",{className:`text-sm whitespace-pre-wrap transition-colors ${A.completed?"text-zinc-500":"text-zinc-600"}`,children:A.isAcademic?Y==null?void 0:Y.topics:A.description})})]},A.id)})}):l.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No hay eventos programados para hoy."})]})})]})})},o1=["#6366F1","#EC4899","#22C55E","#64748B","#EF4444","#F97316","#EAB308","#3B82F6","#8B5CF6","#14B8A6"],mh=({selectedColor:o,onChange:m})=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Color"}),l.jsx("div",{className:"flex flex-wrap gap-3",children:o1.map(g=>l.jsx("button",{type:"button",onClick:()=>m(g),className:`w-8 h-8 rounded-full transition-all focus:outline-none border-2 ${o===g?"ring-2 ring-offset-2 ring-teal-500 border-white":"border-transparent hover:scale-110"}`,style:{backgroundColor:g},"aria-label":`Select color ${g}`},g))})]}),gu=()=>{const o=x.useCallback(async()=>{if(!("Notification"in window)){console.log("This browser does not support desktop notification");return}Notification.permission!=="granted"&&Notification.permission!=="denied"&&await Notification.requestPermission()==="granted"&&console.log("Notification permission granted.")},[]),m=x.useCallback((g,r,f)=>{if("Notification"in window&&Notification.permission==="granted"){const v=new Notification(g,{...r,icon:"https://i.postimg.cc/YhvKDdRc/Logo-for-Conecta-Mente-Clean-Sans-Serif-Abstract-Design.png"});f&&(v.onclick=()=>{window.focus(),f(),v.close()})}},[]);return{requestPermission:o,sendSystemNotification:m}},c1=[{id:"personal",name:"Personal",color:"bg-blue-500",ring:"ring-blue-500"},{id:"pareja",name:"Conexión",color:"bg-pink-500",ring:"ring-pink-500"},{id:"trabajo",name:"Trabajo",color:"bg-green-500",ring:"ring-green-500"},{id:"otro",name:"Otro",color:"bg-slate-500",ring:"ring-slate-500"}],r1=({isOpen:o,onClose:m,onSave:g,event:r,selectedDate:f})=>{const[v,d]=x.useState(""),[S,N]=x.useState("12:00"),[h,z]=x.useState(""),[_,M]=x.useState("personal"),[H,B]=x.useState(void 0),[V,J]=x.useState(!1),[A,Z]=x.useState(""),{requestPermission:G}=gu();if(x.useEffect(()=>{r?(d(r.title),N(r.time),z(r.description||""),M(r.category||"personal"),B(r.color),J(r.reminder)):(d(""),N("12:00"),z(""),M("personal"),B(void 0),J(!1))},[r]),!o)return null;const k=F=>{if(F.preventDefault(),!v.trim()){Z("El título no puede estar vacío.");return}Z(""),g({title:v.trim(),date:f.toISOString().split("T")[0],time:S,description:h.trim(),category:_,color:H,reminder:V})},Y=F=>{const $=F.target.checked;J($),$&&G()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",onClick:F=>F.stopPropagation(),children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800 mb-6",children:r?"Editar Evento":"Añadir Nuevo Evento"}),l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Título"}),l.jsx("input",{type:"text",id:"title",value:v,onChange:F=>d(F.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500",placeholder:"p. ej., Reunión de equipo"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"time",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Hora"}),l.jsx("input",{type:"time",id:"time",value:S,onChange:F=>N(F.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Descripción (Opcional)"}),l.jsx("textarea",{id:"description",value:h,onChange:F=>z(F.target.value),rows:3,className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 resize-none",placeholder:"Añade más detalles sobre tu evento..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Categoría"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:c1.map(F=>l.jsx("button",{type:"button",onClick:()=>M(F.id),className:`px-3 py-1 text-sm font-medium rounded-full transition-all ${_===F.id?`${F.color} text-white ring-2 ring-offset-2 ${F.ring}`:"bg-zinc-100 text-zinc-700 hover:bg-zinc-200"}`,children:F.name},F.id))})]}),l.jsx("div",{className:"pt-2",children:l.jsx(mh,{selectedColor:H,onChange:B})}),l.jsxs("div",{className:"pt-2 space-y-4",children:[l.jsxs("fieldset",{className:"border-t border-zinc-200 pt-4",children:[l.jsx("legend",{className:"text-sm font-medium text-zinc-800",children:"Recordatorios"}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2 mb-3",children:"Al activar un recordatorio, se te pedirá permiso para enviar notificaciones a través de tu navegador."}),l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"reminder",type:"checkbox",checked:V,onChange:Y,className:"h-4 w-4 text-teal-600 border-zinc-300 rounded focus:ring-teal-500"}),l.jsx("label",{htmlFor:"reminder",className:"ml-3 block text-sm text-zinc-700",children:"Notificación del sistema"})]})})]}),A&&l.jsx("p",{className:"text-red-600 text-sm font-medium text-center bg-red-50 p-2 rounded-md",children:A})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[l.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-teal-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Guardar Evento"})]})]})]})})},u1=[{id:"personal",name:"Personal",color:"bg-blue-500",ring:"ring-blue-500"},{id:"pareja",name:"Conexión",color:"bg-pink-500",ring:"ring-pink-500"},{id:"trabajo",name:"Trabajo",color:"bg-green-500",ring:"ring-green-500"},{id:"otro",name:"Otro",color:"bg-slate-500",ring:"ring-slate-500"}],d1=[{name:"D",value:0},{name:"L",value:1},{name:"M",value:2},{name:"X",value:3},{name:"J",value:4},{name:"V",value:5},{name:"S",value:6}],m1=({isOpen:o,onClose:m,onSave:g,routineToEdit:r})=>{const[f,v]=x.useState(""),[d,S]=x.useState("12:00"),[N,h]=x.useState(""),[z,_]=x.useState("personal"),[M,H]=x.useState(void 0),[B,V]=x.useState("weekly"),[J,A]=x.useState([]),[Z,G]=x.useState(1),[k,Y]=x.useState(new Date().toISOString().split("T")[0]),[F,$]=x.useState(()=>{const O=new Date;return O.setMonth(O.getMonth()+1),O.toISOString().split("T")[0]}),[ce,P]=x.useState(!1),[we,fe]=x.useState(""),{requestPermission:ie}=gu(),ge=()=>{v(""),S("12:00"),h(""),_("personal"),H(void 0),V("weekly"),A([]),G(1),Y(new Date().toISOString().split("T")[0]),$(()=>{const O=new Date;return O.setMonth(O.getMonth()+1),O.toISOString().split("T")[0]}),P(!1),fe("")};if(x.useEffect(()=>{o&&(r?(v(r.title),S(r.time),h(r.description||""),_(r.category),H(r.color),V(r.frequency),A(r.daysOfWeek||[]),G(r.dayOfMonth||1),Y(r.startDate),$(r.endDate),P(r.reminder)):ge())},[o,r]),!o)return null;const Ve=O=>{A(te=>te.includes(O)?te.filter(se=>se!==O):[...te,O])},ae=O=>{const te=O.target.checked;P(te),te&&ie()},E=O=>{if(O.preventDefault(),fe(""),!f.trim()){fe("El título no puede estar vacío.");return}if(B==="weekly"&&J.length===0){fe("Debes seleccionar al menos un día de la semana.");return}if(new Date(k)>new Date(F)){fe("La fecha de fin debe ser posterior o igual a la fecha de inicio.");return}g({title:f.trim(),time:d,description:N.trim(),category:z,color:M,frequency:B,daysOfWeek:B==="weekly"?J:void 0,dayOfMonth:B==="monthly"?Z:void 0,startDate:k,endDate:F,reminder:ce},r==null?void 0:r.id)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:O=>O.stopPropagation(),children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:r?"Editar Rutina":"Crear Nueva Rutina"}),l.jsxs("form",{onSubmit:E,className:"space-y-3 max-h-[80vh] overflow-y-auto pr-2",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"routine-title",className:"block text-sm font-medium text-slate-700 mb-1",children:"Título de la Rutina"}),l.jsx("input",{type:"text",id:"routine-title",value:f,onChange:O=>v(O.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"routine-time",className:"block text-sm font-medium text-slate-700 mb-1",children:"Hora"}),l.jsx("input",{type:"time",id:"routine-time",value:d,onChange:O=>S(O.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Frecuencia"}),l.jsxs("select",{value:B,onChange:O=>V(O.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",children:[l.jsx("option",{value:"weekly",children:"Semanal"}),l.jsx("option",{value:"monthly",children:"Mensual"})]})]})]}),B==="weekly"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Repetir los días"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:d1.map(O=>l.jsx("button",{type:"button",onClick:()=>Ve(O.value),className:`w-10 h-10 rounded-full text-sm font-semibold transition-colors ${J.includes(O.value)?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:O.name},O.value))})]}),B==="monthly"&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dayOfMonth",className:"block text-sm font-medium text-slate-700 mb-1",children:"Repetir el día del mes"}),l.jsx("input",{type:"number",id:"dayOfMonth",value:Z,onChange:O=>G(Math.max(1,Math.min(31,parseInt(O.target.value,10)||1))),min:"1",max:"31",className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Fecha de Inicio"}),l.jsx("input",{type:"date",id:"startDate",value:k,onChange:O=>Y(O.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Fecha de Fin"}),l.jsx("input",{type:"date",id:"endDate",value:F,onChange:O=>$(O.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"routine-description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Descripción (Opcional)"}),l.jsx("textarea",{id:"routine-description",value:N,onChange:O=>h(O.target.value),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Categoría"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:u1.map(O=>l.jsx("button",{type:"button",onClick:()=>_(O.id),className:`px-3 py-1 text-sm font-medium rounded-full transition-all ${z===O.id?`${O.color} text-white ring-2 ring-offset-2 ${O.ring}`:"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:O.name}))})]}),l.jsx("div",{className:"pt-2",children:l.jsx(mh,{selectedColor:M,onChange:H})}),l.jsxs("div",{className:"pt-2 space-y-4",children:[l.jsxs("fieldset",{className:"border-t border-slate-200 pt-4",children:[l.jsx("legend",{className:"text-sm font-medium text-slate-800",children:"Recordatorios para cada evento"}),l.jsx("p",{className:"text-xs text-slate-500 mt-2 mb-3",children:"Al activar un recordatorio, se te pedirá permiso para enviar notificaciones a través de tu navegador."}),l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"routine-reminder",type:"checkbox",checked:ce,onChange:ae,className:"h-4 w-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"}),l.jsx("label",{htmlFor:"routine-reminder",className:"ml-3 block text-sm text-slate-700",children:"Notificación del sistema"})]})})]}),we&&l.jsx("p",{className:"text-red-600 text-sm font-medium text-center bg-red-50 p-2 rounded-md",children:we})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[l.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-white border border-slate-300 rounded-md text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-indigo-700",children:r?"Guardar Cambios":"Guardar Rutina"})]})]})]})})},f1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),h1=({notification:o,onDismiss:m})=>(x.useEffect(()=>{if(o.action)return;const g=setTimeout(()=>{m(o.id)},8e3);return()=>clearTimeout(g)},[o.id,o.action,m]),l.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-4 w-full max-w-sm pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden animate-fade-in-up",children:[l.jsx("style",{children:`
        @keyframes fade-in-up {
          0% { opacity: 0; transform: translateY(20px); }
          100% { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.3s ease-out forwards; }
      `}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-full flex items-center justify-center",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"white",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})})})}),l.jsxs("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[l.jsx("p",{className:"text-sm font-semibold text-zinc-900",children:o.title}),l.jsx("p",{className:"mt-1 text-sm text-zinc-600",children:o.message}),o.action&&l.jsx("div",{className:"mt-3 flex space-x-3",children:l.jsx("button",{onClick:()=>{var g;(g=o.action)==null||g.callback(),m(o.id)},className:"inline-flex items-center justify-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:o.action.label})})]}),l.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:l.jsxs("button",{onClick:()=>m(o.id),className:"inline-flex text-zinc-400 hover:text-zinc-600",children:[l.jsx("span",{className:"sr-only",children:"Cerrar"}),l.jsx(f1,{className:"h-5 w-5","aria-hidden":"true"})]})})]})]})),x1=({toastNotifications:o,setToastNotifications:m})=>{const g=r=>{m(f=>f.filter(v=>v.id!==r))};return l.jsx("div",{className:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start z-[100]",children:l.jsx("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:o.map(r=>l.jsx(h1,{notification:r,onDismiss:g},r.id))})})},p1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M8.25 9.75A2.625 2.625 0 0 0 5.625 7.125v-1.5a3.375 3.375 0 0 1 6.75 0v1.5c0 .418.053.824.152 1.218"})}),Xn=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m-7.5-2.962A3.75 3.75 0 0 1 15 12a3.75 3.75 0 0 1-2.25-6.962m8.024 10.928A9 9 0 1 0 3 18.72m10.602 0A9.01 9.01 0 0 0 18 18.72m-7.5 0v-2.25m0 2.25a3.75 3.75 0 0 0 3.75 3.75M10.5 18.75a3.75 3.75 0 0 0-3.75 3.75m0 0a3.75 3.75 0 0 0 3.75-3.75M3 13.5A3.75 3.75 0 0 1 6.75 9.75a3.75 3.75 0 0 1 3.75 3.75m-3.75 0a3.75 3.75 0 0 0-3.75 3.75"})}),Gm=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.455.09-.934.09-1.425v-2.552c0-3.542 2.67-6.443 6-6.443h2.25c2.519 0 4.716 1.632 5.49 3.868.17.44.258.913.258 1.396Z"})}),g1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0h18M12 12.75h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm.008-3h.008v.008H12.008V9.75Zm-3 3h.008v.008H9v-.008Zm0-3h.008v.008H9V9.75Zm3 0h.008v.008H12V9.75Zm-3 0h.008v.008H9V9.75Zm6 3h.008v.008h-.008v-.008Zm0-3h.008v.008h-.008V9.75Zm-3 3h.008v.008h-.008v-.008Zm-3-3h.008v.008H9v-.008Z"})}),Ym=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),qm={pairing_request:l.jsx(Xn,{className:"w-6 h-6 text-indigo-500"}),pairing_accepted:l.jsx(Xn,{className:"w-6 h-6 text-green-500"}),new_partner_note:l.jsx(Gm,{className:"w-6 h-6 text-yellow-500"}),new_qa_question:l.jsx(Gm,{className:"w-6 h-6 text-cyan-500"}),new_shared_emotion:l.jsx(Xn,{className:"w-6 h-6 text-pink-500"}),new_shared_reflection:l.jsx(Ym,{className:"w-6 h-6 text-purple-500"}),new_shared_trip:l.jsx(Xn,{className:"w-6 h-6 text-blue-500"}),event_reminder:l.jsx(g1,{className:"w-6 h-6 text-teal-500"}),daily_reflection_prompt:l.jsx(Ym,{className:"w-6 h-6 text-amber-500"}),goal_checkin:l.jsx(Xn,{className:"w-6 h-6 text-lime-500"}),generic:l.jsx(Xn,{className:"w-6 h-6 text-slate-500"})},v1=o=>{const m=new Date,g=new Date(o),r=Math.floor((m.getTime()-g.getTime())/1e3);if(r<60)return"ahora";const f=Math.floor(r/60);if(f<60)return`${f}m`;const v=Math.floor(f/60);return v<24?`${v}h`:`${Math.floor(v/24)}d`},b1=({notifications:o,onMarkAsRead:m,onMarkAllAsRead:g,onNotificationClick:r,isMuted:f,onToggleMute:v,onClose:d})=>l.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 sm:w-96 bg-white rounded-xl shadow-2xl border border-zinc-200 z-50 flex flex-col overflow-hidden animate-fade-in",children:[l.jsx("style",{children:`
                @keyframes fade-in {
                    0% { opacity: 0; transform: translateY(-10px); }
                    100% { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in { animation: fade-in 0.2s ease-out forwards; }
            `}),l.jsxs("div",{className:"p-3 border-b border-zinc-200 flex-shrink-0",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"font-semibold text-zinc-800 text-lg",children:"Notificaciones"}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("button",{onClick:v,title:f?"Activar notificaciones":"Silenciar notificaciones",className:`p-1.5 rounded-full ${f?"text-red-500 bg-red-100":"text-zinc-500 hover:bg-zinc-100"}`,children:l.jsx(p1,{className:"w-5 h-5"})})})]}),o.some(S=>!S.read)&&l.jsx("button",{onClick:g,className:"text-xs font-medium text-teal-600 hover:underline mt-1",children:"Marcar todo como leído"})]}),l.jsx("div",{className:"flex-grow overflow-y-auto max-h-96",children:o.length>0?l.jsx("ul",{children:o.map(S=>l.jsxs("li",{onClick:()=>{r(S),d()},className:`flex items-start p-3 space-x-3 cursor-pointer transition-colors ${S.read?"hover:bg-zinc-50":"bg-teal-50 hover:bg-teal-100"}`,children:[l.jsx("div",{className:"flex-shrink-0 mt-0.5",children:qm[S.type]||qm.generic}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-semibold text-sm text-zinc-800",children:S.title}),l.jsx("p",{className:"text-sm text-zinc-600",children:S.message}),l.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:v1(S.timestamp)})]}),!S.read&&l.jsx("div",{className:"flex-shrink-0 mt-0.5",children:l.jsx("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full"})})]},S.id))}):l.jsxs("div",{className:"text-center p-12 text-zinc-500",children:[l.jsx("p",{className:"font-semibold",children:"Todo al día"}),l.jsx("p",{className:"text-sm mt-1",children:"No tienes notificaciones nuevas."})]})})]}),j1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m-7.5-2.962A3.75 3.75 0 0 1 15 12a3.75 3.75 0 0 1-2.25-6.962m8.024 10.928A9 9 0 1 0 3 18.72m10.602 0A9.01 9.01 0 0 0 18 18.72m-7.5 0v-2.25m0 2.25a3.75 3.75 0 0 0 3.75 3.75M10.5 18.75a3.75 3.75 0 0 0-3.75 3.75m0 0a3.75 3.75 0 0 0 3.75-3.75M3 13.5A3.75 3.75 0 0 1 6.75 9.75a3.75 3.75 0 0 1 3.75 3.75m-3.75 0a3.75 3.75 0 0 0-3.75 3.75"})}),N1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})}),y1=o=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z"})]}),S1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),w1=o=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:[l.jsx("path",{d:"M12 14.25c-2.43 0-4.68.62-6.53 1.69.58 1.13 1.34 2.14 2.26 3.06 1.32.96 2.82 1.5 4.38 1.5s3.06-.54 4.38-1.5c.92-.92 1.68-1.93 2.26-3.06C16.68 14.87 14.43 14.25 12 14.25Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14.25A5.25 5.25 0 0 0 17.25 9V6.75a5.25 5.25 0 0 0-5.25-5.25A5.25 5.25 0 0 0 6.75 6.75V9a5.25 5.25 0 0 0 5.25 5.25Z"})]}),E1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})}),T1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),C1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),_1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),A1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})}),D1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})}),M1=({user:o,onLogout:m,onManagePairing:g,onManagePin:r,notifications:f,onMarkAsRead:v,onMarkAllAsRead:d,onNotificationClick:S,isMuted:N,onToggleMute:h,onNavigateToPlanner:z,onNavigateToTravelLog:_,onNavigateToGoals:M,onNavigateToHome:H,onNavigateToAcademic:B,activeSection:V,onStartTour:J})=>{const[A,Z]=x.useState(!1),[G,k]=x.useState(!1),Y=x.useRef(null),F=x.useRef(null),$=f.filter(ce=>!ce.read).length;return x.useEffect(()=>{const ce=P=>{Y.current&&!Y.current.contains(P.target)&&Z(!1),F.current&&!F.current.contains(P.target)&&k(!1)};return document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[]),l.jsx("header",{className:"bg-white shadow-sm",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-3 px-2 sm:px-6 lg:px-8 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 cursor-pointer group",onClick:z,title:"Ir al planificador",children:[l.jsx("img",{src:"https://i.postimg.cc/YhvKDdRc/Logo-for-Conecta-Mente-Clean-Sans-Serif-Abstract-Design.png",alt:"ConectaMente Logo",className:"h-10 sm:h-12 transition-transform duration-300 group-hover:scale-105"}),l.jsx("h1",{className:"hidden sm:block text-xl sm:text-2xl font-bold text-zinc-800 tracking-tight",children:"ConectaMente"})]}),l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[l.jsxs("div",{id:"header-nav",className:"flex items-center flex-wrap justify-end gap-1 sm:gap-2",children:[l.jsxs("button",{id:"header-nav-home",onClick:H,className:`p-2 sm:px-3 sm:py-1.5 border rounded-md text-sm font-medium transition-colors flex items-center space-x-2 ${V==="home"?"bg-teal-100 text-teal-700 border-teal-200":"border-zinc-300 text-zinc-700 hover:bg-zinc-50"}`,children:[l.jsx(S1,{className:"w-5 h-5 text-teal-500"}),l.jsx("span",{className:"hidden sm:inline",children:"Mi Hogar"})]}),l.jsxs("button",{id:"header-nav-goals",onClick:M,className:`p-2 sm:px-3 sm:py-1.5 border rounded-md text-sm font-medium transition-colors flex items-center space-x-2 ${V==="goals"?"bg-teal-100 text-teal-700 border-teal-200":"border-zinc-300 text-zinc-700 hover:bg-zinc-50"}`,children:[l.jsx(y1,{className:"w-5 h-5 text-teal-500"}),l.jsx("span",{className:"hidden sm:inline",children:"Metas"})]}),l.jsxs("button",{id:"header-nav-academic",onClick:B,className:`p-2 sm:px-3 sm:py-1.5 border rounded-md text-sm font-medium transition-colors flex items-center space-x-2 ${V==="academic"?"bg-teal-100 text-teal-700 border-teal-200":"border-zinc-300 text-zinc-700 hover:bg-zinc-50"}`,children:[l.jsx(w1,{className:"w-5 h-5 text-teal-500"}),l.jsx("span",{className:"hidden sm:inline",children:"Académico"})]}),l.jsxs("button",{id:"header-nav-travel",onClick:_,className:`p-2 sm:px-3 sm:py-1.5 border rounded-md text-sm font-medium transition-colors flex items-center space-x-2 ${V==="travel"?"bg-teal-100 text-teal-700 border-teal-200":"border-zinc-300 text-zinc-700 hover:bg-zinc-50"}`,children:[l.jsx(N1,{className:"w-5 h-5 text-teal-500"}),l.jsx("span",{className:"hidden sm:inline",children:"Viajes"})]})]}),l.jsxs("div",{ref:Y,className:"relative",children:[l.jsxs("button",{onClick:()=>Z(ce=>!ce),className:"p-2 rounded-full text-zinc-500 hover:bg-zinc-100 hover:text-zinc-700 transition-colors","aria-label":"Ver notificaciones",children:[l.jsx(E1,{className:"w-6 h-6"}),$>0&&l.jsx("span",{className:"absolute -top-0.5 -right-0.5 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-medium text-white",children:$})]}),A&&l.jsx(b1,{notifications:f,onMarkAsRead:v,onMarkAllAsRead:d,onNotificationClick:S,isMuted:N,onToggleMute:h,onClose:()=>Z(!1)})]}),l.jsxs("div",{id:"user-menu",className:"relative",ref:F,children:[l.jsxs("button",{onClick:()=>k(ce=>!ce),className:"flex items-center space-x-2 p-2 rounded-full text-zinc-500 hover:bg-zinc-100 hover:text-zinc-700 transition-colors",children:[l.jsx(T1,{className:"w-6 h-6"}),l.jsx("span",{className:"text-sm font-medium text-zinc-600 hidden sm:block",children:o.name}),l.jsx(C1,{className:"w-4 h-4 text-zinc-400"})]}),G&&l.jsxs("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-xl shadow-2xl border border-zinc-200 z-50 overflow-hidden animate-fade-in",children:[l.jsx("style",{children:`
                            @keyframes fade-in {
                                0% { opacity: 0; transform: translateY(-10px); }
                                100% { opacity: 1; transform: translateY(0); }
                            }
                            .animate-fade-in { animation: fade-in 0.2s ease-out forwards; }
                        `}),l.jsxs("div",{className:"p-2",children:[l.jsxs("button",{onClick:()=>{g(),k(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-100 rounded-md transition-colors",children:[l.jsx(j1,{className:"w-5 h-5 text-zinc-500"}),l.jsx("span",{children:"Conexiones"})]}),l.jsxs("button",{onClick:()=>{r(),k(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-100 rounded-md transition-colors",children:[l.jsx(_1,{className:"w-5 h-5 text-zinc-500"}),l.jsx("span",{children:"Cambiar PIN"})]}),l.jsxs("button",{onClick:()=>{J(),k(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-100 rounded-md transition-colors",children:[l.jsx(D1,{className:"w-5 h-5 text-zinc-500"}),l.jsx("span",{children:"Tour Guiado"})]}),l.jsx("div",{className:"my-1 h-px bg-zinc-100"}),l.jsxs("button",{onClick:m,className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[l.jsx(A1,{className:"w-5 h-5"}),l.jsx("span",{children:"Cerrar Sesión"})]})]})]})]})]})]})})},O1=()=>l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),z1=({onLogin:o,onCreateUser:m})=>{const[g,r]=x.useState(!0),[f,v]=x.useState(""),[d,S]=x.useState(""),[N,h]=x.useState(""),[z,_]=x.useState(!1),[M,H]=x.useState(""),B=async J=>{J.preventDefault(),_(!0),H("");let A;if(g){if(!d||!N){H("Por favor, introduce tu correo y contraseña."),_(!1);return}A=await o(d,N)}else{if(!f||!d||!N){H("Por favor, completa todos los campos."),_(!1);return}A=await m(f,d,N)}_(!1),A&&!A.success&&H(A.message||"Ocurrió un error inesperado.")},V=()=>l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("img",{src:"https://i.postimg.cc/YhvKDdRc/Logo-for-Conecta-Mente-Clean-Sans-Serif-Abstract-Design.png",alt:"ConectaMente Logo",className:"h-24 sm:h-32 w-auto mb-6 mx-auto shadow-lg rounded-full drop-shadow-lg"}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-zinc-800",children:g?"Bienvenido/a de Nuevo":"Crea tu Cuenta"}),l.jsx("p",{className:"text-zinc-600 mt-2",children:g?"Inicia sesión para acceder a tu planificador.":"Únete a ConectaMente para empezar a organizarte."})]}),l.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[l.jsxs("form",{onSubmit:B,className:"space-y-4",children:[!g&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Nombre"}),l.jsx("input",{type:"text",id:"name",value:f,onChange:J=>v(J.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Correo Electrónico"}),l.jsx("input",{type:"email",id:"email",value:d,onChange:J=>S(J.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Contraseña"}),l.jsx("input",{type:"password",id:"password",value:N,onChange:J=>h(J.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500",required:!0})]}),M&&l.jsx("p",{className:"text-red-600 text-sm font-medium text-center bg-red-50 p-2 rounded-md",children:M}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:z,className:"w-full flex justify-center items-center px-4 py-2 bg-teal-600 border border-transparent rounded-md font-semibold text-white shadow-sm hover:bg-teal-700 disabled:bg-teal-400",children:z?l.jsx(O1,{}):g?"Iniciar Sesión":"Crear Cuenta"})})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>{r(!g),H("")},className:"text-sm font-medium text-teal-600 hover:text-teal-800",children:g?"¿No tienes una cuenta? Regístrate":"¿Ya tienes una cuenta? Inicia Sesión"})})]})]});return l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsx("main",{className:"flex-grow flex flex-col justify-center items-center p-4",children:V()}),l.jsxs("footer",{className:"flex-shrink-0",children:[l.jsx("svg",{className:"w-0 h-0 absolute",children:l.jsx("defs",{children:l.jsx("clipPath",{id:"torn-edge-clip",clipPathUnits:"objectBoundingBox",children:l.jsx("path",{d:"M0,0.1 C0.05,0.05, 0.1,0.15, 0.15,0.1 C0.2,0.02, 0.25,0.12, 0.3,0.1 C0.35,0.05, 0.4,0.15, 0.45,0.1 C0.5,0.05, 0.55,0.15, 0.6,0.1 C0.65,0.02, 0.7,0.12, 0.75,0.1 C0.8,0.05, 0.85,0.15, 0.9,0.1 C0.95,0.05, 1,0.15, 1,0.1 V1 H0 Z"})})})}),l.jsx("style",{children:`
          .text-shadow-subtle {
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
          }
          .torn-edge-clip {
            clip-path: url(#torn-edge-clip);
            filter: drop-shadow(0 -6px 4px rgba(0,0,0,0.05));
          }
        `}),l.jsx("div",{className:"torn-edge-clip bg-[#fdfaf6] pt-12 pb-6",children:l.jsxs("blockquote",{className:"max-w-prose mx-auto text-stone-700 font-handwriting text-lg sm:text-xl text-center text-shadow-subtle px-4",children:[l.jsx("p",{children:'"Nunca te olvides que solo existe el hoy. ¿Por qué dejar todo para mañana? Viví la vida que querés y que merecés. Por ende, una vida hermosa, llena de disfrute, felicidad y aprendizaje."'}),l.jsx("footer",{className:"text-right mt-2 font-bold",children:"- V.C"})]})})]})]})},L1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),R1=({isOpen:o,onClose:m,currentUser:g,pairedUser:r,users:f,requests:v,onSendRequest:d,onRespondToRequest:S,onUnpair:N})=>{const[h,z]=x.useState(""),[_,M]=x.useState(!1),[H,B]=x.useState(""),[V,J]=x.useState("");if(!o)return null;const A=async()=>{if(!h.trim()||!/^\S+@\S+\.\S+$/.test(h)){B("Por favor, introduce un correo electrónico válido.");return}M(!0),B(""),J("");const Y=await d(h);M(!1),Y.success?(z(""),J(Y.message)):B(Y.message)},Z=v.filter(Y=>Y.toUserId===g.id&&Y.status==="pending"),G=v.filter(Y=>Y.fromUserId===g.id&&Y.status==="pending"),k=Y=>{var F;return((F=f.find($=>$.id===Y))==null?void 0:F.name)||"Usuario desconocido"};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:Y=>Y.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Gestionar Conexiones"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-slate-100",children:l.jsx(L1,{className:"w-6 h-6 text-slate-500"})})]}),l.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg mb-6",children:[l.jsx("h3",{className:"font-semibold text-slate-700",children:"Tu estado actual"}),r?l.jsxs("div",{className:"flex justify-between items-center mt-2",children:[l.jsxs("p",{className:"text-slate-600",children:["Vinculado/a con ",l.jsx("span",{className:"font-bold text-indigo-600",children:r.name}),"."]}),l.jsx("button",{onClick:N,className:"px-3 py-1 bg-red-100 text-red-700 text-sm font-medium rounded-md hover:bg-red-200",children:"Desvincular"})]}):l.jsx("p",{className:"text-slate-600 mt-2",children:"No estás vinculado/a con nadie."})]}),Z.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold text-slate-700 mb-2",children:"Solicitudes Entrantes"}),l.jsx("ul",{className:"space-y-2",children:Z.map(Y=>l.jsxs("li",{className:"p-3 bg-indigo-50 rounded-md flex justify-between items-center",children:[l.jsxs("p",{className:"text-slate-800",children:[l.jsx("span",{className:"font-bold text-indigo-700",children:k(Y.fromUserId)})," quiere vincularse contigo."]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>S(Y.id,"accepted"),className:"px-3 py-1 bg-green-500 text-white text-sm font-medium rounded-md hover:bg-green-600",children:"Aceptar"}),l.jsx("button",{onClick:()=>S(Y.id,"declined"),className:"px-3 py-1 bg-slate-200 text-slate-700 text-sm font-medium rounded-md hover:bg-slate-300",children:"Rechazar"})]})]},Y.id))})]}),!r&&l.jsxs("div",{children:[G.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold text-slate-700 mb-2",children:"Solicitudes Enviadas"}),l.jsx("ul",{className:"space-y-2",children:G.map(Y=>l.jsx("li",{className:"p-3 bg-slate-100 rounded-md flex justify-between items-center",children:l.jsxs("p",{className:"text-slate-600",children:["Esperando respuesta de ",l.jsx("span",{className:"font-bold",children:k(Y.toUserId)}),"."]})},Y.id))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-700 mb-2",children:"Vincular con un nuevo usuario por correo"}),l.jsxs("div",{className:"flex items-start sm:items-center flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"email",value:h,onChange:Y=>{z(Y.target.value),B(""),J("")},placeholder:"correo@ejemplo.com",className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),l.jsx("button",{onClick:A,disabled:_,className:"w-full sm:w-auto px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-indigo-400 flex-shrink-0",children:_?"Enviando...":"Enviar Solicitud"})]}),H&&l.jsx("p",{className:"text-red-600 text-sm mt-2",children:H}),V&&l.jsx("p",{className:"text-green-600 text-sm mt-2",children:V})]})]})]})})};let Oo;const k1=new Uint8Array(16);function I1(){if(!Oo&&(Oo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Oo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oo(k1)}const xt=[];for(let o=0;o<256;++o)xt.push((o+256).toString(16).slice(1));function U1(o,m=0){return xt[o[m+0]]+xt[o[m+1]]+xt[o[m+2]]+xt[o[m+3]]+"-"+xt[o[m+4]]+xt[o[m+5]]+"-"+xt[o[m+6]]+xt[o[m+7]]+"-"+xt[o[m+8]]+xt[o[m+9]]+"-"+xt[o[m+10]]+xt[o[m+11]]+xt[o[m+12]]+xt[o[m+13]]+xt[o[m+14]]+xt[o[m+15]]}const H1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Vm={randomUUID:H1};function fa(o,m,g){if(Vm.randomUUID&&!o)return Vm.randomUUID();o=o||{};const r=o.random||(o.rng||I1)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,U1(r)}const B1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),G1=o=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})]}),Y1=(o,m)=>{const g=new Date(o+"T00:00:00"),r=new Date(m+"T00:00:00"),f={year:"numeric",month:"long",day:"numeric"};return`${g.toLocaleDateString("es-ES",f)} - ${r.toLocaleDateString("es-ES",f)}`},q1=({note:o,onClose:m,author:g})=>{if(!o.tripContent)return null;const r=o.tripContent;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[70] flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl flex flex-col scrapbook-background",onClick:f=>f.stopPropagation(),children:[l.jsxs("div",{className:"p-4 border-b border-zinc-200 flex justify-between items-center bg-white/50 flex-shrink-0",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800 font-handwriting",children:r.title}),l.jsxs("p",{className:"text-sm text-zinc-600",children:["Compartido por ",g.name]})]}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-zinc-100",children:l.jsx(B1,{className:"w-6 h-6 text-zinc-500"})})]}),l.jsxs("div",{className:"flex-grow overflow-y-auto max-h-[80vh] p-6",children:[r.coverPhoto&&l.jsx("div",{className:"mb-4 shadow-lg rounded-sm p-2 bg-white transform -rotate-1",children:l.jsx("img",{src:r.coverPhoto,alt:r.title,className:"w-full h-64 object-cover rounded-sm"})}),l.jsxs("div",{className:"flex items-center text-zinc-600 mb-2",children:[l.jsx(G1,{className:"w-5 h-5 mr-2"}),l.jsx("span",{children:r.destination})]}),l.jsx("p",{className:"text-sm text-zinc-500 mb-4",children:Y1(r.startDate,r.endDate)}),r.notes&&l.jsxs("blockquote",{className:"italic border-l-4 border-zinc-300 pl-4 py-2 my-4 bg-white/60 rounded-r-lg",children:['"',r.notes,'"']}),l.jsx("h3",{className:"text-xl font-semibold text-zinc-700 mt-6 mb-4 font-handwriting",children:"Recuerdos del Viaje"}),r.highlights.length>0?l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.highlights.map((f,v)=>l.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 items-start p-3 bg-white/80 shadow-md rounded-lg border border-zinc-200 transform ${v%2===0?"rotate-1":"-rotate-1"}`,children:[f.photo&&l.jsx("img",{src:f.photo,alt:f.title,className:"w-full sm:w-40 h-32 object-cover rounded-md flex-shrink-0"}),l.jsxs("div",{className:"flex-grow",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.emotion&&l.jsx("span",{className:"text-2xl",children:f.emotion}),l.jsx("h4",{className:"font-bold text-zinc-800",children:f.title})]}),l.jsx("p",{className:"text-xs text-zinc-500 mb-2",children:new Date(f.date+"T00:00:00").toLocaleDateString("es-ES",{month:"long",day:"numeric"})}),l.jsx("p",{className:"text-sm text-zinc-600 whitespace-pre-wrap",children:f.description})]})]},v))}):l.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No se compartieron recuerdos específicos."})]})]})})},Zm=[{value:"happy",label:"Feliz",icon:"😄",bgColor:"bg-green-200"},{value:"content",label:"Contento",icon:"😊",bgColor:"bg-sky-200"},{value:"motivated",label:"Motivado",icon:"✨",bgColor:"bg-yellow-200"},{value:"love_you",label:"Te Amo",icon:"❤️",bgColor:"bg-red-200"},{value:"hug",label:"Abrazo",icon:"🤗",bgColor:"bg-pink-200"},{value:"kiss",label:"Beso",icon:"😘",bgColor:"bg-rose-200"},{value:"miss_you",label:"Te Extraño",icon:"🥺",bgColor:"bg-purple-200"},{value:"sad",label:"Triste",icon:"😢",bgColor:"bg-blue-200"},{value:"tired",label:"Cansado",icon:"😴",bgColor:"bg-indigo-200"},{value:"grumpy",label:"Complicado",icon:"⛈️",bgColor:"bg-slate-300"},{value:"angry",label:"Enojado",icon:"😠",bgColor:"bg-orange-300"}],V1=({currentUserState:o,partnerState:m,onStateSelect:g,onOpenLog:r})=>{const f=({state:v})=>{const d=v?Zm.find(S=>S.value===v):null;return l.jsx("div",{className:`w-24 h-24 sm:w-28 sm:h-28 rounded-full flex items-center justify-center text-4xl sm:text-5xl shadow-inner transition-colors duration-300 ${d?d.bgColor:"bg-slate-200"}`,children:d?d.icon:"?"})};return l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:"Mi Energía de Hoy"}),l.jsx("button",{onClick:r,className:"text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors",children:"Ver Historial"})]}),l.jsx("p",{className:"text-sm text-slate-500 mb-6",children:'Elige un "Moji" que represente tu día.'}),l.jsxs("div",{className:"flex justify-center items-center gap-4 sm:gap-8 mb-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(f,{state:o}),l.jsx("p",{className:"font-semibold text-slate-700 mt-2",children:"Tú"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx(f,{state:m}),l.jsx("p",{className:"font-semibold text-slate-700 mt-2",children:"Tu Pareja"})]})]}),l.jsx("div",{className:"flex flex-wrap justify-center gap-2 bg-slate-50 p-3 rounded-lg",children:Zm.map(({value:v,label:d,icon:S})=>l.jsxs("button",{onClick:()=>g(v),className:`flex flex-col items-center p-2 rounded-lg transition-all duration-200 w-20 ${o===v?"bg-indigo-200 scale-110":"hover:bg-slate-200"}`,title:d,children:[l.jsx("span",{className:"text-3xl",children:S}),l.jsx("span",{className:"text-xs font-medium text-slate-700 mt-1 text-center",children:d})]},v))})]})},Z1=({note:o})=>{const{subjectName:m,newStatus:g,finalGrade:r}=o.subjectUpdateContent,f=g==="aprobada";return l.jsx("div",{className:"mt-1",children:l.jsx("div",{className:`p-3 rounded-md border-l-4 ${f?"bg-green-50 border-green-400":"bg-red-50 border-red-400"}`,children:l.jsxs("p",{className:`text-sm ${f?"text-green-800":"text-red-800"}`,children:[f?"¡Ha aprobado ":"Necesita recursar ",l.jsx("strong",{className:"font-bold",children:m}),f&&r&&` con un ${r}!`]})})})},X1=({noteId:o,onAddReply:m,onCancel:g})=>{const[r,f]=x.useState(""),v=d=>{d.preventDefault(),r.trim()&&(m(o,r.trim()),f(""),g())};return l.jsxs("form",{onSubmit:v,className:"mt-2 flex items-center space-x-2",children:[l.jsx("input",{type:"text",value:r,onChange:d=>f(d.target.value),placeholder:"Escribe una respuesta...",autoFocus:!0,className:"w-full px-2 py-1 border border-slate-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"}),l.jsx("button",{type:"submit",className:"px-3 py-1 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700",children:"Enviar"})]})},Q1=({currentUser:o,partner:m,qaSessions:g,setQaSessions:r,partnerNotes:f,setPartnerNotes:v,sharedEmotionStates:d,setSharedEmotionStates:S,onOpenEmotionLog:N,onAddReply:h})=>{const[z,_]=x.useState(""),[M,H]=x.useState(""),[B,V]=x.useState(""),[J,A]=x.useState(null),[Z,G]=x.useState(null),k=new Date().toISOString().split("T")[0],Y=x.useMemo(()=>d.find(ae=>ae.date===k),[d,k]),F=ae=>{const E=d.findIndex(O=>O.date===k);E>-1?S(O=>{const te=[...O];return te[E]={...te[E],emotions:{...te[E].emotions,[o.id]:ae}},te}):S(O=>[...O,{date:k,emotions:{[o.id]:ae}}])},$=x.useMemo(()=>g.find(ae=>ae.askerId===m.id&&!ae.answer),[g,m.id]),ce=x.useMemo(()=>[...g].filter(ae=>ae.answer).sort((ae,E)=>new Date(E.answeredAt).getTime()-new Date(ae.answeredAt).getTime()),[g]),{mainNotes:P,repliesByNoteId:we}=x.useMemo(()=>{const ae=[...f].sort((se,he)=>new Date(se.timestamp).getTime()-new Date(he.timestamp).getTime()),E=ae.filter(se=>!se.replyToId),te=ae.filter(se=>se.replyToId).reduce((se,he)=>(se[he.replyToId]||(se[he.replyToId]=[]),se[he.replyToId].push(he),se),{});return{mainNotes:E.reverse(),repliesByNoteId:te}},[f]),fe=ae=>{if(ae.preventDefault(),!z.trim())return;const E={id:fa(),askerId:o.id,question:z.trim(),askedAt:new Date().toISOString()};r(O=>[E,...O]),_("")},ie=ae=>{M.trim()&&(r(E=>E.map(O=>O.id===ae?{...O,answer:M.trim(),answeredAt:new Date().toISOString()}:O)),H(""))},ge=ae=>{if(ae.preventDefault(),!B.trim())return;const E={id:fa(),authorId:o.id,text:B.trim(),timestamp:new Date().toISOString(),type:"note"};v(O=>[E,...O]),V("")},Ve=ae=>ae===o.id?o:m;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-1 space-y-8",children:l.jsx(V1,{currentUserState:Y==null?void 0:Y.emotions[o.id],partnerState:Y==null?void 0:Y.emotions[m.id],onStateSelect:F,onOpenLog:N})}),l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Preguntas y Respuestas"}),$?l.jsxs("div",{className:"p-4 bg-indigo-50 border-l-4 border-indigo-400 rounded-r-lg",children:[l.jsxs("p",{className:"font-semibold text-indigo-800",children:[m.name," te pregunta:"]}),l.jsxs("p",{className:"mt-2 text-indigo-900 italic",children:['"',$.question,'"']}),l.jsxs("div",{className:"mt-4 flex space-x-2",children:[l.jsx("input",{type:"text",value:M,onChange:ae=>H(ae.target.value),placeholder:"Tu respuesta...",className:"w-full px-3 py-2 border border-indigo-200 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),l.jsx("button",{onClick:()=>ie($.id),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Enviar"})]})]}):l.jsxs("form",{onSubmit:fe,children:[l.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:["Hazle una pregunta a ",m.name," para conectar."]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"text",value:z,onChange:ae=>_(ae.target.value),placeholder:"p. ej., ¿Cuál fue tu parte favorita del día?",className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Preguntar"})]})]}),ce.length>0&&l.jsxs("div",{className:"mt-6",children:[l.jsx("h4",{className:"font-medium text-slate-600 text-sm mb-2",children:"Conversaciones pasadas"}),l.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto pr-2",children:ce.map(ae=>l.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-sm",children:[l.jsxs("p",{children:[l.jsxs("strong",{className:"text-slate-700",children:[Ve(ae.askerId).name,":"]}),' "',ae.question,'"']}),l.jsxs("p",{className:"mt-1 pl-4",children:[l.jsx("strong",{className:"text-slate-600",children:"R:"})," ",ae.answer]})]},ae.id))})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Notas y Recuerdos Compartidos"}),l.jsxs("form",{onSubmit:ge,className:"mb-6",children:[l.jsx("textarea",{value:B,onChange:ae=>V(ae.target.value),rows:2,placeholder:`Deja una nota para ${m.name}...`,className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"}),l.jsx("div",{className:"flex justify-end mt-2",children:l.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm font-medium",children:"Publicar Nota"})})]}),l.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:P.map(ae=>{const E=Ve(ae.authorId),O=E.id===o.id,te=we[ae.id]||[];return l.jsx("div",{className:`flex ${O?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:"w-full max-w-sm",children:[l.jsxs("div",{className:`p-3 rounded-lg ${O?"bg-indigo-100":"bg-slate-100"}`,children:[l.jsx("p",{className:"font-semibold text-sm text-slate-800",children:O?"Tú":E.name}),ae.type==="reflection"&&ae.reflectionContent?l.jsxs("div",{className:"mt-1",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Compartió una reflexión:"}),l.jsx("div",{className:"mt-1 p-2 bg-white/50 rounded-md border border-slate-200",children:l.jsxs("p",{className:"font-medium italic",children:['"',ae.reflectionContent.dayTitle,'"']})})]}):ae.type==="trip"&&ae.tripContent?l.jsxs("div",{className:"mt-1",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Compartió un viaje:"}),l.jsxs("button",{onClick:()=>A(ae),className:"mt-1 p-2 bg-white/50 rounded-md border border-slate-200 w-full text-left hover:bg-white",children:[l.jsxs("p",{className:"font-medium italic",children:['"',ae.tripContent.title,'"']}),l.jsx("span",{className:"text-xs text-indigo-600",children:"Ver detalles"})]})]}):ae.type==="subject_update"&&ae.subjectUpdateContent?l.jsx(Z1,{note:ae}):l.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:ae.text}),l.jsx("p",{className:"text-xs text-slate-400 text-right mt-1",children:new Date(ae.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),te.length>0&&l.jsx("div",{className:"pl-4 mt-2 space-y-2 border-l-2 border-slate-300",children:te.map(se=>{const he=Ve(se.authorId),b=he.id===o.id;return l.jsxs("div",{className:`p-2 rounded-lg text-sm ${b?"bg-indigo-50":"bg-slate-50"}`,children:[l.jsxs("p",{className:"font-semibold text-xs text-slate-600",children:[he.name," respondió:"]}),l.jsx("p",{className:"text-slate-700",children:se.text})]},se.id)})}),Z===ae.id?l.jsx(X1,{noteId:ae.id,onAddReply:h,onCancel:()=>G(null)}):l.jsx("div",{className:"mt-1 text-right",children:l.jsx("button",{onClick:()=>G(ae.id),className:"text-xs font-semibold text-indigo-600 hover:underline",children:"Responder"})})]})},ae.id)})})]})]})]}),J&&l.jsx(q1,{note:J,onClose:()=>A(null),author:Ve(J.authorId)})]})},Xm={motivated:{icon:"✨",text:"se siente motivado/a"},happy:{icon:"😄",text:"se siente feliz"},content:{icon:"😊",text:"está contento/a"},tired:{icon:"😴",text:"está un poco cansado/a"},grumpy:{icon:"⛈️",text:"tiene un día complicado"},sad:{icon:"😢",text:"se siente triste"},angry:{icon:"😠",text:"se siente enojado/a"},love_you:{icon:"❤️",text:"te envía amor"},miss_you:{icon:"🥺",text:"te extraña"},hug:{icon:"🤗",text:"quiere un abrazo"},kiss:{icon:"😘",text:"quiere un beso"}},K1={note:{bg:"bg-yellow-200",text:"text-yellow-900",rotate:"transform -rotate-2"},emotion:{bg:"bg-pink-200",text:"text-pink-900",rotate:"transform rotate-1"},reflection:{bg:"bg-purple-200",text:"text-purple-900",rotate:"transform rotate-2"},trip:{bg:"bg-sky-200",text:"text-sky-900",rotate:"transform -rotate-1"},academic_summary:{bg:"bg-indigo-200",text:"text-indigo-900",rotate:"transform rotate-1"},subject_update:{bg:"bg-indigo-200",text:"text-indigo-900",rotate:"transform -rotate-2"}},$1=({partner:o,partnerNotes:m,sharedEmotionStates:g,onNavigate:r})=>{const f=x.useMemo(()=>{const d=m.filter(N=>N.authorId===o.id).map(N=>({id:N.id,type:N.type||"note",timestamp:N.timestamp,content:N.type==="reflection"&&N.reflectionContent?`Reflexión: "${N.reflectionContent.dayTitle||"..."}"`:N.type==="trip"&&N.tripContent?`Viaje a: "${N.tripContent.title}"`:`"${N.text}"`})),S=g.filter(N=>N.emotions[o.id]).map(N=>({id:N.date,type:"emotion",timestamp:new Date(N.date).toISOString(),content:`${Xm[N.emotions[o.id]].icon} ${Xm[N.emotions[o.id]].text}`}));return[...d,...S].sort((N,h)=>new Date(h.timestamp).getTime()-new Date(N.timestamp).getTime()).slice(0,3)},[o.id,m,g]),v=d=>{const S=new Date,N=new Date(d),h=Math.floor((S.getTime()-N.getTime())/1e3);if(h<60)return"ahora";const z=Math.floor(h/60);if(z<60)return`${z}m`;const _=Math.floor(z/60);return _<24?`${_}h`:`${Math.floor(_/24)}d`};return l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md scrapbook-background",children:[l.jsxs("h3",{className:"text-xl font-semibold text-slate-700 mb-4 font-handwriting",children:["Notas de ",o.name]}),f.length>0?l.jsxs("div",{className:"space-y-4",children:[f.map(d=>{const S=K1[d.type];return l.jsxs("div",{className:`p-4 rounded-md shadow-md ${S.bg} ${S.rotate}`,children:[l.jsx("p",{className:`text-md font-handwriting ${S.text} truncate`,children:d.content}),l.jsx("p",{className:`text-right text-xs mt-2 opacity-70 ${S.text}`,children:v(d.timestamp)})]},d.id)}),l.jsx("div",{className:"pt-3 text-center",children:l.jsx("button",{onClick:r,className:"text-sm font-semibold text-indigo-600 hover:text-indigo-800 transition-colors",children:"Ver historial completo →"})})]}):l.jsxs("div",{className:"text-center text-sm text-slate-500 py-8 bg-slate-50/70 rounded-lg",children:["No hay actividad reciente de ",o.name,"."]})]})},F1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),J1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),W1=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.195.025.39.05.588.082a2.25 2.25 0 0 1 2.829 2.829.096.096 0 0 0 .082.082m0 0a2.25 2.25 0 1 0 2.186 0m-2.186 0a2.25 2.25 0 0 0-2.829-2.829.096.096 0 0 1-.082-.082m0 0a2.25 2.25 0 1 0 0-2.186m0 2.186c-.195-.025-.39-.05-.588-.082a2.25 2.25 0 0 1-2.829-2.829.096.096 0 0 0-.082-.082"})}),P1=[{emoji:"😊",label:"Contento"},{emoji:"😌",label:"Tranquilo"},{emoji:"🤔",label:"Pensativo"},{emoji:"💪",label:"Productivo"},{emoji:"😟",label:"Complicado"}],e2=({journalEntries:o,currentJournalEntry:m,selectedDate:g,onSave:r,onOpenHistory:f,onOpenShareModal:v,partner:d})=>{const[S,N]=x.useState(""),[h,z]=x.useState(""),[_,M]=x.useState(""),[H,B]=x.useState(""),[V,J]=x.useState(!1),[A,Z]=x.useState(!1);x.useEffect(()=>{N((m==null?void 0:m.positiveThought)||""),z((m==null?void 0:m.lessonLearned)||""),M((m==null?void 0:m.dayTitle)||""),B((m==null?void 0:m.emotionEmoji)||""),Z(!1)},[m,g]);const G=()=>{(S.trim()||h.trim()||_.trim()||H)&&(r({date:g.toISOString().split("T")[0],positiveThought:S,lessonLearned:h,dayTitle:_,emotionEmoji:H}),J(!0),Z(!1),setTimeout(()=>J(!1),2500))},k=ce=>{B(ce),A||Z(!0)},Y=ce=>P=>{ce(P.target.value),A||Z(!0)},F=V||!A,$=!m||A||!d;return l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(F1,{className:"w-6 h-6 text-teal-500"}),l.jsx("h3",{className:"text-xl font-semibold text-zinc-700",children:"Mi Reflexión del Día"})]}),l.jsx("button",{onClick:f,className:"text-sm font-medium text-teal-600 hover:text-teal-800 transition-colors disabled:text-zinc-400 disabled:cursor-not-allowed",disabled:o.length===0,children:"Ver historial"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"positive-thought",className:"block text-sm font-medium text-zinc-600 mb-1",children:"Un pensamiento positivo o agradecimiento de hoy:"}),l.jsx("textarea",{id:"positive-thought",rows:3,value:S,onChange:Y(N),className:"w-full px-3 py-2 border border-zinc-200 bg-stone-50 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-300 focus:border-teal-300 resize-none transition-colors",placeholder:"¿Qué te hizo sonreír hoy?"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"lesson-learned",className:"block text-sm font-medium text-zinc-600 mb-1",children:"Algo que aprendí sobre mí o sobre los demás:"}),l.jsx("textarea",{id:"lesson-learned",rows:3,value:h,onChange:Y(z),className:"w-full px-3 py-2 border border-zinc-200 bg-stone-50 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-300 focus:border-teal-300 resize-none transition-colors",placeholder:"Una pequeña o gran revelación..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-600 mb-2",children:"¿Qué emoción representa mejor este día?"}),l.jsx("div",{className:"flex flex-wrap justify-around bg-stone-50/70 p-3 rounded-lg gap-2",children:P1.map(({emoji:ce,label:P})=>l.jsxs("button",{type:"button",onClick:()=>k(ce),className:`flex flex-col items-center p-2 rounded-lg transition-all duration-200 w-20 ${H===ce?"bg-teal-200 scale-110":"hover:bg-zinc-200"}`,"aria-label":`Seleccionar emoción: ${P}`,title:P,children:[l.jsx("span",{className:"text-3xl",children:ce}),l.jsx("span",{className:"text-xs font-medium text-zinc-700 mt-1",children:P})]},ce))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"day-title",className:"block text-sm font-medium text-zinc-600 mb-1",children:"Si tuvieras que ponerle un título a tu día, ¿cuál sería?"}),l.jsx("input",{type:"text",id:"day-title",value:_,onChange:Y(M),className:"w-full px-3 py-2 border border-zinc-200 bg-stone-50 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-300 focus:border-teal-300 transition-colors",placeholder:"p. ej., Un día de calma inesperada, Misión cumplida..."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end items-stretch sm:items-center gap-3 pt-2",children:[l.jsxs("button",{onClick:()=>v(m),disabled:$,title:$?d?"Guarda tu reflexión para poder compartirla":"Conecta con una pareja para compartir":"Compartir reflexión",className:"flex items-center justify-center space-x-2 px-4 py-2 w-full sm:w-40 border border-zinc-300 bg-white rounded-md text-sm font-medium text-zinc-700 shadow-sm transition-colors duration-200 hover:bg-zinc-50 disabled:opacity-60 disabled:cursor-not-allowed",children:[l.jsx(W1,{className:"w-5 h-5"}),l.jsx("span",{children:"Compartir"})]}),l.jsx("button",{onClick:G,disabled:F,className:`flex items-center justify-center space-x-2 px-4 py-2 w-full sm:w-40 border border-transparent rounded-md text-sm font-medium text-white shadow-sm transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500
                    ${V?"bg-green-500":"bg-teal-600"}
                    ${F?"opacity-60 cursor-not-allowed":"hover:bg-teal-700"}
                `,children:V?l.jsxs(l.Fragment,{children:[l.jsx(J1,{className:"w-5 h-5"}),l.jsx("span",{children:"¡Guardado!"})]}):l.jsx("span",{children:"Guardar Reflexión"})})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qm;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Qm||(Qm={}));var Km;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(Km||(Km={}));var $m;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT",o.NULL="NULL"})($m||($m={}));var Fm;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",o.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",o.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",o.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",o.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Fm||(Fm={}));var Jm;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(Jm||(Jm={}));var Wm;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(Wm||(Wm={}));var Pm;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Pm||(Pm={}));var ef;(function(o){o.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",o.NO_AUTH="NO_AUTH",o.API_KEY_AUTH="API_KEY_AUTH",o.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",o.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",o.OAUTH="OAUTH",o.OIDC_AUTH="OIDC_AUTH"})(ef||(ef={}));var tf;(function(o){o.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",o.SIMPLE_SEARCH="SIMPLE_SEARCH",o.ELASTIC_SEARCH="ELASTIC_SEARCH"})(tf||(tf={}));var af;(function(o){o.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",o.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",o.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",o.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",o.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(af||(af={}));var lf;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY",o.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",o.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(lf||(lf={}));var nf;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(nf||(nf={}));var sf;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sf||(sf={}));var of;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.IMAGE_SAFETY="IMAGE_SAFETY"})(of||(of={}));var cf;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(cf||(cf={}));var rf;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(rf||(rf={}));var uf;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(uf||(uf={}));var df;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(df||(df={}));var mf;(function(o){o.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",o.TUNING_MODE_FULL="TUNING_MODE_FULL",o.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(mf||(mf={}));var ff;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ff||(ff={}));var hf;(function(o){o.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",o.TUNING_TASK_I2V="TUNING_TASK_I2V",o.TUNING_TASK_T2V="TUNING_TASK_T2V"})(hf||(hf={}));var xf;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(xf||(xf={}));var pf;(function(o){o.UNSPECIFIED="UNSPECIFIED",o.BLOCKING="BLOCKING",o.NON_BLOCKING="NON_BLOCKING"})(pf||(pf={}));var gf;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(gf||(gf={}));var vf;(function(o){o.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",o.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(vf||(vf={}));var bf;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE",o.VALIDATED="VALIDATED"})(bf||(bf={}));var jf;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(jf||(jf={}));var Nf;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(Nf||(Nf={}));var yf;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi",o.zh="zh",o.pt="pt",o.es="es"})(yf||(yf={}));var Sf;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Sf||(Sf={}));var wf;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(wf||(wf={}));var Ef;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ef||(Ef={}));var Tf;(function(o){o.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",o.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",o.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",o.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",o.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",o.EDIT_MODE_STYLE="EDIT_MODE_STYLE",o.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",o.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Tf||(Tf={}));var Cf;(function(o){o.FOREGROUND="FOREGROUND",o.BACKGROUND="BACKGROUND",o.PROMPT="PROMPT",o.SEMANTIC="SEMANTIC",o.INTERACTIVE="INTERACTIVE"})(Cf||(Cf={}));var _f;(function(o){o.ASSET="ASSET",o.STYLE="STYLE"})(_f||(_f={}));var Af;(function(o){o.INSERT="INSERT",o.REMOVE="REMOVE",o.REMOVE_STATIC="REMOVE_STATIC",o.OUTPAINT="OUTPAINT"})(Af||(Af={}));var Df;(function(o){o.OPTIMIZED="OPTIMIZED",o.LOSSLESS="LOSSLESS"})(Df||(Df={}));var Mf;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(Mf||(Mf={}));var Of;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(Of||(Of={}));var zf;(function(o){o.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.RESPONSE_REJECTED="RESPONSE_REJECTED",o.NEED_MORE_INPUT="NEED_MORE_INPUT"})(zf||(zf={}));var Lf;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(Lf||(Lf={}));var Rf;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Rf||(Rf={}));var kf;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(kf||(kf={}));var If;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(If||(If={}));var Uf;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Uf||(Uf={}));var Hf;(function(o){o.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",o.SILENT="SILENT",o.WHEN_IDLE="WHEN_IDLE",o.INTERRUPT="INTERRUPT"})(Hf||(Hf={}));var Bf;(function(o){o.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",o.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",o.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",o.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",o.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",o.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",o.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",o.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",o.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",o.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",o.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",o.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",o.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Bf||(Bf={}));var Gf;(function(o){o.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",o.QUALITY="QUALITY",o.DIVERSITY="DIVERSITY",o.VOCALIZATION="VOCALIZATION"})(Gf||(Gf={}));var Yf;(function(o){o.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",o.PLAY="PLAY",o.PAUSE="PAUSE",o.STOP="STOP",o.RESET_CONTEXT="RESET_CONTEXT"})(Yf||(Yf={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qf;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(qf||(qf={}));const t2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),a2=({isOpen:o,onClose:m,onSave:g,trip:r})=>{const[f,v]=x.useState(""),[d,S]=x.useState(""),[N,h]=x.useState(new Date().toISOString().split("T")[0]),[z,_]=x.useState(()=>{const k=new Date;return k.setDate(k.getDate()+7),k.toISOString().split("T")[0]}),[M,H]=x.useState(""),[B,V]=x.useState(void 0),[J,A]=x.useState("");if(x.useEffect(()=>{r?(v(r.title),S(r.destination),h(r.startDate),_(r.endDate),H(r.notes||""),V(r.coverPhoto)):(v(""),S(""),h(new Date().toISOString().split("T")[0]),_(()=>{const k=new Date;return k.setDate(k.getDate()+7),k.toISOString().split("T")[0]}),H(""),V(void 0))},[r]),!o)return null;const Z=k=>{if(k.target.files&&k.target.files[0]){const Y=k.target.files[0],F=new FileReader;F.onloadend=()=>{V(F.result)},F.readAsDataURL(Y)}},G=k=>{if(k.preventDefault(),!f.trim()||!d.trim()){A("El título y el destino son obligatorios.");return}if(new Date(N)>new Date(z)){A("La fecha de fin debe ser posterior a la fecha de inicio.");return}A(""),g({title:f,destination:d,startDate:N,endDate:z,notes:M,coverPhoto:B},r==null?void 0:r.id)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:k=>k.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:r?"Editar Viaje":"Añadir Nuevo Viaje"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-slate-100",children:l.jsx(t2,{className:"w-6 h-6 text-slate-500"})})]}),l.jsxs("form",{onSubmit:G,className:"space-y-3 max-h-[80vh] overflow-y-auto pr-2",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"trip-title",className:"block text-sm font-medium text-slate-700 mb-1",children:"Título del Viaje"}),l.jsx("input",{type:"text",id:"trip-title",value:f,onChange:k=>v(k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"p. ej., Aventura en la costa"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"trip-destination",className:"block text-sm font-medium text-slate-700 mb-1",children:"Destino"}),l.jsx("input",{type:"text",id:"trip-destination",value:d,onChange:k=>S(k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"p. ej., Oporto, Portugal"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"trip-startDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Fecha de Inicio"}),l.jsx("input",{type:"date",id:"trip-startDate",value:N,onChange:k=>h(k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"trip-endDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Fecha de Fin"}),l.jsx("input",{type:"date",id:"trip-endDate",value:z,onChange:k=>_(k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"trip-notes",className:"block text-sm font-medium text-slate-700 mb-1",children:"Notas (Opcional)"}),l.jsx("textarea",{id:"trip-notes",value:M,onChange:k=>H(k.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"Añade tus pensamientos generales sobre el viaje..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Foto de Portada (Opcional)"}),l.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-300 border-dashed rounded-md",children:l.jsxs("div",{className:"space-y-1 text-center",children:[B?l.jsx("img",{src:B,alt:"Vista previa",className:"mx-auto h-24 w-auto rounded-md"}):l.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:l.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),l.jsxs("div",{className:"flex text-sm text-slate-600",children:[l.jsxs("label",{htmlFor:"trip-file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[l.jsx("span",{children:"Sube una imagen"}),l.jsx("input",{id:"trip-file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/*",onChange:Z})]}),l.jsx("p",{className:"pl-1",children:"o arrástrala aquí"})]}),l.jsx("p",{className:"text-xs text-slate-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),J&&l.jsx("p",{className:"text-red-600 text-sm font-medium text-center bg-red-50 p-2 rounded-md",children:J}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[l.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-white border border-slate-300 rounded-md text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-indigo-700",children:"Guardar Viaje"})]})]})]})})},l2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),n2=["😊","🤩","😋","😌","😴","❤️"],s2=({isOpen:o,onClose:m,onSave:g,highlight:r,tripStartDate:f,tripEndDate:v})=>{const[d,S]=x.useState(""),[N,h]=x.useState(new Date().toISOString().split("T")[0]),[z,_]=x.useState(""),[M,H]=x.useState(void 0),[B,V]=x.useState(void 0),[J,A]=x.useState("");if(x.useEffect(()=>{r?(S(r.title),h(r.date),_(r.description),H(r.photo),V(r.emotion)):(S(""),h(f),_(""),H(void 0),V(void 0))},[r,f]),!o)return null;const Z=k=>{if(k.target.files&&k.target.files[0]){const Y=k.target.files[0],F=new FileReader;F.onloadend=()=>{H(F.result)},F.readAsDataURL(Y)}},G=k=>{if(k.preventDefault(),!d.trim()||!z.trim()){A("El título y la descripción son obligatorios.");return}A(""),g({title:d,date:N,description:z,photo:M,emotion:B},r==null?void 0:r.id)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:k=>k.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:r?"Editar Recuerdo":"Añadir Nuevo Recuerdo"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-slate-100",children:l.jsx(l2,{className:"w-6 h-6 text-slate-500"})})]}),l.jsxs("form",{onSubmit:G,className:"space-y-3 max-h-[80vh] overflow-y-auto pr-2",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"highlight-title",className:"block text-sm font-medium text-slate-700 mb-1",children:"Título del Recuerdo"}),l.jsx("input",{type:"text",id:"highlight-title",value:d,onChange:k=>S(k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"p. ej., Visita al museo"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"highlight-date",className:"block text-sm font-medium text-slate-700 mb-1",children:"Fecha"}),l.jsx("input",{type:"date",id:"highlight-date",value:N,onChange:k=>h(k.target.value),min:f,max:v,className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"¿Cómo te sentiste?"}),l.jsx("div",{className:"flex justify-around bg-slate-50 p-3 rounded-lg",children:n2.map(k=>l.jsx("button",{type:"button",onClick:()=>V(k),className:`text-3xl p-1 rounded-full transition-all duration-200 ${B===k?"bg-indigo-200 scale-125":"hover:bg-slate-200"}`,"aria-label":`Seleccionar emoción: ${k}`,children:k},k))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"highlight-description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Descripción"}),l.jsx("textarea",{id:"highlight-description",value:z,onChange:k=>_(k.target.value),rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"Describe este momento especial..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Foto (Opcional)"}),l.jsxs("div",{className:"mt-1 flex items-center space-x-4",children:[M&&l.jsx("img",{src:M,alt:"Vista previa",className:"h-16 w-16 object-cover rounded-md"}),l.jsx("div",{className:"flex-grow flex justify-center px-6 py-4 border-2 border-slate-300 border-dashed rounded-md",children:l.jsx("div",{className:"space-y-1 text-center",children:l.jsx("div",{className:"flex text-sm text-slate-600",children:l.jsxs("label",{htmlFor:"highlight-file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[l.jsx("span",{children:M?"Cambiar imagen":"Subir una imagen"}),l.jsx("input",{id:"highlight-file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/*",onChange:Z})]})})})})]})]}),J&&l.jsx("p",{className:"text-red-600 text-sm font-medium text-center bg-red-50 p-2 rounded-md",children:J}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[l.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-white border border-slate-300 rounded-md text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-indigo-700",children:"Guardar Recuerdo"})]})]})]})})},Vf=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Zf=o=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})]}),i2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})}),Xf=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),Qf=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),o2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),c2=o=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.776 48.776 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})]}),r2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.195.025.39.05.588.082a2.25 2.25 0 0 1 2.829 2.829.096.096 0 0 0 .082.082m0 0a2.25 2.25 0 1 0 2.186 0m-2.186 0a2.25 2.25 0 0 0-2.829-2.829.096.096 0 0 1-.082-.082m0 0a2.25 2.25 0 1 0 0-2.186m0 2.186c-.195-.025-.39-.05-.588-.082a2.25 2.25 0 0 1-2.829-2.829.096.096 0 0 0-.082-.082"})}),u2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})}),d2=(o,m)=>{const g=new Date(o+"T00:00:00"),r=new Date(m+"T00:00:00"),f={year:"numeric",month:"long",day:"numeric"};return`${g.toLocaleDateString("es-ES",f)} - ${r.toLocaleDateString("es-ES",f)}`},m2=({trips:o,onSaveTrip:m,onDeleteTrip:g,onOpenShareModal:r,pairedUser:f,onStartTour:v})=>{const[d,S]=x.useState(null),[N,h]=x.useState(!1),[z,_]=x.useState(null),[M,H]=x.useState(!1),[B,V]=x.useState(null),[J,A]=x.useState(""),[Z,G]=x.useState([]),[k,Y]=x.useState(!1),[F,$]=x.useState(""),ce=(E,O)=>{E.stopPropagation(),_(O),h(!0)},P=()=>{_(null),h(!0)},we=(E,O)=>{if(O){const te=o.find(se=>se.id===O);te&&(m({...te,...E}),S(se=>se?{...se,...E}:null))}else{const te={...E,id:fa(),highlights:[]};m(te)}h(!1),_(null)},fe=(E,O)=>{if(!d)return;let te;if(O)te=d.highlights.map(he=>he.id===O?{...he,...E}:he);else{const he={...E,id:fa()};te=[...d.highlights,he]}const se={...d,highlights:te.sort((he,b)=>new Date(he.date).getTime()-new Date(b.date).getTime())};m(se),S(se),H(!1),V(null)},ie=E=>{if(!d)return;const O=d.highlights.filter(se=>se.id!==E.id),te={...d,highlights:O};m(te),S(te)},ge=E=>{g(E.id),S(null)},Ve=E=>{if(!d)return;const O={date:new Date().toISOString().split("T")[0],title:E.title,description:E.description,emotion:E.emotion};fe(O),G(te=>te.filter(se=>se.title!==E.title))},ae=x.useCallback(async()=>{!d||J.trim(),$("Por favor, introduce un tema para las sugerencias.")},[d,J]);return d?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-md scrapbook-background",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>S(null),className:"flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-800 mb-2",children:[l.jsx(i2,{className:"w-4 h-4 mr-1"})," Volver a todos los viajes"]}),l.jsx("h2",{className:"text-3xl font-bold text-slate-800 font-handwriting",children:d.title}),l.jsxs("p",{className:"text-lg text-slate-500 flex items-center mt-1",children:[l.jsx(Zf,{className:"w-5 h-5 mr-2 text-slate-400"})," ",d.destination]}),l.jsx("p",{className:"text-sm text-slate-500 mt-1",children:d2(d.startDate,d.endDate)})]}),l.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0 mt-2",children:[f&&l.jsx("button",{onClick:()=>r(d),title:"Compartir viaje",className:"p-2 text-slate-500 hover:text-green-600 rounded-md hover:bg-slate-100",children:l.jsx(r2,{className:"w-5 h-5"})}),l.jsx("button",{onClick:E=>ce(E,d),className:"p-2 text-slate-500 hover:text-indigo-600 rounded-md hover:bg-slate-100",children:l.jsx(Xf,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>ge(d),className:"p-2 text-slate-500 hover:text-red-600 rounded-md hover:bg-slate-100",children:l.jsx(Qf,{className:"w-5 h-5"})})]})]}),d.notes&&l.jsxs("p",{className:"mt-4 mb-6 text-slate-600 bg-white/70 p-4 rounded-lg italic text-center text-lg font-handwriting",children:['"',d.notes,'"']}),l.jsxs("div",{className:"border-t border-slate-200 pt-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"Recuerdos del Viaje"}),l.jsxs("button",{id:"travel-add-highlight-btn",onClick:()=>{V(null),H(!0)},className:"flex items-center space-x-2 text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors",children:[l.jsx(Vf,{className:"w-5 h-5"}),l.jsx("span",{children:"Añadir Recuerdo"})]})]}),l.jsxs("div",{id:"ai-highlight-suggester",className:"my-6 p-4 bg-indigo-50 border-2 border-dashed border-indigo-200 rounded-lg",children:[l.jsxs("h4",{className:"font-semibold text-indigo-800 flex items-center",children:[l.jsx(o2,{className:"w-5 h-5 mr-2 text-indigo-500"}),"Asistente de Viajes"]}),l.jsx("p",{className:"text-sm text-indigo-700 mt-1",children:"¿Necesitas inspiración? Pide sugerencias de recuerdos para tu viaje."}),l.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[l.jsx("input",{type:"text",value:J,onChange:E=>A(E.target.value),placeholder:"p. ej., 'comida local', 'museos'",className:"w-full px-3 py-1.5 border border-indigo-200 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"}),l.jsx("button",{onClick:ae,disabled:k,className:"px-3 py-1.5 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 disabled:bg-indigo-300",children:k?"Generando...":"Sugerir"})]}),F&&l.jsx("p",{className:"text-sm text-red-600 mt-2",children:F}),Z.length>0&&l.jsx("div",{className:"mt-4 space-y-2",children:Z.map((E,O)=>l.jsxs("div",{className:"p-3 bg-white rounded-md flex justify-between items-start shadow-sm",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-xl mt-0.5",children:E.emotion}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-800",children:E.title}),l.jsx("p",{className:"text-sm text-slate-600",children:E.description})]})]}),l.jsx("button",{onClick:()=>Ve(E),className:"text-xs font-bold text-indigo-600 hover:underline ml-2 flex-shrink-0",children:"Añadir"})]},O))})]}),d.highlights.length>0?l.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-12 items-start",children:d.highlights.map((E,O)=>l.jsxs("div",{id:O===0?"highlight-card-example":void 0,className:"group relative",children:[l.jsxs("div",{className:`bg-white p-3 pb-4 shadow-xl border-4 border-white transition-transform duration-300 group-hover:scale-105 group-hover:rotate-0 ${O%4===0?"rotate-2":O%4===1?"-rotate-3":O%4===2?"rotate-1":"-rotate-2"}`,children:[E.photo&&l.jsx("div",{className:"mb-3 bg-slate-100",children:l.jsx("img",{src:E.photo,alt:E.title,className:"w-full h-48 object-cover"})}),l.jsxs("div",{className:"text-center px-2",children:[l.jsx("p",{className:"text-sm text-slate-500",children:new Date(E.date+"T00:00:00").toLocaleDateString("es-ES",{month:"long",day:"numeric"})}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[E.emotion&&l.jsx("span",{className:"text-2xl",children:E.emotion}),l.jsx("p",{className:"font-bold text-slate-800 text-xl font-handwriting",children:E.title})]}),l.jsx("p",{className:"mt-2 text-sm text-slate-600 text-left whitespace-pre-wrap",children:E.description})]})]}),l.jsxs("div",{className:"absolute top-2 right-2 flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[l.jsx("button",{onClick:()=>{V(E),H(!0)},className:"p-1.5 bg-white/80 text-slate-500 hover:text-indigo-600 rounded-full shadow-md",children:l.jsx(Xf,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>ie(E),className:"p-1.5 bg-white/80 text-slate-500 hover:text-red-600 rounded-full shadow-md",children:l.jsx(Qf,{className:"w-4 h-4"})})]})]},E.id))}):l.jsx("p",{className:"text-center text-slate-500 py-8",children:"Aún no has añadido ningún recuerdo a este viaje."})]}),l.jsx(s2,{isOpen:M,onClose:()=>{H(!1),V(null)},onSave:fe,highlight:B,tripStartDate:d.startDate,tripEndDate:d.endDate})]})}):l.jsxs("div",{className:"scrapbook-background p-4 sm:p-6 rounded-xl border-4 border-white shadow-inner",children:[l.jsx("style",{children:`
                .polaroid-card:nth-child(5n+1) { transform: rotate(2deg); }
                .polaroid-card:nth-child(5n+2) { transform: rotate(-3deg); margin-top: 1rem; }
                .polaroid-card:nth-child(5n+3) { transform: rotate(4deg); }
                .polaroid-card:nth-child(5n+4) { transform: rotate(-1.5deg); margin-left: -1rem; }
                .polaroid-card:nth-child(5n+5) { transform: rotate(1deg); }
            `}),l.jsxs("div",{id:"travel-log-header",className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-3xl font-bold text-slate-800 font-handwriting",children:"Mi Bitácora de Viajes"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:v,title:"Iniciar tour guiado",className:"p-2 text-slate-500 hover:text-yellow-700 rounded-full hover:bg-yellow-100 transition-colors",children:l.jsx(u2,{className:"w-6 h-6"})}),l.jsxs("button",{id:"travel-add-trip-btn",onClick:P,className:"flex items-center space-x-2 px-4 py-2 bg-yellow-300 text-yellow-900 rounded-md text-sm font-bold shadow-md hover:bg-yellow-400 transition-transform hover:scale-105",style:{transform:"rotate(5deg)"},children:[l.jsx(Vf,{className:"w-5 h-5"}),l.jsx("span",{children:"Añadir Viaje"})]})]})]}),o.length>0?l.jsx("div",{className:"flex flex-wrap justify-center gap-6 sm:gap-8 p-4",children:o.map((E,O)=>l.jsxs("div",{id:O===0?"trip-card-example":void 0,onClick:()=>S(E),className:"polaroid-card w-56 sm:w-64 bg-white p-3 pb-1 shadow-lg rounded-sm cursor-pointer group transition-transform hover:scale-105 hover:!rotate(0) hover:z-10",children:[l.jsx("div",{className:"h-40 sm:h-48 bg-slate-200 flex items-center justify-center overflow-hidden",children:E.coverPhoto?l.jsx("img",{src:E.coverPhoto,alt:E.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):l.jsx(c2,{className:"w-12 h-12 text-slate-400"})}),l.jsxs("div",{className:"p-3 text-center",children:[l.jsx("h3",{className:"font-bold text-lg text-slate-800 font-handwriting truncate",children:E.title}),l.jsx("p",{className:"text-sm text-slate-500 truncate",children:E.destination})]})]},E.id))}):l.jsxs("div",{className:"text-center py-16",children:[l.jsx(Zf,{className:"w-12 h-12 mx-auto text-slate-300"}),l.jsx("h3",{className:"mt-2 text-2xl font-semibold text-slate-800 font-handwriting",children:"Tu aventura te espera"}),l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Añade tu primer viaje para empezar a pegar recuerdos en tu bitácora."})]}),l.jsx(a2,{isOpen:N,onClose:()=>{h(!1),_(null)},onSave:we,trip:z})]})},f2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),h2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),x2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m9.375 2.25c.621 0 1.125.504 1.125 1.125v3.375m-13.5 0V9.375c0-.621.504-1.125 1.125-1.125h3.375m-3.375 0c.621 0 1.125.504 1.125 1.125v3.375"})}),p2=({reflection:o})=>{const m=new Date(o.date+"T00:00:00").toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"});return l.jsxs("div",{className:"p-8 bg-white rounded-lg shadow-lg border border-zinc-100 scrapbook-background",children:[l.jsxs("div",{className:"text-center mb-4",children:[o.emotionEmoji&&l.jsx("p",{className:"text-6xl mb-2",children:o.emotionEmoji}),l.jsx("h3",{className:"text-3xl font-bold text-zinc-800 font-handwriting",children:o.dayTitle}),l.jsx("p",{className:"text-sm text-zinc-500",children:m})]}),l.jsxs("div",{className:"space-y-4",children:[o.positiveThought&&l.jsxs("div",{className:"bg-yellow-50 p-4 rounded-md border-l-4 border-yellow-300",children:[l.jsx("p",{className:"text-sm font-semibold text-yellow-800",children:"Pensamiento positivo:"}),l.jsxs("blockquote",{className:"text-zinc-700 mt-1 italic",children:['"',o.positiveThought,'"']})]}),o.lessonLearned&&l.jsxs("div",{className:"bg-sky-50 p-4 rounded-md border-l-4 border-sky-300",children:[l.jsx("p",{className:"text-sm font-semibold text-sky-800",children:"Lección aprendida:"}),l.jsxs("blockquote",{className:"text-zinc-700 mt-1 italic",children:['"',o.lessonLearned,'"']})]})]})]})},g2=({isOpen:o,onClose:m,reflection:g,onShareWithPartner:r,partnerName:f})=>{const[v,d]=x.useState("idle");if(!o||!g)return null;const S=()=>{const N=`
Reflexión del ${new Date(g.date+"T00:00:00").toLocaleDateString("es-ES",{day:"numeric",month:"long"})}
${g.emotionEmoji} ${g.dayTitle} ${g.emotionEmoji}

Pensamiento positivo:
${g.positiveThought}

Lección aprendida:
${g.lessonLearned}
        `.trim();navigator.clipboard.writeText(N).then(()=>{d("copied"),setTimeout(()=>d("idle"),2e3)})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[100] flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-stone-50 rounded-lg shadow-xl p-6 w-full max-w-md",onClick:N=>N.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:"Compartir Reflexión"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-zinc-200",children:l.jsx(f2,{className:"w-6 h-6 text-zinc-500"})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-zinc-600 mb-2 text-center",children:"Vista Previa"}),l.jsx(p2,{reflection:g})]}),l.jsxs("div",{className:"flex flex-col justify-center space-y-4 pt-4 border-t border-zinc-200",children:[f&&l.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center space-x-3 px-4 py-3 bg-teal-600 text-white rounded-lg shadow-sm hover:bg-teal-700 transition-colors",children:[l.jsx(h2,{className:"w-5 h-5"}),l.jsxs("span",{className:"font-semibold",children:["Enviar a ",f]})]}),l.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center space-x-3 px-4 py-3 bg-zinc-600 text-white rounded-lg shadow-sm hover:bg-zinc-700 transition-colors",children:[l.jsx(x2,{className:"w-5 h-5"}),l.jsx("span",{className:"font-semibold",children:v==="copied"?"¡Copiado!":"Copiar Texto"})]})]})]})]})})},v2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),b2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),j2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m9.375 2.25c.621 0 1.125.504 1.125 1.125v3.375m-13.5 0V9.375c0-.621.504-1.125 1.125-1.125h3.375m-3.375 0c.621 0 1.125.504 1.125 1.125v3.375"})}),N2=o=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.776 48.776 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})]}),y2=({trip:o})=>l.jsxs("div",{className:"bg-white p-3 pb-4 shadow-lg rounded-sm border border-zinc-200",children:[l.jsx("div",{className:"h-40 bg-zinc-200 flex items-center justify-center overflow-hidden",children:o.coverPhoto?l.jsx("img",{src:o.coverPhoto,alt:o.title,className:"w-full h-full object-cover"}):l.jsx(N2,{className:"w-12 h-12 text-zinc-400"})}),l.jsxs("div",{className:"p-3 text-center",children:[l.jsx("h3",{className:"font-bold text-xl text-zinc-800 font-handwriting truncate",children:o.title}),l.jsx("p",{className:"text-md text-zinc-500 truncate",children:o.destination})]})]}),S2=({isOpen:o,onClose:m,trip:g,onShareWithPartner:r,partnerName:f})=>{const[v,d]=x.useState("idle");if(!o||!g)return null;const S=()=>{const N=`
¡Mira este viaje!
Título: ${g.title}
Destino: ${g.destination}
Fechas: ${new Date(g.startDate+"T00:00:00").toLocaleDateString()} - ${new Date(g.endDate+"T00:00:00").toLocaleDateString()}

${g.notes?`Notas: ${g.notes}`:""}
        `.trim();navigator.clipboard.writeText(N).then(()=>{d("copied"),setTimeout(()=>d("idle"),2e3)})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[100] flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-stone-50 rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:N=>N.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:"Compartir Viaje"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-zinc-200",children:l.jsx(v2,{className:"w-6 h-6 text-zinc-500"})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-zinc-600 mb-2 text-center",children:"Vista Previa"}),l.jsx(y2,{trip:g})]}),l.jsxs("div",{className:"flex flex-col justify-center space-y-4 pt-4 border-t border-zinc-200",children:[f&&l.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center space-x-3 px-4 py-3 bg-teal-600 text-white rounded-lg shadow-sm hover:bg-teal-700 transition-colors",children:[l.jsx(b2,{className:"w-5 h-5"}),l.jsxs("span",{className:"font-semibold",children:["Enviar a ",f]})]}),l.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center space-x-3 px-4 py-3 bg-zinc-600 text-white rounded-lg shadow-sm hover:bg-zinc-700 transition-colors",children:[l.jsx(j2,{className:"w-5 h-5"}),l.jsx("span",{className:"font-semibold",children:v==="copied"?"¡Copiado!":"Copiar Texto"})]})]})]})]})})};function Ue(o,m){const[g,r]=x.useState(()=>{try{const v=window.localStorage.getItem(o);return v?JSON.parse(v):m}catch(v){return console.error(v),m}}),f=v=>{try{const d=v instanceof Function?v(g):v;r(d),window.localStorage.setItem(o,JSON.stringify(d))}catch(d){console.error(d)}};return x.useEffect(()=>{const v=d=>{if(d.key===o)try{r(d.newValue?JSON.parse(d.newValue):m)}catch(S){console.error(S),r(m)}};return window.addEventListener("storage",v),()=>{window.removeEventListener("storage",v)}},[o]),[g,f]}const w2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),E2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),T2=({isOpen:o,onClose:m,journalEntries:g})=>{const[r,f]=x.useState(""),[v,d]=x.useState(""),S=x.useMemo(()=>[...g].filter(M=>{const H=new Date(M.timestamp);if(H.setHours(0,0,0,0),r){const B=new Date(r+"T00:00:00");if(H<B)return!1}if(v){const B=new Date(v+"T00:00:00");if(H>B)return!1}return!0}).sort((M,H)=>new Date(H.timestamp).getTime()-new Date(M.timestamp).getTime()),[g,r,v]);if(!o)return null;const N=()=>{f(""),d("")},h=M=>new Date(M).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),z=M=>new Date(M).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),_=()=>{const M=`
      <html>
        <head>
          <title>Historial de Reflexiones</title>
          <style>
            body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; line-height: 1.6; color: #333; padding: 20px; }
            h1 { color: #0f766e; }
            h2 { font-size: 1.1em; color: #666; font-weight: normal; border-bottom: 1px solid #ddd; padding-bottom: 8px; margin-bottom: 20px; }
            .entry { border: 1px solid #eee; border-radius: 8px; padding: 15px; margin-bottom: 20px; background-color: #f9fafb; page-break-inside: avoid; }
            .entry-header { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 10px; color: #6b7280; font-size: 0.9em; }
            .date { font-weight: bold; font-size: 1.1em; color: #115e59; }
            .emoji { font-size: 1.5em; margin-right: 10px; }
            .day-title { font-style: italic; color: #4b5563; }
            .thought { border-left: 3px solid #5eead4; padding-left: 10px; margin: 10px 0; }
            .lesson { border-left: 3px solid #9ca3af; padding-left: 10px; margin: 10px 0; }
            strong { color: #374151; }
          </style>
        </head>
        <body>
          <h1>Historial de Reflexiones</h1>
          <h2>${r||v?`Filtrado desde ${r?h(r):"el inicio"} hasta ${v?h(v):"el final"}`:"Historial Completo"}</h2>
          ${S.map(B=>`
            <div class="entry">
              <div class="entry-header">
                <span class="date">${h(B.timestamp)}</span>
                <span>${z(B.timestamp)}</span>
              </div>
              ${B.dayTitle||B.emotionEmoji?`
                <p>
                    ${B.emotionEmoji?`<span class="emoji">${B.emotionEmoji}</span>`:""}
                    ${B.dayTitle?`<strong>Título del día:</strong> <span class="day-title">${B.dayTitle}</span>`:""}
                </p>`:""}
              ${B.positiveThought?`<div class="thought"><p><strong>Pensamiento positivo:</strong> ${B.positiveThought}</p></div>`:""}
              ${B.lessonLearned?`<div class="lesson"><p><strong>Lección aprendida:</strong> ${B.lessonLearned}</p></div>`:""}
            </div>
          `).join("")}
          ${S.length===0?"<p>No hay entradas para el período seleccionado.</p>":""}
        </body>
      </html>
    `,H=window.open("","_blank");H&&(H.document.write(M),H.document.close(),H.focus(),H.print())};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-2xl flex flex-col",onClick:M=>M.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:"Mi Línea de Tiempo de Reflexiones"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-zinc-100",children:l.jsx(w2,{className:"w-6 h-6 text-zinc-500"})})]}),l.jsxs("div",{className:"px-1 py-4 mb-4 border-t border-b border-zinc-200 flex flex-wrap items-end gap-4",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-zinc-600 mb-1",children:"Desde"}),l.jsx("input",{type:"date",id:"start-date",value:r,onChange:M=>f(M.target.value),className:"w-full px-3 py-1.5 border border-zinc-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-teal-500"})]}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-zinc-600 mb-1",children:"Hasta"}),l.jsx("input",{type:"date",id:"end-date",value:v,onChange:M=>d(M.target.value),className:"w-full px-3 py-1.5 border border-zinc-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-teal-500"})]}),l.jsx("button",{onClick:N,className:"px-3 py-1.5 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Limpiar Filtros"})]}),l.jsx("div",{className:"flex-grow overflow-y-auto max-h-[60vh] pr-4",children:S.length>0?l.jsx("div",{className:"relative border-l-2 border-zinc-200 pl-6 space-y-6",children:S.map(M=>l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute -left-[33px] top-1 w-4 h-4 bg-white border-2 border-teal-500 rounded-full"}),l.jsxs("div",{className:"p-3 bg-stone-50 rounded-lg border border-zinc-200",children:[l.jsxs("div",{className:"flex justify-between items-baseline mb-3",children:[l.jsx("p",{className:"text-md font-semibold text-teal-700",children:h(M.timestamp)}),l.jsx("p",{className:"text-sm font-medium text-zinc-500",children:z(M.timestamp)})]}),l.jsxs("div",{className:"space-y-3 text-sm",children:[(M.dayTitle||M.emotionEmoji)&&l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-md",children:[M.emotionEmoji&&l.jsx("span",{className:"text-3xl",children:M.emotionEmoji}),M.dayTitle&&l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-zinc-600",children:"El título de mi día:"}),l.jsxs("p",{className:"text-zinc-800 mt-1 italic",children:['"',M.dayTitle,'"']})]})]}),M.positiveThought&&l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-zinc-600",children:"Pensamiento positivo:"}),l.jsx("blockquote",{className:"text-zinc-800 mt-1 pl-3 border-l-4 border-teal-300",children:M.positiveThought})]}),M.lessonLearned&&l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-zinc-600",children:"Lección aprendida:"}),l.jsx("blockquote",{className:"text-zinc-800 mt-1 pl-3 border-l-4 border-zinc-300",children:M.lessonLearned})]})]})]})]},M.timestamp))}):l.jsx("p",{className:"text-center text-zinc-500 py-12",children:"No se han encontrado reflexiones para el período seleccionado."})}),l.jsxs("div",{className:"mt-6 flex justify-between items-center pt-4 border-t border-zinc-200",children:[l.jsxs("button",{type:"button",onClick:_,disabled:S.length===0,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(E2,{className:"w-5 h-5"}),l.jsx("span",{children:"Descargar Historial"})]}),l.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-teal-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Cerrar"})]})]})})},C2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),_2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),A2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),Kf={happy:"😄",content:"😊",motivated:"✨",love_you:"❤️",hug:"🤗",kiss:"😘",miss_you:"🥺",sad:"😢",tired:"😴",grumpy:"⛈️",angry:"😠"},D2=({isOpen:o,onClose:m,sharedEmotionStates:g,currentUser:r,partner:f})=>{const[v,d]=x.useState(new Date),S=x.useMemo(()=>g.reduce((M,H)=>(M[H.date]=H.emotions,M),{}),[g]);if(!o)return null;const N=()=>d(new Date(v.getFullYear(),v.getMonth()-1,1)),h=()=>d(new Date(v.getFullYear(),v.getMonth()+1,1)),z=()=>{const M=v.getFullYear(),H=v.getMonth(),B=new Date(M,H,1).getDay(),V=new Date(M,H+1,0).getDate(),J=[];for(let A=0;A<B;A++)J.push(l.jsx("div",{className:"border-r border-b border-slate-100"},`empty-start-${A}`));for(let A=1;A<=V;A++){const G=new Date(M,H,A).toISOString().split("T")[0],k=S[G];J.push(l.jsxs("div",{className:"relative p-2 h-24 border-r border-b border-slate-100 flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:A}),k&&l.jsxs("div",{className:"mt-2 flex-grow flex flex-col justify-center items-center gap-1",children:[k[r.id]&&l.jsxs("div",{className:"flex items-center gap-2 w-full",children:[l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Tú:"}),l.jsx("span",{className:"text-2xl",children:Kf[k[r.id]]})]}),k[f.id]&&l.jsxs("div",{className:"flex items-center gap-2 w-full",children:[l.jsxs("span",{className:"text-xs font-medium text-slate-500",children:[f.name,":"]}),l.jsx("span",{className:"text-2xl",children:Kf[k[f.id]]})]})]})]},A))}return J},_=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"];return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-2xl",onClick:M=>M.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Historial de Energía"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-slate-100",children:l.jsx(C2,{className:"w-6 h-6 text-slate-500"})})]}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:v.toLocaleString("es-ES",{month:"long",year:"numeric"})}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:N,className:"p-2 rounded-full hover:bg-slate-100 transition-colors",children:l.jsx(_2,{className:"w-5 h-5 text-slate-500"})}),l.jsx("button",{onClick:h,className:"p-2 rounded-full hover:bg-slate-100 transition-colors",children:l.jsx(A2,{className:"w-5 h-5 text-slate-500"})})]})]}),l.jsxs("div",{className:"grid grid-cols-7 border-t border-l border-slate-100 rounded-lg overflow-hidden max-h-[60vh] overflow-y-auto",children:[_.map(M=>l.jsx("div",{className:"text-center py-2 text-sm font-semibold text-slate-500 bg-slate-50 border-r border-b border-slate-100",children:M},M)),z()]})]})})},M2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),O2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),z2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),L2=({isOpen:o,onClose:m,routines:g,onEdit:r,onDelete:f,onCreate:v})=>{if(!o)return null;const d=S=>{f(S.id)};return l.jsx(l.Fragment,{children:l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:S=>S.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Gestionar Rutinas"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-slate-100",children:l.jsx(M2,{className:"w-6 h-6 text-slate-500"})})]}),l.jsx("div",{className:"mb-6",children:l.jsx("button",{onClick:v,className:"w-full px-4 py-2 bg-indigo-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Crear Nueva Rutina"})}),l.jsx("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto pr-2",children:g.length>0?g.map(S=>l.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg flex justify-between items-center group",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:S.color||"#64748B"}}),l.jsx("p",{className:"font-semibold text-slate-800",children:S.title})]}),l.jsxs("div",{className:"flex items-center space-x-2 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>r(S),className:"p-1.5 text-slate-500 hover:text-indigo-600 rounded-md hover:bg-slate-200",children:l.jsx(O2,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>d(S),className:"p-1.5 text-slate-500 hover:text-red-600 rounded-md hover:bg-slate-200",children:l.jsx(z2,{className:"w-4 h-4"})})]})]},S.id)):l.jsx("p",{className:"text-center text-slate-500 py-8",children:"No has creado ninguna rutina todavía."})})]})})})},R2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),k2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),I2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a2.25 2.25 0 0 0-2.25-2.25H9.75a2.25 2.25 0 0 0-2.25 2.25v3.75m6 0H7.5m9 0h-9m9 0v6m-9-6v6m0-6H5.25a2.25 2.25 0 0 0-2.25 2.25v4.5a2.25 2.25 0 0 0 2.25 2.25h13.5a2.25 2.25 0 0 0 2.25-2.25v-4.5a2.25 2.25 0 0 0-2.25-2.25H18.75"})}),U2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),zo={personal:"#3B82F6",pareja:"#EC4899",trabajo:"#22C55E",otro:"#64748B"},H2=({isOpen:o,onClose:m,events:g,initialDate:r})=>{const[f,v]=x.useState(new Date(r));if(!o)return null;const d=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],S=()=>{v(new Date(f.getFullYear(),f.getMonth()-1,1))},N=()=>{v(new Date(f.getFullYear(),f.getMonth()+1,1))},h=g.reduce((M,H)=>{const B=H.date;return M[B]||(M[B]=[]),M[B].push(H),M},{}),z=()=>{const M=new Date(f.getFullYear(),f.getMonth(),1),B=new Date(f.getFullYear(),f.getMonth()+1,0).getDate(),V=M.getDay(),J=Math.ceil((V+B)/7)*7,A=[];for(let G=0;G<V;G++)A.push(l.jsx("div",{className:"border-r border-b border-zinc-300"},`empty-start-${G}`));for(let G=1;G<=B;G++){const Y=new Date(f.getFullYear(),f.getMonth(),G).toISOString().split("T")[0],F=(h[Y]||[]).sort(($,ce)=>$.time.localeCompare(ce.time));A.push(l.jsxs("div",{className:"relative p-2 border-r border-b border-zinc-300 flex flex-col",children:[l.jsx("span",{className:"font-semibold text-zinc-700",children:G}),F.length>0&&l.jsx("div",{className:"mt-1 space-y-1 overflow-auto",children:F.map($=>l.jsxs("div",{className:"w-full text-[10px] p-1 rounded text-white whitespace-normal",style:{backgroundColor:$.color||zo[$.category]||zo.otro},children:[l.jsx("span",{className:"font-bold",children:$.time})," ",$.title]},`print-${$.id}`))})]},G))}const Z=J-(V+B);for(let G=0;G<Z;G++)A.push(l.jsx("div",{className:"border-r border-b border-zinc-300"},`empty-end-${G}`));return A},_=()=>{const M=f.toLocaleString("es-ES",{month:"long",year:"numeric"}),H=new Date(f.getFullYear(),f.getMonth(),1),V=new Date(f.getFullYear(),f.getMonth()+1,0).getDate(),J=H.getDay(),A=Math.ceil((J+V)/7)*7,Z=A/7;let G="";for(let $=0;$<J;$++)G+='<div class="day-cell empty-cell"></div>';for(let $=1;$<=V;$++){const P=new Date(f.getFullYear(),f.getMonth(),$).toISOString().split("T")[0],fe=(h[P]||[]).sort((ie,ge)=>ie.time.localeCompare(ge.time)).map(ie=>`
        <div class="event" style="background-color: ${ie.color||zo[ie.category]||zo.otro};">
          <strong>${ie.time}</strong> ${ie.title}
        </div>
      `).join("");G+=`
        <div class="day-cell">
          <div class="day-number">${$}</div>
          <div class="events-container">${fe}</div>
        </div>
      `}const k=A-(J+V);for(let $=0;$<k;$++)G+='<div class="day-cell empty-cell"></div>';const Y=`
      <html>
        <head>
          <title>Calendario Mensual - ${M}</title>
          <style>
            @page {
              size: A4 landscape;
              margin: 1cm;
            }
            body { 
              font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; 
              margin: 0; 
              -webkit-print-color-adjust: exact; 
              print-color-adjust: exact;
              height: 100%;
              width: 100%;
            }
            .printable-container {
              display: flex;
              flex-direction: column;
              height: 100%;
            }
            h1 { 
              text-align: center; color: #0f766e; font-size: 1.5em; text-transform: capitalize; 
              flex-shrink: 0;
              margin: 0 0 10px 0;
            }
            .calendar-body {
              flex-grow: 1;
              display: flex;
              flex-direction: column;
              border-top: 1px solid #ccc;
              border-left: 1px solid #ccc;
            }
            .day-headers {
              display: grid;
              grid-template-columns: repeat(7, 1fr);
              flex-shrink: 0;
            }
            .day-header { text-align: center; padding: 4px; font-weight: bold; background-color: #f1f5f9; border-right: 1px solid #ccc; border-bottom: 1px solid #ccc; font-size: 0.8em; }
            .days-grid {
              display: grid;
              grid-template-columns: repeat(7, 1fr);
              flex-grow: 1;
              grid-template-rows: repeat(${Z}, 1fr);
            }
            .day-cell { border-right: 1px solid #ccc; border-bottom: 1px solid #ccc; padding: 4px; display: flex; flex-direction: column; overflow: hidden; }
            .day-number { font-weight: bold; font-size: 0.8em; color: #475569; margin-bottom: 3px; }
            .empty-cell { background-color: #f8fafc; }
            .events-container { flex-grow: 1; overflow-y: auto; }
            .event { font-size: 9px; padding: 2px; border-radius: 3px; color: white; margin-top: 2px; white-space: normal; overflow-wrap: break-word; }
          </style>
        </head>
        <body>
          <div class="printable-container">
            <h1>${M}</h1>
            <div class="calendar-body">
              <div class="day-headers">
                ${d.map($=>`<div class="day-header">${$}</div>`).join("")}
              </div>
              <div class="days-grid">
                ${G}
              </div>
            </div>
          </div>
        </body>
      </html>
    `,F=window.open("","_blank");F&&(F.document.write(Y),F.document.close(),F.focus(),setTimeout(()=>{F.print()},250))};return l.jsxs("div",{id:"printable-view-container",className:"fixed inset-0 bg-white z-50 p-4 sm:p-8 flex flex-col",children:[l.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6 no-print",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-zinc-800",children:"Vista de Impresión"}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:S,className:"p-2 rounded-full hover:bg-zinc-100 transition-colors",children:l.jsx(R2,{className:"w-6 h-6 text-zinc-600"})}),l.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-zinc-700 w-48 text-center",children:f.toLocaleString("es-ES",{month:"long",year:"numeric"})}),l.jsx("button",{onClick:N,className:"p-2 rounded-full hover:bg-zinc-100 transition-colors",children:l.jsx(k2,{className:"w-6 h-6 text-zinc-600"})})]}),l.jsxs("button",{onClick:_,className:"flex items-center space-x-2 px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition-colors",children:[l.jsx(I2,{className:"w-5 h-5"}),l.jsx("span",{children:"Imprimir"})]}),l.jsx("button",{onClick:m,className:"p-2 rounded-full hover:bg-zinc-100 transition-colors",children:l.jsx(U2,{className:"w-7 h-7 text-zinc-600"})})]})]}),l.jsx("div",{className:"flex-grow overflow-auto max-w-full",children:l.jsxs("div",{className:"min-w-[1024px] h-full flex flex-col border-t border-l border-zinc-300",children:[l.jsx("div",{className:"grid grid-cols-7",children:d.map(M=>l.jsx("div",{className:"text-center py-2 text-sm font-bold text-zinc-600 bg-zinc-100 border-r border-b border-zinc-300",children:M},M))}),l.jsx("div",{className:"grid grid-cols-7 flex-grow",style:{gridTemplateRows:`repeat(${Math.ceil((new Date(f.getFullYear(),f.getMonth(),1).getDay()+new Date(f.getFullYear(),f.getMonth()+1,0).getDate())/7)}, 1fr)`},children:z()})]})})]})},B2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),G2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),Y2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),q2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),V2=o=>l.jsx("svg",{viewBox:"0 0 16 16",fill:"currentColor",...o,children:l.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"})}),Z2=o=>l.jsx("svg",{viewBox:"0 0 16 16",fill:"currentColor",...o,children:l.jsx("path",{d:"M8 15V1a7 7 0 1 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"})}),X2=o=>l.jsx("svg",{viewBox:"0 0 16 16",fill:"currentColor",...o,children:l.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})}),Q2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),K2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})}),$2=({task:o,onUpdateTask:m,onRequestDelete:g})=>{const[r,f]=x.useState(!1),[v,d]=x.useState(o.text),S=()=>{v.trim()?m(o.id,o.status,v.trim()):d(o.text),f(!1)};return l.jsxs("div",{className:"flex items-center group w-full",children:[r?l.jsx("input",{type:"text",value:v,onChange:N=>d(N.target.value),onBlur:S,onKeyDown:N=>N.key==="Enter"&&S(),autoFocus:!0,className:"flex-grow bg-transparent p-1 -m-1 border-b border-indigo-500 outline-none"}):l.jsx("p",{onDoubleClick:()=>f(!0),className:"flex-grow cursor-pointer",children:o.text}),l.jsxs("div",{className:"flex items-center space-x-1 sm:opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{onClick:()=>f(!0),className:"p-1 text-slate-400 hover:text-indigo-600 rounded",children:l.jsx(G2,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>g(o),className:"p-1 text-slate-400 hover:text-red-600 rounded",children:l.jsx(Y2,{className:"w-4 h-4"})})]})]})},Qn={todo:{icon:V2,label:"Por Hacer",color:"text-slate-500"},inProgress:{icon:Z2,label:"En Progreso",color:"text-blue-500"},done:{icon:X2,label:"Hecho",color:"text-green-500"}},F2=({project:o,projectTasks:m,onAddTask:g,onUpdateTask:r,onAddMultipleTasks:f,onEditProject:v,onRequestDeleteProject:d,onRequestDeleteTask:S})=>{const[N,h]=x.useState(""),[z,_]=x.useState("todo"),[M,H]=x.useState(!1),[B,V]=x.useState(""),J=x.useMemo(()=>({todo:m.filter(G=>G.status==="todo"),inProgress:m.filter(G=>G.status==="inProgress"),done:m.filter(G=>G.status==="done")}),[m]),A=G=>{G.preventDefault(),N.trim()&&(g(o.id,N.trim()),h(""))},Z=x.useCallback(async()=>{{V("La clave API no está configurada para esta función.");return}},[o.id,o.title,o.description,f]);return l.jsxs("div",{className:"pl-10 pr-4 pb-4",children:[o.description&&l.jsx("p",{className:"text-sm text-slate-600 mb-4",children:o.description}),l.jsxs("div",{children:[l.jsx("div",{id:"project-task-tabs-example",className:"border-b border-slate-200",children:l.jsx("nav",{className:"-mb-px flex space-x-4","aria-label":"Tabs",children:["todo","inProgress","done"].map(G=>l.jsxs("button",{onClick:()=>_(G),className:`${z===G?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2`,children:[Qn[G].label,l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${z===G?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-600"}`,children:J[G].length})]},G))})}),l.jsx("div",{className:"mt-3 space-y-2 min-h-[5rem]",children:J[z].map(G=>{const k=Qn[G.status].icon;return l.jsxs("div",{className:"flex items-center gap-3 text-sm p-1 rounded hover:bg-slate-200/50",children:[l.jsx("div",{className:`flex items-center ${Qn[G.status].color}`,children:l.jsx(k,{className:"w-4 h-4"})}),l.jsx("div",{className:"flex-grow",children:l.jsx($2,{task:G,onUpdateTask:r,onRequestDelete:S})}),l.jsx("div",{className:"flex items-center",children:["todo","inProgress","done"].map(Y=>{const F=Qn[Y].icon;return l.jsx("button",{onClick:()=>r(G.id,Y,G.text),className:`p-1 rounded-full ${G.status===Y?Qn[Y].color:"text-slate-300 hover:text-slate-500"}`,title:`Marcar como '${Qn[Y].label}'`,children:l.jsx(F,{className:"w-5 h-5"})},Y)})})]},G.id)})}),l.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-200",children:[l.jsxs("form",{onSubmit:A,className:"flex items-center space-x-2",id:"add-task-form-example",children:[l.jsx("input",{type:"text",value:N,onChange:G=>h(G.target.value),placeholder:"Añadir nueva tarea...",className:"w-full px-3 py-1.5 border border-slate-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"}),l.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700",children:"Añadir"})]}),l.jsxs("div",{className:"mt-3",children:[l.jsxs("button",{id:"ai-task-suggester-example",onClick:Z,disabled:M,className:"w-full flex items-center justify-center space-x-2 px-3 py-1.5 border border-indigo-200 bg-indigo-50 text-indigo-700 text-sm font-medium rounded-md hover:bg-indigo-100 disabled:opacity-60",children:[l.jsx(q2,{className:"w-4 h-4"}),l.jsx("span",{children:M?"Generando tareas...":"Sugerir Tareas con IA"})]}),B&&l.jsx("p",{className:"text-xs text-red-600 mt-1 text-center",children:B})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 mt-4 pt-4 border-t border-slate-200",children:[l.jsx("button",{onClick:()=>v(o),className:"text-xs font-medium text-slate-600 hover:text-indigo-600 p-2 rounded-md",children:"Editar Proyecto"}),l.jsx("button",{onClick:()=>d(o),className:"text-xs font-medium text-slate-600 hover:text-red-600 p-2 rounded-md",children:"Eliminar Proyecto"})]})]})},J2=({projects:o,tasks:m,onAddProject:g,onEditProject:r,onDeleteProject:f,onAddTask:v,onUpdateTask:d,onDeleteTask:S,onAddMultipleTasks:N,onStartTour:h})=>{var B;const[z,_]=x.useState(((B=o[0])==null?void 0:B.id)||null),M=V=>{f(V.id)},H=V=>{S(V.id)};return l.jsx(l.Fragment,{children:l.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-md",children:[l.jsxs("div",{id:"goals-panel-header",className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"Mis Proyectos y Metas"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:h,title:"Iniciar tour guiado",className:"p-2 text-slate-500 hover:text-indigo-600 rounded-full hover:bg-slate-100 transition-colors",children:l.jsx(K2,{className:"w-6 h-6"})}),l.jsxs("button",{id:"goals-add-project-btn",onClick:g,className:"flex items-center space-x-2 text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors",children:[l.jsx(B2,{className:"w-5 h-5"}),l.jsx("span",{children:"Nuevo Proyecto"})]})]})]}),l.jsx("div",{className:"space-y-2 overflow-y-auto pr-2",children:o.length>0?o.map((V,J)=>{const A=m.filter(F=>F.projectId===V.id),Z=A.length,G=A.filter(F=>F.status==="done").length,k=Z>0?G/Z*100:0,Y=z===V.id;return l.jsxs("div",{id:J===0?"project-card-example":void 0,className:"bg-slate-50/70 rounded-lg border border-slate-200 overflow-hidden",children:[l.jsxs("button",{onClick:()=>_(Y?null:V.id),className:"w-full p-3 text-left group",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:V.icon||"🎯"}),l.jsx("h4",{className:"text-md font-bold text-slate-800",children:V.title})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:[G,"/",Z]}),l.jsx(Q2,{className:`w-5 h-5 text-slate-400 transition-transform duration-300 ${Y?"rotate-180":""}`})]})]}),l.jsx("div",{className:"mt-2 pl-10",children:l.jsx("div",{id:J===0?"project-progress-bar-example":void 0,className:"w-full bg-slate-200 rounded-full h-2",children:l.jsx("div",{className:"bg-indigo-500 h-2 rounded-full transition-all duration-500",style:{width:`${k}%`}})})})]}),Y&&l.jsx(F2,{project:V,projectTasks:A,onEditProject:r,onRequestDeleteProject:M,onAddTask:v,onUpdateTask:d,onRequestDeleteTask:H,onAddMultipleTasks:N})]},V.id)}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 text-slate-400",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h12M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-12a2.25 2.25 0 0 1-2.25-2.25V3M3.75 21v-4.125c0-.621.504-1.125 1.125-1.125h14.25c.621 0 1.125.504 1.125 1.125V21M3.75 21h16.5M12 16.5v4.5"})})}),l.jsx("h4",{className:"mt-4 text-lg font-semibold text-slate-700",children:"Define tu próxima meta"}),l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Crea un proyecto para empezar a organizar tus tareas."})]})})]})})},W2=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),P2=["🎯","🏃‍♂️","🎸","📚","🎨","💼","✈️","❤️","💰","✨"],ep=({isOpen:o,onClose:m,onSave:g,projectToEdit:r})=>{const[f,v]=x.useState(""),[d,S]=x.useState(""),[N,h]=x.useState("🎯"),[z,_]=x.useState(""),[M,H]=x.useState(""),[B,V]=x.useState("");if(x.useEffect(()=>{o&&(r?(v(r.title),S(r.description||""),h(r.icon||"🎯"),_(r.category||""),H(r.targetDate||"")):(v(""),S(""),h("🎯"),_(""),H("")),V(""))},[o,r]),!o)return null;const J=A=>{if(A.preventDefault(),!f.trim()){V("El título no puede estar vacío.");return}V(""),g({title:f.trim(),description:d.trim(),icon:N,category:z.trim(),targetDate:M||void 0},r==null?void 0:r.id)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:A=>A.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:r?"Editar Proyecto":"Nuevo Proyecto"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-zinc-100",children:l.jsx(W2,{className:"w-6 h-6 text-zinc-500"})})]}),l.jsxs("form",{onSubmit:J,className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Icono del Proyecto"}),l.jsx("div",{className:"flex flex-wrap gap-2 bg-stone-50 p-3 rounded-lg",children:P2.map(A=>l.jsx("button",{type:"button",onClick:()=>h(A),className:`w-10 h-10 text-xl rounded-full transition-all ${N===A?"bg-teal-200 scale-110":"hover:bg-zinc-200"}`,children:A},A))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"project-title",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Título"}),l.jsx("input",{type:"text",id:"project-title",value:f,onChange:A=>v(A.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"p. ej., Ponerme en forma, Aprender un idioma"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"project-category",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Categoría (Opcional)"}),l.jsx("input",{type:"text",id:"project-category",value:z,onChange:A=>_(A.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"p. ej., Salud, Carrera, Personal"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"project-date",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Fecha Límite (Opcional)"}),l.jsx("input",{type:"date",id:"project-date",value:M,onChange:A=>H(A.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"project-description",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Descripción (Opcional)"}),l.jsx("textarea",{id:"project-description",value:d,onChange:A=>S(A.target.value),rows:3,className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 resize-none",placeholder:"¿Qué significa este proyecto para ti? ¿Cómo se ve el éxito?"})]}),B&&l.jsx("p",{className:"text-red-600 text-sm",children:B}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[l.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-teal-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-teal-700",children:r?"Guardar Cambios":"Crear Proyecto"})]})]})]})})},tp=o=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z"})]}),ap=({projects:o,tasks:m,onNavigate:g})=>{const r=o.slice(0,3);return l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md cursor-pointer hover:shadow-lg transition-shadow",onClick:g,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(tp,{className:"w-6 h-6 text-teal-500"}),l.jsx("h3",{className:"text-xl font-semibold text-zinc-700",children:"Mis Metas Actuales"})]}),r.length>0?l.jsxs("div",{className:"space-y-4",children:[r.map(f=>{const v=m.filter(h=>h.projectId===f.id),d=v.length,S=v.filter(h=>h.status==="done").length,N=d>0?S/d*100:0;return l.jsx("div",{children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:f.icon||"🎯"}),l.jsxs("div",{className:"flex-grow",children:[l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("p",{className:"font-semibold text-zinc-800 truncate",children:f.title}),l.jsxs("p",{className:"text-xs font-medium text-zinc-500",children:[S,"/",d]})]}),l.jsx("div",{className:"w-full bg-zinc-200 rounded-full h-2 mt-1",children:l.jsx("div",{className:"bg-teal-500 h-2 rounded-full transition-all duration-500",style:{width:`${N}%`}})})]})]})},f.id)}),o.length>3&&l.jsxs("p",{className:"text-center text-sm font-medium text-teal-600 mt-4",children:["y ",o.length-3," más..."]})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-zinc-500",children:"Aún no has definido ningún proyecto. ¡Haz clic aquí para empezar!"})})]})},fh=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),hh=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),xh=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),lp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),np=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m-7.5-2.962A3.75 3.75 0 0 1 15 12a3.75 3.75 0 0 1-2.25-6.962m8.024 10.928A9 9 0 1 0 3 18.72m10.602 0A9.01 9.01 0 0 0 18 18.72m-7.5 0v-2.25m0 2.25a3.75 3.75 0 0 0 3.75 3.75M10.5 18.75a3.75 3.75 0 0 0-3.75 3.75m0 0a3.75 3.75 0 0 0 3.75-3.75M3 13.5A3.75 3.75 0 0 1 6.75 9.75a3.75 3.75 0 0 1 3.75 3.75m-3.75 0a3.75 3.75 0 0 0-3.75 3.75"})}),sp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})}),ip=["🛒","🧾","🛠️","💊","🎁","🐶","🏠","💡"],$f=({listId:o,item:m,onUpdate:g,onRequestDelete:r,usersById:f,isFirst:v})=>{var M;const[d,S]=x.useState(!1),[N,h]=x.useState(m.text),z=()=>{N.trim()?g(o,m.id,N.trim(),m.completed):h(m.text),S(!1)},_=m.completedBy?(M=f.get(m.completedBy))==null?void 0:M.name:null;return l.jsxs("div",{className:"flex items-center group w-full py-1",children:[l.jsx("input",{id:v?"list-item-checkbox-example":void 0,type:"checkbox",checked:m.completed,onChange:()=>g(o,m.id,m.text,!m.completed),className:"h-5 w-5 rounded border-zinc-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),l.jsx("div",{className:"ml-3 flex-grow",children:d?l.jsx("input",{type:"text",value:N,onChange:H=>h(H.target.value),onBlur:z,onKeyDown:H=>H.key==="Enter"&&z(),autoFocus:!0,className:"w-full bg-transparent p-1 -m-1 border-b border-teal-500 outline-none text-sm"}):l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("p",{onDoubleClick:()=>S(!0),className:`text-sm cursor-pointer ${m.completed?"line-through text-zinc-400":"text-zinc-700"}`,children:m.text}),m.completed&&_&&l.jsxs("span",{className:"text-xs text-green-600 font-medium",children:["✓ por ",_]})]})}),l.jsxs("div",{className:"flex items-center space-x-1 sm:opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{onClick:()=>S(!0),className:"p-1 text-zinc-400 hover:text-teal-600 rounded",children:l.jsx(hh,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>r(o,m),className:"p-1 text-zinc-400 hover:text-red-600 rounded",children:l.jsx(xh,{className:"w-4 h-4"})})]})]})},op=({list:o,onAddItem:m,onUpdateItem:g,onEditList:r,onRequestDelete:f,onRequestItemDelete:v,isOwner:d,isPaired:S,ownerName:N,onToggleShare:h,usersById:z,isFirst:_})=>{const[M,H]=x.useState(""),[B,V]=x.useState(!1),J=o.items.filter(G=>!G.completed),A=o.items.filter(G=>G.completed),Z=G=>{G.preventDefault(),M.trim()&&(m(o.id,M.trim()),H(""))};return l.jsxs("div",{id:_?"list-card-example":void 0,className:"bg-white rounded-xl shadow-md p-4 flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:o.icon}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-zinc-800",children:o.title}),!d&&N&&l.jsxs("p",{className:"text-xs text-zinc-500",children:["De: ",N]})]})]}),l.jsxs("div",{className:"flex items-center",children:[d&&S&&l.jsx("button",{id:_?"share-list-btn-example":void 0,onClick:h,title:o.isShared?"Dejar de compartir":"Compartir con tu pareja",className:`p-1.5 rounded-md ${o.isShared?"text-teal-500":"text-zinc-400 hover:text-teal-600"}`,children:l.jsx(np,{className:"w-5 h-5"})}),d&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:r,className:"p-1.5 text-zinc-400 hover:text-teal-600 rounded-md",children:l.jsx(hh,{className:"w-4 h-4"})}),l.jsx("button",{onClick:f,className:"p-1.5 text-zinc-400 hover:text-red-600 rounded-md",children:l.jsx(xh,{className:"w-4 h-4"})})]})]})]}),l.jsx("div",{className:"flex-grow space-y-1 pr-1 overflow-y-auto max-h-60",children:J.length>0?J.map((G,k)=>l.jsx($f,{listId:o.id,item:G,onUpdate:g,onRequestDelete:v,usersById:z,isFirst:_&&k===0},G.id)):l.jsx("p",{className:"text-center text-xs text-zinc-400 py-4",children:"¡Todo listo!"})}),A.length>0&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-200",children:[l.jsxs("button",{onClick:()=>V(!B),className:"w-full flex justify-between items-center text-sm font-medium text-zinc-500",children:[l.jsxs("span",{children:["Completados (",A.length,")"]}),l.jsx(lp,{className:`w-4 h-4 transition-transform ${B?"rotate-180":""}`})]}),B&&l.jsx("div",{className:"mt-2 space-y-1",children:A.map(G=>l.jsx($f,{listId:o.id,item:G,onUpdate:g,onRequestDelete:v,usersById:z,isFirst:!1},G.id))})]}),l.jsxs("form",{onSubmit:Z,id:_?"add-list-item-form-example":void 0,className:"mt-3 pt-3 border-t border-zinc-200 flex items-center space-x-2",children:[l.jsx("input",{type:"text",value:M,onChange:G=>H(G.target.value),placeholder:"Añadir elemento...",className:"w-full px-3 py-1.5 bg-stone-50 border border-zinc-200 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-teal-500"}),l.jsx("button",{type:"submit",className:"p-2 bg-teal-600 text-white rounded-md hover:bg-teal-700",children:l.jsx(fh,{className:"w-4 h-4"})})]})]})},cp=({shoppingLists:o,currentUser:m,pairedUser:g,onToggleShareList:r,onStartTour:f,...v})=>{const[d,S]=x.useState(!1),[N,h]=x.useState(null),[z,_]=x.useState(""),[M,H]=x.useState("🛒"),B=(k=null)=>{h(k),_((k==null?void 0:k.title)||""),H((k==null?void 0:k.icon)||"🛒"),S(!0)},V=()=>{S(!1),h(null),_(""),H("🛒")},J=k=>{k.preventDefault(),z.trim()&&(v.onSaveList(z.trim(),M,N==null?void 0:N.id),V())},A=k=>{v.onDeleteList(k.id)},Z=(k,Y)=>{v.onDeleteItem(k,Y.id)},G=new Map;return G.set(m.id,m),g&&G.set(g.id,g),l.jsx(l.Fragment,{children:l.jsxs("div",{className:"bg-stone-50/50 p-4 sm:p-6 rounded-xl shadow-inner",children:[l.jsxs("div",{id:"home-panel-header",className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-zinc-800",children:"Mi Hogar: Listas y Tareas"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:f,title:"Iniciar tour guiado",className:"p-2 text-zinc-500 hover:text-teal-600 rounded-full hover:bg-stone-200 transition-colors",children:l.jsx(sp,{className:"w-6 h-6"})}),l.jsxs("button",{id:"home-add-list-btn",onClick:()=>B(),className:"flex-shrink-0 flex items-center space-x-2 px-4 py-2 bg-teal-600 text-white rounded-md text-sm font-medium shadow-sm hover:bg-teal-700",children:[l.jsx(fh,{className:"w-5 h-5"}),l.jsx("span",{children:"Crear Nueva Lista"})]})]})]}),d&&l.jsxs("form",{onSubmit:J,className:"mb-6 p-4 bg-white rounded-lg shadow-md border border-zinc-200 space-y-4",children:[l.jsx("h4",{className:"font-semibold",children:N?"Editar Lista":"Nueva Lista"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Icono"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:ip.map(k=>l.jsx("button",{type:"button",onClick:()=>H(k),className:`w-10 h-10 text-xl rounded-full transition-all ${M===k?"bg-teal-200 scale-110":"hover:bg-zinc-200"}`,children:k},k))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"list-title",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Título"}),l.jsx("input",{id:"list-title",type:"text",value:z,onChange:k=>_(k.target.value),placeholder:"p. ej. Supermercado",className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{type:"button",onClick:V,className:"px-3 py-1.5 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-teal-600 text-white rounded-md text-sm font-medium shadow-sm hover:bg-teal-700",children:"Guardar"})]})]}),o.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((k,Y)=>{var F;return l.jsx(op,{list:k,onAddItem:v.onAddItem,onUpdateItem:v.onUpdateItem,onEditList:()=>B(k),onRequestDelete:()=>A(k),onRequestItemDelete:Z,isOwner:k.ownerId===m.id,isPaired:!!g,ownerName:(F=G.get(k.ownerId))==null?void 0:F.name,onToggleShare:()=>r(k.id),usersById:G,isFirst:Y===0},k.id)})}):l.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-zinc-300 rounded-lg",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-zinc-100 rounded-full flex items-center justify-center",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 text-zinc-400",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h7.5M8.25 12h7.5m-7.5 5.25h7.5M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})})}),l.jsx("h4",{className:"mt-4 text-lg font-semibold text-zinc-700",children:"Empieza a organizarte"}),l.jsx("p",{className:"mt-1 text-sm text-zinc-500",children:"Crea tu primera lista para llevar un registro de todo."})]})]})})},rp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),up=({shoppingLists:o,onNavigate:m})=>{const g=o.slice(0,4);return l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md cursor-pointer hover:shadow-lg transition-shadow",onClick:m,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(rp,{className:"w-6 h-6 text-teal-500"}),l.jsx("h3",{className:"text-xl font-semibold text-zinc-700",children:"Listas del Hogar"})]}),g.length>0?l.jsx("div",{className:"space-y-3",children:g.map(r=>{const f=r.items.filter(v=>!v.completed).length;return l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-stone-50 rounded-md",children:[l.jsx("span",{className:"text-xl",children:r.icon}),l.jsx("div",{className:"flex-grow",children:l.jsx("p",{className:"font-medium text-sm text-zinc-700 truncate",children:r.title})}),l.jsx("span",{className:`text-sm font-semibold px-2 py-0.5 rounded-full ${f>0?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:f})]},r.id)})}):l.jsx("div",{className:"text-center py-6",children:l.jsx("p",{className:"text-sm text-zinc-500",children:"Añade listas de compras, cuentas por pagar y más. ¡Haz clic para empezar!"})})]})},dp=()=>l.jsxs("div",{className:"fixed inset-0 bg-stone-100/90 backdrop-blur-sm flex justify-center items-center z-[200]",children:[l.jsx("style",{children:`
        @keyframes pulse-fade-in {
          0% {
            opacity: 0;
            transform: scale(0.9);
          }
          50% {
            opacity: 1;
            transform: scale(1.05);
          }
          100% {
            opacity: 1;
            transform: scale(1);
          }
        }
        .animate-pulse-fade-in {
          animation: pulse-fade-in 1.5s ease-in-out forwards;
        }
      `}),l.jsx("img",{src:"https://i.postimg.cc/YhvKDdRc/Logo-for-Conecta-Mente-Clean-Sans-Serif-Abstract-Design.png",alt:"ConectaMente Logo",className:"h-32 w-auto animate-pulse-fade-in rounded-full shadow-2xl"})]}),mp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),fp=["Primer Cuatrimestre","Segundo Cuatrimestre","Anual","Verano"],hp=({isOpen:o,onClose:m,onSave:g,semesterToEdit:r})=>{const[f,v]=x.useState(new Date().getFullYear()),[d,S]=x.useState("Primer Cuatrimestre"),[N,h]=x.useState("");if(x.useEffect(()=>{o&&(r?(v(r.year),S(r.term)):(v(new Date().getFullYear()),S("Primer Cuatrimestre")),h(""))},[o,r]),!o)return null;const z=_=>{if(_.preventDefault(),!f){h("El año es obligatorio.");return}h(""),g({year:f,term:d,subjectIds:(r==null?void 0:r.subjectIds)||[]},r==null?void 0:r.id)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",onClick:_=>_.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:r?"Editar Semestre":"Nuevo Semestre"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-zinc-100",children:l.jsx(mp,{className:"w-6 h-6 text-zinc-500"})})]}),l.jsxs("form",{onSubmit:z,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"semester-year",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Año"}),l.jsx("input",{type:"number",id:"semester-year",value:f,onChange:_=>v(parseInt(_.target.value,10)),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"e.g., 2024"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"semester-term",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Período"}),l.jsx("select",{id:"semester-term",value:d,onChange:_=>S(_.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500 bg-white",children:fp.map(_=>l.jsx("option",{value:_,children:_},_))})]}),N&&l.jsx("p",{className:"text-red-600 text-sm",children:N}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-violet-700",children:r?"Guardar Cambios":"Crear Semestre"})]})]})]})})},xp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),pp=[{id:"pendiente",name:"Pendiente"},{id:"cursando",name:"Cursando"},{id:"aprobada",name:"Aprobada"},{id:"final_pendiente",name:"Final Pendiente"},{id:"recursar",name:"A Recursar"}],gp=({isOpen:o,onClose:m,onSave:g,subjectToEdit:r,allSubjects:f})=>{const[v,d]=x.useState(""),[S,N]=x.useState("pendiente"),[h,z]=x.useState(null),[_,M]=x.useState([]),[H,B]=x.useState("");if(x.useEffect(()=>{o&&(r?(d(r.name),N(r.status),z(r.finalGrade),M(r.prerequisiteIds)):(d(""),N("pendiente"),z(null),M([])),B(""))},[o,r]),!o)return null;const V=Z=>{M(G=>G.includes(Z)?G.filter(k=>k!==Z):[...G,Z])},J=Z=>{if(Z.preventDefault(),!v.trim()){B("El nombre de la materia es obligatorio.");return}B(""),g({name:v,status:S,finalGrade:S==="aprobada"?h:null,prerequisiteIds:_},r==null?void 0:r.id)},A=f.filter(Z=>Z.id!==(r==null?void 0:r.id));return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:Z=>Z.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:r?"Editar Materia":"Nueva Materia al Plan"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-zinc-100",children:l.jsx(xp,{className:"w-6 h-6 text-zinc-500"})})]}),l.jsxs("form",{onSubmit:J,className:"space-y-4 max-h-[80vh] overflow-y-auto pr-2",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"subject-name",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Nombre de la Materia"}),l.jsx("input",{type:"text",id:"subject-name",value:v,onChange:Z=>d(Z.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"p. ej., Análisis Matemático II"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"subject-status",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Estado"}),l.jsx("select",{id:"subject-status",value:S,onChange:Z=>N(Z.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500 bg-white",children:pp.map(Z=>l.jsx("option",{value:Z.id,children:Z.name},Z.id))})]}),S==="aprobada"&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"subject-grade",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Nota Final"}),l.jsx("input",{type:"number",id:"subject-grade",value:h??"",onChange:Z=>z(Z.target.value?parseFloat(Z.target.value):null),step:"0.01",min:"1",max:"10",className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),A.length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Correlativas (Materias requeridas)"}),l.jsx("div",{className:"p-3 bg-stone-50 rounded-md border border-zinc-200 max-h-40 overflow-y-auto space-y-2",children:A.map(Z=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:`prereq-${Z.id}`,type:"checkbox",checked:_.includes(Z.id),onChange:()=>V(Z.id),className:"h-4 w-4 rounded border-zinc-300 text-violet-600 focus:ring-violet-500"}),l.jsx("label",{htmlFor:`prereq-${Z.id}`,className:"ml-2 text-sm text-zinc-600",children:Z.name})]},Z.id))})]}),H&&l.jsx("p",{className:"text-red-600 text-sm",children:H}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-violet-700",children:r?"Guardar Cambios":"Guardar Materia"})]})]})]})})},Ff=({percentage:o,stroke:m,label:g,subLabel:r})=>{const v=2*Math.PI*70,d=Math.max(0,Math.min(100,o)),S=v-d/100*v;return l.jsxs("div",{className:"relative flex flex-col items-center",children:[l.jsxs("svg",{width:"160",height:"160",viewBox:"0 0 160 160",className:"-rotate-90",children:[l.jsx("circle",{className:"text-zinc-200",strokeWidth:"12",stroke:"currentColor",fill:"transparent",r:70,cx:"80",cy:"80"}),l.jsx("circle",{className:m,strokeWidth:"12",strokeDasharray:v,strokeDashoffset:S,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:70,cx:"80",cy:"80",style:{transition:"stroke-dashoffset 0.5s ease-out"}})]}),l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center",children:[l.jsx("span",{className:"text-3xl font-bold text-zinc-700",children:g}),l.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:r})]})]})},vp=({subjects:o})=>{const{gpa:m,progressPercentage:g,approvedCount:r,totalCount:f}=x.useMemo(()=>{const v=o.filter(_=>_.status==="aprobada"),d=v.filter(_=>_.finalGrade!==null&&_.finalGrade>=1),S=o.length,N=v.length,h=d.length>0?d.reduce((_,M)=>_+M.finalGrade,0)/d.length:0,z=S>0?N/S*100:0;return{gpa:h,progressPercentage:z,approvedCount:N,totalCount:S}},[o]);return o.length===0?l.jsxs("div",{className:"text-center text-zinc-500 py-8",children:[l.jsx("h4",{className:"text-lg font-semibold text-zinc-800 mb-2",children:"Progreso Académico"}),l.jsx("p",{children:"Añade materias a tu Plan de Estudios para ver tu progreso."})]}):l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-zinc-800 mb-4 text-center",children:"Progreso Académico"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 items-start",children:[l.jsxs("div",{className:"flex flex-col items-center p-4",children:[l.jsx("div",{className:"w-[160px] h-[160px]",children:l.jsx(Ff,{percentage:m>0?m/10*100:0,stroke:"text-teal-500",label:m>0?m.toFixed(2):"N/A",subLabel:"Promedio General"})}),l.jsx("p",{className:"text-center text-sm text-zinc-600 mt-3 max-w-xs",children:"Basado en la nota final de las materias aprobadas."})]}),l.jsxs("div",{className:"flex flex-col items-center p-4",children:[l.jsx("div",{className:"w-[160px] h-[160px]",children:l.jsx(Ff,{percentage:g,stroke:"text-violet-500",label:`${Math.round(g)}%`,subLabel:"Avance de Carrera"})}),l.jsxs("p",{className:"text-center text-sm text-zinc-600 mt-3 max-w-xs",children:[r," de ",f," materias aprobadas."]})]})]})]})},bp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),Jf={pendiente:{bg:"bg-zinc-100",text:"text-zinc-800",name:"Pendiente"},cursando:{bg:"bg-blue-100",text:"text-blue-800",name:"Cursando"},aprobada:{bg:"bg-green-100",text:"text-green-800",name:"Aprobada"},final_pendiente:{bg:"bg-amber-100",text:"text-amber-800",name:"Final Pendiente"},recursar:{bg:"bg-red-100",text:"text-red-800",name:"A Recursar"}},hu=({subject:o,isCentral:m=!1})=>{const g=Jf[o.status]||Jf.pendiente;return l.jsxs("div",{className:`p-3 rounded-lg border-2 w-full ${m?"bg-white border-violet-500 shadow-lg":"bg-stone-50 border-stone-200"}`,children:[l.jsx("p",{className:`font-semibold ${m?"text-violet-800":"text-zinc-800"}`,children:o.name}),l.jsx("span",{className:`mt-1 inline-block px-2 py-0.5 text-xs font-medium rounded-full ${g.bg} ${g.text}`,children:g.name})]})},jp=({isOpen:o,onClose:m,subject:g,allSubjects:r})=>{if(!o||!g)return null;const f=g.prerequisiteIds.map(d=>r.find(S=>S.id===d)).filter(d=>!!d),v=r.filter(d=>d.prerequisiteIds.includes(g.id));return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[70] flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-stone-100 rounded-lg shadow-xl p-6 w-full max-w-3xl",onClick:d=>d.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-zinc-800",children:["Correlatividades de ",l.jsx("span",{className:"text-violet-600",children:g.name})]}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-zinc-200",children:l.jsx(bp,{className:"w-6 h-6 text-zinc-500"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-4 items-center text-center",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h3",{className:"font-bold text-zinc-600 mb-3 text-sm tracking-widest uppercase",children:"Requiere"}),l.jsx("div",{className:"space-y-3 w-full",children:f.length>0?f.map(d=>l.jsx(hu,{subject:d},d.id)):l.jsx("div",{className:"text-sm text-zinc-500 p-4 bg-stone-50/50 rounded-lg border border-dashed border-zinc-300 h-full flex items-center justify-center",children:l.jsx("p",{children:"Sin requisitos"})})})]}),l.jsxs("div",{className:"flex md:flex-col items-center justify-around md:justify-center h-full px-4",children:[l.jsx("div",{className:"hidden md:block w-px h-full bg-zinc-300 relative",children:l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-stone-100 px-1 text-2xl text-zinc-400",children:"➔"})}),l.jsx("div",{className:"block md:hidden h-px w-full bg-zinc-300 relative",children:l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-stone-100 px-1 text-2xl text-zinc-400",children:"➔"})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h3",{className:"font-bold text-zinc-600 mb-3 text-sm tracking-widest uppercase",children:"Habilita"}),l.jsx("div",{className:"space-y-3 w-full",children:v.length>0?v.map(d=>l.jsx(hu,{subject:d},d.id)):l.jsx("div",{className:"text-sm text-zinc-500 p-4 bg-stone-50/50 rounded-lg border border-dashed border-zinc-300 h-full flex items-center justify-center",children:l.jsx("p",{children:"No habilita materias"})})})]})]}),l.jsx("div",{className:"mt-8 pt-4 border-t border-zinc-200",children:l.jsx(hu,{subject:g,isCentral:!0})})]})})},Np=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),yp=({isOpen:o,onClose:m,onSave:g,examToEdit:r,subjectId:f})=>{const[v,d]=x.useState("parcial"),[S,N]=x.useState(""),[h,z]=x.useState(""),[_,M]=x.useState(new Date().toISOString().split("T")[0]),[H,B]=x.useState("09:00"),[V,J]=x.useState(null),[A,Z]=x.useState("");if(x.useEffect(()=>{o&&(r?(d(r.type),N(r.title),z(r.topics||""),M(r.date),B(r.time),J(r.grade)):(d("parcial"),N(""),z(""),M(new Date().toISOString().split("T")[0]),B("09:00"),J(null)),Z(""))},[o,r]),!o)return null;const G=k=>{if(k.preventDefault(),!S.trim()){Z("El título es obligatorio.");return}Z(""),g({subjectId:f,type:v,title:S,date:_,time:H,grade:V,topics:h},r==null?void 0:r.id)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[70] flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",onClick:k=>k.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:r?"Editar Examen":"Nuevo Examen"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-zinc-100",children:l.jsx(Np,{className:"w-6 h-6 text-zinc-500"})})]}),l.jsxs("form",{onSubmit:G,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Tipo de Examen"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"parcial",checked:v==="parcial",onChange:()=>d("parcial"),className:"h-4 w-4 text-violet-600 focus:ring-violet-500 border-zinc-300"}),l.jsx("span",{className:"ml-2 text-sm text-zinc-600",children:"Parcial"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"final",checked:v==="final",onChange:()=>d("final"),className:"h-4 w-4 text-violet-600 focus:ring-violet-500 border-zinc-300"}),l.jsx("span",{className:"ml-2 text-sm text-zinc-600",children:"Final"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"exam-title",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Título"}),l.jsx("input",{type:"text",id:"exam-title",value:S,onChange:k=>N(k.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"e.g., Primer Parcial, Recuperatorio"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"exam-topics",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Temas (Opcional)"}),l.jsx("textarea",{id:"exam-topics",value:h,onChange:k=>z(k.target.value),rows:3,className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500 resize-none",placeholder:`e.g., Tema 1: Variables Complejas
Tema 2: Ecuaciones Diferenciales`})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"exam-date",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Fecha"}),l.jsx("input",{type:"date",id:"exam-date",value:_,onChange:k=>M(k.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"exam-time",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Hora"}),l.jsx("input",{type:"time",id:"exam-time",value:H,onChange:k=>B(k.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"exam-grade",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Nota (Opcional)"}),l.jsx("input",{type:"number",id:"exam-grade",value:V??"",onChange:k=>J(k.target.value?parseFloat(k.target.value):null),step:"0.01",min:"1",max:"10",className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),A&&l.jsx("p",{className:"text-red-600 text-sm",children:A}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-violet-700",children:r?"Guardar Cambios":"Guardar Examen"})]})]})]})})},Sp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),wp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Ep=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),Tp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),Cp={pendiente:{bg:"bg-zinc-100",text:"text-zinc-800",name:"Pendiente"},cursando:{bg:"bg-blue-100",text:"text-blue-800",name:"Cursando"},aprobada:{bg:"bg-green-100",text:"text-green-800",name:"Aprobada"},final_pendiente:{bg:"bg-amber-100",text:"text-amber-800",name:"Final Pendiente"},recursar:{bg:"bg-red-100",text:"text-red-800",name:"A Recursar"}},_p=Object.entries(Cp).map(([o,{name:m}])=>({id:o,name:m})),Ap=({isOpen:o,onClose:m,semester:g,subjects:r,exams:f,onUnassignSubject:v,onUpdateSubjectStatusAndGrade:d,onPromptForGrade:S,onSaveExam:N,onDeleteExam:h})=>{const[z,_]=x.useState(!1),[M,H]=x.useState(null),[B,V]=x.useState(null);if(!o)return null;const J=g.subjectIds.map(Y=>r.find(F=>F.id===Y)).filter(Y=>!!Y),A=Y=>{V(Y),H(null),_(!0)},Z=(Y,F)=>{V(F),H(Y),_(!0)},G=(Y,F)=>{if(F==="aprobada"){const $=r.find(ce=>ce.id===Y);$&&S($)}else d(Y,F,null)},k=(Y,F)=>{N(Y,F),_(!1)};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-3xl flex flex-col",onClick:Y=>Y.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:g.term}),l.jsx("p",{className:"text-lg text-zinc-600",children:g.year})]}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-zinc-100",children:l.jsx(Sp,{className:"w-6 h-6 text-zinc-500"})})]}),l.jsx("div",{className:"flex-grow overflow-y-auto max-h-[70vh] pr-4 -mr-4 space-y-4",children:J.length>0?J.map(Y=>{const F=f.filter($=>$.subjectId===Y.id);return l.jsxs("div",{className:"p-4 bg-stone-50 rounded-lg border border-zinc-200",children:[l.jsxs("div",{className:"flex justify-between items-start gap-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-zinc-800",children:Y.name}),l.jsx("button",{onClick:()=>v(Y.id,g.id),className:"text-xs font-medium text-red-600 hover:text-red-800",children:"Quitar"})]}),l.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-600 mb-1",children:"Estado"}),l.jsx("select",{value:Y.status,onChange:$=>G(Y.id,$.target.value),className:"w-full px-3 py-1.5 border border-zinc-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-violet-500 bg-white",children:_p.map($=>l.jsx("option",{value:$.id,children:$.name},$.id))}),Y.status==="aprobada"&&Y.finalGrade!==null&&l.jsxs("p",{className:"text-sm mt-2",children:["Nota Final: ",l.jsx("span",{className:"font-bold text-green-700",children:Y.finalGrade})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-600",children:"Exámenes"}),l.jsxs("button",{onClick:()=>A(Y),className:"text-xs font-medium text-violet-600 hover:text-violet-800 flex items-center gap-1",children:[l.jsx(wp,{className:"w-3 h-3"})," Añadir"]})]}),l.jsx("div",{className:"space-y-1",children:F.length>0?F.map($=>l.jsxs("div",{className:"flex justify-between items-center bg-white p-1.5 rounded border border-zinc-200 group text-sm",children:[l.jsx("p",{className:"font-medium text-zinc-700",children:$.title}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>Z($,Y),className:"p-1 text-zinc-400 hover:text-violet-600",children:l.jsx(Ep,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>h($.id),className:"p-1 text-zinc-400 hover:text-red-600",children:l.jsx(Tp,{className:"w-4 h-4"})})]})]},$.id)):l.jsx("p",{className:"text-xs text-zinc-500 text-center py-2",children:"Sin exámenes"})})]})]})]},Y.id)}):l.jsxs("div",{className:"text-center text-zinc-500 py-12 border-2 border-dashed border-zinc-200 rounded-lg",children:[l.jsx("p",{className:"font-semibold",children:"Sin Materias"}),l.jsx("p",{className:"text-sm mt-1",children:"Arrastra materias desde el banco para asignarlas a este cuatrimestre."})]})})]})}),B&&l.jsx(yp,{isOpen:z,onClose:()=>_(!1),onSave:k,examToEdit:M,subjectId:B.id})]})},Wf=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Dp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),Pf=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),Mp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),Op=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})}),zp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),Lp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.195.025.39.05.588.082a2.25 2.25 0 0 1 2.829 2.829.096.096 0 0 0 .082.082m0 0a2.25 2.25 0 1 0 2.186 0m-2.186 0a2.25 2.25 0 0 0-2.829-2.829.096.096 0 0 1-.082-.082m0 0a2.25 2.25 0 1 0 0-2.186m0 2.186c-.195-.025-.39-.05-.588-.082a2.25 2.25 0 0 1-2.829-2.829.096.096 0 0 0-.082-.082"})}),Rp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"})}),kp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})}),ti={pendiente:{bg:"bg-zinc-100",text:"text-zinc-800",name:"Pendiente"},cursando:{bg:"bg-blue-100",text:"text-blue-800",name:"Cursando"},aprobada:{bg:"bg-green-100",text:"text-green-800",name:"Aprobada"},final_pendiente:{bg:"bg-amber-100",text:"text-amber-800",name:"Final Pendiente"},recursar:{bg:"bg-red-100",text:"text-red-800",name:"A Recursar"}},Ip=({semesters:o,subjects:m,exams:g,onStartTour:r,...f})=>{const[v,d]=x.useState({semester:!1,subject:!1}),[S,N]=x.useState({}),[h,z]=x.useState(!1),[_,M]=x.useState(null),[H,B]=x.useState(null),[V,J]=x.useState(null),A=x.useMemo(()=>new Map(m.map(P=>[P.id,P])),[m]),Z=x.useMemo(()=>m.filter(P=>!o.some(we=>we.subjectIds.includes(P.id))),[m,o]),G=x.useMemo(()=>[...o].sort((P,we)=>P.year-we.year||P.term.localeCompare(we.term)),[o]),k=P=>!P.prerequisiteIds||P.prerequisiteIds.length===0?!0:P.prerequisiteIds.every(we=>{var fe;return((fe=A.get(we))==null?void 0:fe.status)==="aprobada"}),Y=P=>{f.onDeleteSemester(P.id)},F=P=>{f.onDeleteSubject(P.id)},$=(P,we)=>{P.dataTransfer.setData("subjectId",we)},ce=(P,we)=>{P.preventDefault();const fe=P.dataTransfer.getData("subjectId"),ie=A.get(fe);ie&&k(ie)&&f.onAssignSubject(fe,we),J(null)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[l.jsxs("div",{id:"subject-bank",className:"lg:col-span-2 bg-white p-4 sm:p-6 rounded-xl shadow-md flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[l.jsx("h3",{className:"text-xl font-semibold text-zinc-700",children:"Banco de Materias"}),l.jsxs("button",{id:"academic-add-subject-btn",onClick:()=>{N({}),d({...v,subject:!0})},className:"flex items-center space-x-2 text-sm font-medium text-violet-600 hover:text-violet-800",children:[l.jsx(Wf,{className:"w-5 h-5"}),l.jsx("span",{children:"Añadir Materia"})]})]}),l.jsx("div",{className:"space-y-2 flex-grow overflow-y-auto pr-2",children:Z.length>0?Z.map((P,we)=>{const fe=k(P),ie=ti[P.status]||ti.pendiente;return l.jsxs("div",{id:we===0?"draggable-subject-example":void 0,draggable:fe,onDragStart:ge=>fe&&$(ge,P.id),className:`p-3 rounded-md flex justify-between items-center bg-stone-50 group relative transition-colors ${fe?"cursor-grab hover:bg-stone-100":"cursor-not-allowed"}`,title:fe?`Arrastra para asignar ${P.name}`:"Requiere correlativas",children:[l.jsxs("div",{className:`flex items-center gap-2 flex-grow ${fe?"":"opacity-60"}`,children:[!fe&&l.jsx(Op,{className:"w-4 h-4 text-zinc-400 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-zinc-800",children:P.name}),l.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded-full ${ie.bg} ${ie.text}`,children:ie.name})]})]}),l.jsxs("div",{className:"flex items-center space-x-1 pr-3",children:[l.jsx("button",{onClick:()=>M(P),title:"Ver correlatividades",className:"p-1 text-zinc-400 hover:text-violet-600 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Lp,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>F(P),title:"Eliminar materia",className:"p-1 text-zinc-400 hover:text-red-600 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Pf,{className:"w-4 h-4"})})]})]},P.id)}):l.jsxs("div",{className:"text-center text-zinc-500 py-12 border-2 border-dashed border-zinc-200 rounded-lg",children:[l.jsx("p",{className:"font-semibold",children:"¡Todo asignado!"}),l.jsx("p",{className:"text-sm mt-1",children:"Todas las materias de tu plan están en un cuatrimestre."})]})})]}),l.jsxs("div",{id:"semester-timeline",className:"lg:col-span-3 bg-white p-4 sm:p-6 rounded-xl shadow-md",children:[l.jsxs("div",{id:"academic-panel-header",className:"flex flex-wrap gap-4 justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-zinc-700",children:"Línea de Tiempo"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:r,title:"Iniciar tour guiado",className:"p-2 text-zinc-500 hover:text-violet-600 rounded-full hover:bg-stone-100 transition-colors",children:l.jsx(kp,{className:"w-6 h-6"})}),l.jsxs("button",{id:"academic-progress-toggle",onClick:()=>z(!h),className:"flex items-center space-x-2 text-sm font-medium text-violet-600 hover:text-violet-800",children:[l.jsx(zp,{className:"w-5 h-5"}),l.jsx("span",{children:"Progreso"}),l.jsx(Mp,{className:`w-4 h-4 transition-transform ${h?"rotate-180":""}`})]}),l.jsxs("button",{id:"academic-add-semester-btn",onClick:()=>{N({}),d({...v,semester:!0})},className:"flex items-center space-x-2 text-sm font-medium text-violet-600 hover:text-violet-800",children:[l.jsx(Wf,{className:"w-5 h-5"}),l.jsx("span",{children:"Cuatrimestre"})]})]})]}),l.jsx("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${h?"max-h-[500px] opacity-100 mb-6 border-b border-zinc-200 pb-6":"max-h-0 opacity-0"}`,children:l.jsx(vp,{subjects:m})}),l.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:G.map((P,we)=>{const fe=P.subjectIds.map(ge=>A.get(ge)).filter(ge=>!!ge),ie=V===P.id;return l.jsxs("div",{id:we===0?"semester-card-example":void 0,onDragOver:ge=>{ge.preventDefault(),J(P.id)},onDragLeave:()=>J(null),onDrop:ge=>ce(ge,P.id),className:`p-3 rounded-lg border-2 transition-all ${ie?"border-violet-500 bg-violet-50 shadow-lg":"border-zinc-200 bg-stone-50"}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("button",{onClick:()=>B(P),className:"text-left group",children:[l.jsxs("h4",{className:"font-bold text-zinc-800 text-lg group-hover:text-violet-700",children:[P.term," ",P.year]}),l.jsx("span",{className:"text-sm text-zinc-500 group-hover:text-violet-600",children:"Ver detalles y exámenes"})]}),l.jsxs("div",{className:"relative group",children:[l.jsx("button",{className:"p-1.5 text-zinc-500 hover:text-zinc-800 rounded-full hover:bg-zinc-200",children:l.jsx(Rp,{className:"w-5 h-5"})}),l.jsxs("div",{className:"absolute top-full right-0 mt-1 w-36 bg-white rounded-md shadow-lg border border-zinc-200 z-10 hidden group-focus-within:block group-hover:block",children:[l.jsxs("button",{onClick:()=>{N({semester:P}),d(ge=>({...ge,semester:!0}))},className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-100",children:[l.jsx(Dp,{className:"w-4 h-4"})," Editar"]}),l.jsxs("button",{onClick:()=>Y(P),className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[l.jsx(Pf,{className:"w-4 h-4"})," Eliminar"]})]})]})]}),l.jsx("div",{className:"space-y-1.5 min-h-[3rem]",children:fe.map(ge=>l.jsxs("div",{className:"bg-white p-2 rounded flex justify-between items-center shadow-sm",children:[l.jsx("p",{className:"text-sm font-medium text-zinc-700",children:ge.name}),l.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded-full ${ti[ge.status].bg} ${ti[ge.status].text}`,children:ti[ge.status].name})]},ge.id))})]},P.id)})})]})]}),l.jsx(hp,{isOpen:v.semester,onClose:()=>d({...v,semester:!1}),onSave:f.onSaveSemester,semesterToEdit:S.semester}),l.jsx(gp,{isOpen:v.subject,onClose:()=>d({...v,subject:!1}),onSave:f.onSaveSubject,subjectToEdit:S.subject,allSubjects:m}),l.jsx(jp,{isOpen:!!_,onClose:()=>M(null),subject:_,allSubjects:m}),H&&l.jsx(Ap,{isOpen:!!H,onClose:()=>B(null),semester:H,subjects:m,exams:g,onUnassignSubject:f.onUnassignSubject,onUpdateSubjectStatusAndGrade:f.onUpdateSubjectStatusAndGrade,onPromptForGrade:f.onPromptForGrade,onSaveExam:f.onSaveExam,onDeleteExam:f.onDeleteExam})]})},Up=o=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:[l.jsx("path",{d:"M12 14.25c-2.43 0-4.68.62-6.53 1.69.58 1.13 1.34 2.14 2.26 3.06 1.32.96 2.82 1.5 4.38 1.5s3.06-.54 4.38-1.5c.92-.92 1.68-1.93 2.26-3.06C16.68 14.87 14.43 14.25 12 14.25Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14.25A5.25 5.25 0 0 0 17.25 9V6.75a5.25 5.25 0 0 0-5.25-5.25A5.25 5.25 0 0 0 6.75 6.75V9a5.25 5.25 0 0 0 5.25 5.25Z"})]}),Hp=({subjects:o,exams:m,semesters:g,onNavigate:r})=>{const{subjectsInCurrentSemester:f,currentSemesterLabel:v}=x.useMemo(()=>{const S=new Date,N=S.getFullYear(),z=S.getMonth()<6?"Primer Cuatrimestre":"Segundo Cuatrimestre",_=g.find(V=>V.year===N&&V.term===z),M=_?`${_.term} ${_.year}`:"Cuatrimestre Actual";if(!_)return{subjectsInCurrentSemester:[],currentSemesterLabel:M};const H=new Map(o.map(V=>[V.id,V]));return{subjectsInCurrentSemester:_.subjectIds.map(V=>H.get(V)).filter(V=>!!V),currentSemesterLabel:M}},[g,o]),d=x.useMemo(()=>{const S=new Date;S.setHours(0,0,0,0);const N=new Map(o.map(h=>[h.id,h.name]));return m.filter(h=>new Date(h.date+"T00:00:00Z")>=S&&h.grade===null).sort((h,z)=>new Date(h.date).getTime()-new Date(z.date).getTime()).slice(0,3).map(h=>({...h,subjectName:N.get(h.subjectId)||"Materia desconocida"}))},[m,o]);return l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md cursor-pointer hover:shadow-lg transition-shadow",onClick:r,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Up,{className:"w-6 h-6 text-teal-500"}),l.jsx("h3",{className:"text-xl font-semibold text-zinc-700",children:"Resumen Académico"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-zinc-600 mb-2",children:v}),f.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(S=>l.jsx("div",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:S.name},S.id))}):l.jsx("div",{className:"text-center py-2",children:l.jsx("p",{className:"text-sm text-zinc-500",children:"No hay materias definidas para este cuatrimestre."})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-zinc-600 mb-2",children:"Próximos Exámenes"}),d.length>0?l.jsx("div",{className:"space-y-2",children:d.map(S=>l.jsxs("div",{className:"p-2 bg-stone-50 rounded-md text-sm",children:[l.jsxs("div",{className:"flex justify-between font-medium text-zinc-800",children:[l.jsx("span",{className:"truncate pr-2",children:S.subjectName}),l.jsx("span",{className:"text-teal-600 capitalize flex-shrink-0",children:S.type})]}),l.jsx("div",{className:"text-xs text-zinc-500 mt-0.5",children:new Date(S.date+"T00:00:00Z").toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"short"})})]},S.id))}):l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-sm text-zinc-500",children:"No hay próximos exámenes programados."})})]})]})},Bp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),Gp=({isOpen:o,onClose:m,onSave:g,subjectName:r})=>{const[f,v]=x.useState(""),[d,S]=x.useState("");if(x.useEffect(()=>{o&&(v(""),S(""))},[o]),!o)return null;const N=h=>{h.preventDefault();const z=parseFloat(f);if(isNaN(z)||z<1||z>10){S("Por favor, introduce una nota válida entre 1 y 10.");return}g(z)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[80] flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:h=>h.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:"Añadir Nota Final"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-zinc-100",children:l.jsx(Bp,{className:"w-6 h-6 text-zinc-500"})})]}),l.jsxs("p",{className:"mb-4 text-zinc-600",children:["Materia: ",l.jsx("span",{className:"font-semibold text-zinc-800",children:r})]}),l.jsxs("form",{onSubmit:N,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"final-grade-input",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Nota Final (1-10)"}),l.jsx("input",{type:"number",id:"final-grade-input",value:f,onChange:h=>v(h.target.value),step:"0.01",min:"1",max:"10",autoFocus:!0,className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"Ej: 7.50"})]}),d&&l.jsx("p",{className:"text-red-600 text-sm",children:d}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-violet-700",children:"Guardar Nota"})]})]})]})})},Yp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),qp=({isOpen:o,onClose:m,onSave:g,exam:r,subjectName:f})=>{const[v,d]=x.useState(""),[S,N]=x.useState("");if(x.useEffect(()=>{var z;o&&(d(((z=r==null?void 0:r.grade)==null?void 0:z.toString())||""),N(""))},[o,r]),!o||!r)return null;const h=z=>{z.preventDefault();const _=parseFloat(v);if(v.trim()===""){g(null);return}if(isNaN(_)||_<1||_>10){N("Por favor, introduce una nota válida entre 1 y 10.");return}g(_)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[80] flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:z=>z.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:"Cargar Nota de Examen"}),l.jsx("button",{onClick:m,className:"p-1.5 rounded-full hover:bg-zinc-100",children:l.jsx(Yp,{className:"w-6 h-6 text-zinc-500"})})]}),l.jsxs("p",{className:"mb-1 text-zinc-600",children:["Materia: ",l.jsx("span",{className:"font-semibold text-zinc-800",children:f})]}),l.jsxs("p",{className:"mb-4 text-zinc-600",children:["Examen: ",l.jsx("span",{className:"font-semibold text-zinc-800",children:r.title})]}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"exam-grade-input",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Nota (1-10)"}),l.jsx("input",{type:"number",id:"exam-grade-input",value:v,onChange:z=>d(z.target.value),step:"0.01",min:"1",max:"10",autoFocus:!0,className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"Dejar vacío para quitar nota"})]}),S&&l.jsx("p",{className:"text-red-600 text-sm",children:S}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-violet-700",children:"Guardar Nota"})]})]})]})})},Vp=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),Zp=({isOpen:o,onClose:m,onConfirm:g,title:r,message:f,confirmText:v,cancelText:d})=>o?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[80] flex justify-center items-center p-4",onClick:m,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",onClick:S=>S.stopPropagation(),children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:l.jsx(Vp,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),l.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-zinc-900",children:r}),l.jsx("div",{className:"mt-2",children:l.jsx("p",{className:"text-sm text-zinc-500",children:f})})]})]}),l.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[l.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:g,children:v||"Confirmar"}),l.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-zinc-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-zinc-700 hover:bg-zinc-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:m,children:d||"Cancelar"})]})]})}):null,Xp=({step:o,currentStep:m,totalSteps:g,onNext:r,onPrev:f,onClose:v})=>{const[d,S]=x.useState({top:0,left:0}),N=x.useRef(null);return x.useLayoutEffect(()=>{const h=()=>{if(!N.current||o.position==="center")return;const _=document.querySelector(o.element);if(!_)return;const M=_.getBoundingClientRect(),H=N.current.getBoundingClientRect(),B=12;let V=0,J=0;const A=M.top+M.height/2-H.height/2,Z=M.left+M.width/2-H.width/2;switch(o.position){case"top":V=M.top-H.height-B,J=Z;break;case"bottom":V=M.bottom+B,J=Z;break;case"left":V=A,J=M.left-H.width-B;break;case"right":V=A,J=M.right+B;break;default:V=M.bottom+B,J=Z;break}V<B&&(V=B),J<B&&(J=B),V+H.height>window.innerHeight-B&&(V=window.innerHeight-H.height-B),J+H.width>window.innerWidth-B&&(J=window.innerWidth-H.width-B),S({top:V,left:J})},z=setTimeout(h,300);return window.addEventListener("resize",h),()=>{clearTimeout(z),window.removeEventListener("resize",h)}},[o]),l.jsxs("div",{ref:N,className:`fixed z-[1001] w-80 bg-white rounded-lg shadow-2xl p-5 transition-all duration-300 ${o.position==="center"?"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2":""}`,style:o.position!=="center"?{top:`${d.top}px`,left:`${d.left}px`}:{},onClick:h=>h.stopPropagation(),children:[l.jsx("h3",{className:"text-lg font-bold text-zinc-800",children:o.title}),l.jsx("p",{className:"text-sm text-zinc-600 mt-2",children:o.content}),l.jsxs("div",{className:"flex justify-between items-center mt-4",children:[l.jsxs("span",{className:"text-xs font-medium text-zinc-500",children:[m+1," / ",g]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:v,className:"text-xs font-bold text-zinc-600 hover:text-zinc-900",children:"Saltar Tour"}),m>0&&l.jsx("button",{onClick:f,className:"px-3 py-1 bg-zinc-200 text-sm font-semibold rounded-md hover:bg-zinc-300",children:"Anterior"}),l.jsx("button",{onClick:r,className:"px-3 py-1 bg-teal-600 text-white text-sm font-semibold rounded-md hover:bg-teal-700",children:m===g-1?"Finalizar":"Siguiente"})]})]})]})},ai=({isOpen:o,onClose:m,steps:g})=>{const[r,f]=x.useState(0);if(x.useEffect(()=>{o||setTimeout(()=>f(0),300)},[o]),x.useEffect(()=>{if(o&&g[r]){const z=g[r];if(z.element!=="body"&&z.position!=="center"){const _=document.querySelector(z.element);_&&_.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},[r,o,g]),!o)return null;const v=()=>{r<g.length-1?f(r+1):m()},d=()=>{r>0&&f(r-1)},S=g[r],N=S?document.querySelector(S.element):null,h=N&&S.position!=="center"?{position:"absolute",top:`${N.getBoundingClientRect().top-4}px`,left:`${N.getBoundingClientRect().left-4}px`,width:`${N.getBoundingClientRect().width+8}px`,height:`${N.getBoundingClientRect().height+8}px`,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.6), 0 0 15px rgba(255, 255, 255, 0.7)",borderRadius:"8px",zIndex:1e3,pointerEvents:"none",transition:"all 0.3s ease-in-out"}:{position:"absolute",top:"50%",left:"50%",width:"0px",height:"0px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.6)",zIndex:1e3};return l.jsx("div",{className:"fixed inset-0 z-[999]",onClick:m,children:S&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:h}),l.jsx(Xp,{step:S,currentStep:r,totalSteps:g.length,onNext:v,onPrev:d,onClose:m})]})})},Lo="https://script.google.com/macros/s/AKfycbwCk-2-Xq6Dke44hPNo3Zuy9RmSNPLr9-IJGafHH2UN-7jyN8kKfBySh0af2-6WoWtZjw/exec",xu=({length:o,value:m,onChange:g,error:r})=>{const f=x.useRef([]),v=m.split(""),d=(N,h)=>{var _;const z=N.target.value;if(/^[0-9]$/.test(z)||z===""){const M=[...v];for(;M.length<o;)M.push("");M[h]=z;const H=M.slice(0,o).join("");g(H),z&&h<o-1&&((_=f.current[h+1])==null||_.focus())}},S=(N,h)=>{var z;N.key==="Backspace"&&!v[h]&&h>0&&((z=f.current[h-1])==null||z.focus())};return x.useEffect(()=>{f.current=f.current.slice(0,o)},[o]),l.jsxs("div",{className:`flex justify-center gap-2 sm:gap-3 ${r?"animate-shake":""}`,children:[l.jsx("style",{children:`
            @keyframes shake {
                10%, 90% { transform: translate3d(-1px, 0, 0); }
                20%, 80% { transform: translate3d(2px, 0, 0); }
                30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
                40%, 60% { transform: translate3d(4px, 0, 0); }
            }
            .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }
        `}),Array.from({length:o}).map((N,h)=>l.jsx("input",{ref:z=>{f.current[h]=z},type:"tel",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:v[h]||"",onChange:z=>d(z,h),onKeyDown:z=>S(z,h),className:"w-12 h-14 sm:w-14 sm:h-16 text-center text-2xl sm:text-3xl font-bold border-2 border-zinc-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition"},h))]})},Qp=({isOpen:o,onClose:m,onSave:g,currentUser:r})=>{const[f,v]=x.useState(""),[d,S]=x.useState(""),[N,h]=x.useState(""),[z,_]=x.useState(""),M=()=>{v(""),S(""),h(""),_("")},H=()=>{M(),m()},B=()=>{if(_(""),r.pin&&f!==r.pin){_("El PIN actual es incorrecto.");return}if(d.length!==4){_("El nuevo PIN debe tener 4 dígitos.");return}if(d!==N){_("Los nuevos PIN no coinciden.");return}g(d),M()};return x.useEffect(()=>{o||M()},[o]),o?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:H,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:V=>V.stopPropagation(),children:[l.jsx("h2",{className:"text-2xl font-bold text-zinc-800 mb-6 text-center",children:"Cambiar PIN"}),l.jsxs("div",{className:"space-y-6",children:[r.pin&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-center text-sm font-medium text-zinc-700 mb-2",children:"PIN Actual"}),l.jsx(xu,{length:4,value:f,onChange:v})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-center text-sm font-medium text-zinc-700 mb-2",children:"Nuevo PIN"}),l.jsx(xu,{length:4,value:d,onChange:S})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-center text-sm font-medium text-zinc-700 mb-2",children:"Confirmar Nuevo PIN"}),l.jsx(xu,{length:4,value:N,onChange:h})]})]}),z&&l.jsx("p",{className:"text-red-600 text-sm mt-4 text-center",children:z}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-6 mt-4 border-t border-zinc-200",children:[l.jsx("button",{type:"button",onClick:H,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),l.jsx("button",{type:"button",onClick:B,className:"px-4 py-2 bg-teal-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-teal-700",children:"Guardar Cambios"})]})]})}):null},Xl=(o,m=new Date)=>{const g=new Date(m);g.setDate(g.getDate()+1);const r=g.getDay();let f=o-r;return f<0&&(f+=7),g.setDate(g.getDate()+f),g.toISOString().split("T")[0]},eh=[{id:"routine-gym-1",title:"Gimnasio",time:"07:00",description:"Entrenamiento de fuerza.",category:"personal",frequency:"weekly",daysOfWeek:[1,3,5],startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date(new Date().getFullYear(),new Date().getMonth()+2,0).toISOString().split("T")[0],reminder:!0,color:"#3B82F6"},{id:"routine-meeting-2",title:"Reunión de Equipo",time:"09:30",description:"Revisión semanal de proyectos.",category:"trabajo",frequency:"weekly",daysOfWeek:[2],startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date(new Date().getFullYear(),new Date().getMonth()+2,0).toISOString().split("T")[0],reminder:!0,color:"#22C55E"}],th=[{id:"event-dinner-1",title:"Cena con amigos",date:Xl(5),time:"20:30",category:"personal",reminder:!0,color:"#EC4899",completed:!1},{id:"event-dentist-2",title:"Cita con el dentista",date:new Date(new Date().setDate(new Date().getDate()+10)).toISOString().split("T")[0],time:"15:00",category:"otro",reminder:!0,color:"#64748B",completed:!1},{id:fa(),routineId:"routine-gym-1",title:"Gimnasio",date:Xl(1),time:"07:00",category:"personal",reminder:!0,color:"#3B82F6",completed:!1},{id:fa(),routineId:"routine-gym-1",title:"Gimnasio",date:Xl(3),time:"07:00",category:"personal",reminder:!0,color:"#3B82F6",completed:!1},{id:fa(),routineId:"routine-gym-1",title:"Gimnasio",date:Xl(5),time:"07:00",category:"personal",reminder:!0,color:"#3B82F6",completed:!1},{id:fa(),routineId:"routine-meeting-2",title:"Reunión de Equipo",date:Xl(2),time:"09:30",category:"trabajo",reminder:!0,color:"#22C55E",completed:!1},{id:fa(),routineId:"routine-meeting-2",title:"Reunión de Equipo",date:Xl(2,new Date(Xl(2))),time:"09:30",category:"trabajo",reminder:!0,color:"#22C55E",completed:!1}],ah=[{id:"trip-1",title:"Aventura en la Montaña",destination:"Bariloche, Argentina",startDate:"2024-01-15",endDate:"2024-01-22",notes:"Un viaje increíble lleno de trekking y paisajes espectaculares. El chocolate caliente fue el mejor.",highlights:[{id:"h-1-1",date:"2024-01-16",title:"Cerro Campanario",description:"Vistas panorámicas de 360 grados de los lagos y montañas. Impresionante.",emotion:"🤩"},{id:"h-1-2",date:"2024-01-18",title:"Circuito Chico",description:"Recorrido en coche por los lugares más icónicos, con paradas en miradores.",emotion:"😊"},{id:"h-1-3",date:"2024-01-20",title:"Caminata a Refugio Frey",description:"Un trekking desafiante pero con una recompensa increíble al llegar a la laguna y el refugio.",emotion:"😌"}]},{id:"trip-2",title:"Explorando la Historia",destination:"Roma, Italia",startDate:"2024-05-10",endDate:"2024-05-17",notes:"Cada esquina cuenta una historia. La comida es simplemente de otro nivel.",highlights:[{id:"h-2-1",date:"2024-05-11",title:"El Coliseo",description:"Visita al amanecer para evitar las multitudes. Se sentía la historia en el aire.",emotion:"🤩"},{id:"h-2-2",date:"2024-05-13",title:"El Vaticano",description:"La Basílica de San Pedro y los Museos Vaticanos. La Capilla Sixtina es indescriptible.",emotion:"❤️"}]}],lh=[{date:new Date(Date.now()-864e5).toISOString().split("T")[0],timestamp:new Date(Date.now()-864e5).toISOString(),positiveThought:"Hoy doy gracias por la conversación que tuve con un viejo amigo. Me hizo darme cuenta de lo importante que es mantener esas conexiones.",lessonLearned:"Aprendí que a veces, tomarse un descanso de 5 minutos puede cambiar completamente mi productividad por la tarde.",dayTitle:"Una llamada que alegra el alma",emotionEmoji:"😊"},{date:new Date(Date.now()-3*864e5).toISOString().split("T")[0],timestamp:new Date(Date.now()-3*864e5).toISOString(),positiveThought:"Logré terminar un proyecto en el que estaba atascado. La sensación de logro es increíble.",lessonLearned:"La perseverancia realmente vale la pena. No rendirse ante el primer obstáculo es clave.",dayTitle:"Día de romper barreras",emotionEmoji:"💪"},{date:new Date(Date.now()-7*864e5).toISOString().split("T")[0],timestamp:new Date(Date.now()-7*864e5).toISOString(),positiveThought:"Disfruté de una simple taza de café por la mañana, viendo el sol salir. Los pequeños momentos son los mejores.",lessonLearned:"No necesito grandes eventos para sentirme feliz. La paz se encuentra en las pequeñas cosas cotidianas.",dayTitle:"Calma matutina",emotionEmoji:"😌"}],nh=[{id:"proj-1",title:"Aprender a tocar la guitarra",description:"Ser capaz de tocar mis 5 canciones favoritas para fin de año.",icon:"🎸",category:"Creatividad"},{id:"proj-2",title:"Operación Maratón",description:"Correr una maratón completa en menos de 4 horas.",icon:"🏃‍♂️",category:"Salud",targetDate:"2024-11-25"}],sh=[{id:"task-1-1",projectId:"proj-1",text:"Comprar una guitarra acústica",status:"done"},{id:"task-1-2",projectId:"proj-1",text:"Aprender los 4 acordes básicos (G, C, D, Em)",status:"inProgress"},{id:"task-1-3",projectId:"proj-1",text:"Practicar cambios de acordes durante 15 min al día",status:"todo"},{id:"task-2-1",projectId:"proj-2",text:"Investigar planes de entrenamiento",status:"done"},{id:"task-2-2",projectId:"proj-2",text:"Comprar zapatillas para correr adecuadas",status:"done"},{id:"task-2-3",projectId:"proj-2",text:"Correr 10km sin parar",status:"inProgress"},{id:"task-2-4",projectId:"proj-2",text:"Inscribirme a una media maratón",status:"todo"}],Kp=[{id:"list-supermercado-1",title:"Supermercado",icon:"🛒",ownerId:"user-1",isShared:!1,items:[{id:"item-1-1",text:"Leche",completed:!1},{id:"item-1-2",text:"Huevos",completed:!0},{id:"item-1-3",text:"Pan",completed:!1},{id:"item-1-4",text:"Pollo",completed:!1}]},{id:"list-cuentas-2",title:"Cuentas por Pagar",icon:"🧾",ownerId:"user-1",isShared:!1,items:[{id:"item-2-1",text:"Pagar factura de luz",completed:!1},{id:"item-2-2",text:"Pagar internet",completed:!1},{id:"item-2-3",text:"Suscripción de música",completed:!0}]}],ih=[{id:"sem-1",year:2024,term:"Primer Cuatrimestre",subjectIds:["sub-1"]},{id:"sem-2",year:2023,term:"Segundo Cuatrimestre",subjectIds:["sub-2","sub-3"]}],oh=[{id:"sub-1",name:"Análisis Matemático II",status:"cursando",finalGrade:null,prerequisiteIds:["sub-2"]},{id:"sub-2",name:"Análisis Matemático I",status:"aprobada",finalGrade:8,prerequisiteIds:[]},{id:"sub-3",name:"Álgebra y Geometría Analítica",status:"aprobada",finalGrade:7,prerequisiteIds:[]},{id:"sub-4",name:"Física I",status:"pendiente",finalGrade:null,prerequisiteIds:["sub-2","sub-3"]}],ch=[{id:"exam-1",subjectId:"sub-1",type:"parcial",title:"Primer Parcial",date:new Date(new Date().setDate(new Date().getDate()+14)).toISOString().split("T")[0],time:"09:00",grade:null,topics:`Integrales Dobles
Series de Fourier
Transformada de Laplace`},{id:"exam-2",subjectId:"sub-2",type:"final",title:"Final",date:"2023-12-15",time:"14:00",grade:8,topics:`Límites y Continuidad
Derivadas y Aplicaciones
Integrales Simples`}],rh=o=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5.25H9.75M9 8.25H9.75M9 11.25H9.75M9 14.25H9.75M9 17.25H9.75M15 5.25H15.75M15 8.25H15.75M15 11.25H15.75M15 14.25H15.75M15 17.25H15.75"})});function $p(){var Qa;const[o,m]=x.useState(!0),[g,r]=Ue("users",[]),[f,v]=Ue("pairingRequests",[]),[d,S]=x.useState(null),[N,h]=x.useState(new Date),[z,_]=x.useState(new Date),M=`events_${d==null?void 0:d.id}`,H=`routines_${d==null?void 0:d.id}`,B=`journal_entries_${d==null?void 0:d.id}`,V=`notifications_${d==null?void 0:d.id}`,J=`projects_${d==null?void 0:d.id}`,A=`tasks_${d==null?void 0:d.id}`,Z=`trips_${d==null?void 0:d.id}`,G=`semesters_${d==null?void 0:d.id}`,k=`subjects_${d==null?void 0:d.id}`,Y=`exams_${d==null?void 0:d.id}`,F=`summary_order_${d==null?void 0:d.id}`,$=`main_panel_order_${d==null?void 0:d.id}`,[ce,P]=Ue(M,th),[we,fe]=Ue(H,eh),[ie,ge]=Ue(B,lh),[Ve,ae]=Ue(J,nh),[E,O]=Ue(A,sh),[te,se]=Ue(Z,ah),[he,b]=Ue("all_shopping_lists",Kp),[Q,ee]=Ue(G,ih),[le,de]=Ue(k,oh),[xe,Ne]=Ue(Y,ch),[ct,He]=x.useState(!1),[pl,ha]=x.useState(!1),[Kn,gl]=x.useState(!1),[xa,pa]=x.useState(!1),[$n,li]=x.useState(!1),[ni,Ql]=x.useState(!1),[Fn,Kl]=x.useState(!1),[Ro,Jn]=x.useState(!1),[jt,Wn]=x.useState(!1),[si,$l]=x.useState(!1),[Fl,Jl]=x.useState(!1),[ii,Pn]=x.useState(!1),[ko,ga]=x.useState(!1),[Ze,Gt]=x.useState(null),[it,es]=x.useState(null),[Io,Wl]=x.useState(null),[Pl,va]=x.useState(null),[qa,ba]=x.useState(null),[Va,vl]=x.useState(null),[bl,en]=x.useState(null),[Ot,ja]=x.useState(null),[Uo,tn]=x.useState([]),[an,Na]=Ue(V,[]),[jl,ln]=Ue("notifications_muted",!1),{sendSystemNotification:ts}=gu(),[as,zt]=Ue(`notified_events_${d==null?void 0:d.id}`,[]),[We,rt]=Ue(`last_reflection_prompt_${d==null?void 0:d.id}`,""),[Nt,ut]=x.useState("planner"),[nn,ya]=x.useState("Personal"),oi=["home","academic","goals"],[Za,ls]=Ue(F,oi),Wt=x.useRef(null),Pt=x.useRef(null),Nl=["schedule","reflection","partnerNotes"],[Sa,Pe]=Ue($,Nl),yl=x.useRef(null),Sl=x.useRef(null),wa=`tour_completed_main_${d==null?void 0:d.id}`,[Ea,Ho]=Ue(wa,!1),[ci,sn]=x.useState(!1),[ri,on]=Ue(`tour_completed_home_${d==null?void 0:d.id}`,!1),[wl,ea]=Ue(`tour_completed_goals_${d==null?void 0:d.id}`,!1),[yt,ui]=Ue(`tour_completed_academic_${d==null?void 0:d.id}`,!1),[di,ns]=Ue(`tour_completed_travel_${d==null?void 0:d.id}`,!1),[mi,Xa]=x.useState(!1),[Bo,pt]=x.useState(!1),[ss,cn]=x.useState(!1),[is,ia]=x.useState(!1),fi=()=>{if(Wt.current===null||Pt.current===null)return;const j=[...Za],C=j.splice(Wt.current,1)[0];j.splice(Pt.current,0,C),Wt.current=null,Pt.current=null,ls(j)},hi=()=>{if(yl.current===null||Sl.current===null)return;const j=[...Sa],C=j.splice(yl.current,1)[0];j.splice(Sl.current,0,C),yl.current=null,Sl.current=null,Pe(j)};x.useEffect(()=>{const j=setTimeout(()=>m(!1),2e3);return()=>clearTimeout(j)},[]);const re=x.useMemo(()=>d!=null&&d.pairedWith&&g.find(j=>j.id===d.pairedWith)||null,[d,g]),Go=x.useMemo(()=>{const j=[{element:"body",title:"¡Bienvenido/a a ConectaMente!",content:"Este tour te guiará por las funciones principales. Puedes usar los botones para navegar o hacer clic fuera para salir.",position:"center"},{element:"#header-nav",title:"Navegación Principal",content:"Desde aquí puedes navegar entre las secciones clave: tu Planificador (la vista actual), Hogar, Metas, Académico y Viajes.",position:"bottom"},{element:"#header-nav-home",title:"Sección: Mi Hogar",content:"Aquí puedes organizar tus listas de compras, tareas del hogar y más. Todo lo que necesitas para gestionar tu espacio personal y familiar.",position:"bottom"},{element:"#header-nav-goals",title:"Sección: Metas",content:"Define tus grandes proyectos y ambiciones. Desglósalos en tareas más pequeñas y sigue tu progreso para alcanzar tus sueños.",position:"bottom"},{element:"#header-nav-academic",title:"Sección: Académico",content:"Lleva un control completo de tu carrera. Gestiona materias, correlatividades, fechas de examen y tus calificaciones, todo en un solo lugar.",position:"bottom"},{element:"#header-nav-travel",title:"Sección: Viajes",content:"Crea una bitácora digital de tus aventuras. Guarda tus destinos, fechas y pega los mejores recuerdos y fotos de cada viaje.",position:"bottom"},{element:"#calendar-view",title:"Tu Calendario",content:"Este es tu calendario. Te da una vista general de tus eventos del mes. Haz clic en un día para ver o añadir eventos para esa fecha específica.",position:"left"},{element:"#schedule-panel",title:"Agenda del Día",content:"Aquí verás los eventos del día seleccionado. Puedes añadir nuevos eventos, gestionar rutinas y marcar tareas como completadas.",position:"right"},{element:"#reflection-panel",title:"Reflexión Diaria",content:"Tómate un momento cada día para conectar contigo. Guarda tus pensamientos, lecciones aprendidas y cómo te sentiste.",position:"right"},{element:"#summary-column",title:"Resúmenes Rápidos",content:"En esta columna tienes vistas rápidas de tus otras secciones. ¡Y puedes arrastrarlas para reordenarlas como prefieras!",position:"left"}];return re&&j.push({element:"#couple-space-tab",title:"Espacio de Conexiones",content:"Este es su espacio privado para compartir notas, cómo se sienten y conectar a un nivel más profundo.",position:"bottom"}),j.push({element:"#user-menu",title:"Tu Perfil y Conexiones",content:"Desde aquí gestionas tu perfil, la seguridad y, muy importante, tus 'Conexiones'. Puedes vincular tu cuenta con la de tu pareja para compartir un espacio privado.",position:"left"}),j.push({element:"body",title:"¡Todo listo!",content:"Has completado el tour. Explora y haz de ConectaMente tu espacio. Recuerda que puedes volver a hacer este tour desde el menú de usuario.",position:"center"}),j},[re]),xi=[{element:"#home-panel-header",title:"Sección Mi Hogar",content:"Este espacio es para organizar las tareas y listas de tu día a día, ya sea personal o para compartir.",position:"bottom"},{element:"#home-add-list-btn",title:"Crear una Lista",content:"Usa este botón para crear cualquier tipo de lista: supermercado, cuentas por pagar, tareas del hogar, etc.",position:"bottom"},{element:"#list-card-example",title:"Tus Listas",content:"Cada lista que crees aparecerá aquí. Puedes editarla o eliminarla usando los íconos que aparecen al pasar el mouse.",position:"bottom"},{element:"#add-list-item-form-example",title:"Añadir Elementos",content:"Escribe aquí para añadir un nuevo ítem a la lista y presiona el botón '+' o Enter.",position:"top"},{element:"#list-item-checkbox-example",title:"Completar Tareas",content:"Marca la casilla para tachar un elemento. ¡Qué satisfacción!",position:"right"},...re?[{element:"#share-list-btn-example",title:"Compartir Listas",content:"Puedes compartir listas para que tu pareja pueda verlas y editarlas en tiempo real.",position:"left"}]:[],{element:"body",position:"center",title:"Hogar, dulce hogar organizado",content:"Ya estás listo/a para mantener todo en orden."}],pi=[{element:"#goals-panel-header",title:"Sección de Metas",content:"Aquí puedes dar vida a tus grandes ambiciones. Define proyectos, desglósalos en tareas y sigue tu progreso.",position:"bottom"},{element:"#goals-add-project-btn",title:"Crear un Proyecto",content:"Usa este botón para empezar un nuevo proyecto o meta. Dale un nombre, un ícono y una descripción motivadora.",position:"bottom"},{element:"#project-card-example",title:"Tu Proyecto",content:"Cada proyecto se muestra así. Haz clic para expandir y ver las tareas. La barra muestra tu progreso general.",position:"bottom"},{element:"#add-task-form-example",title:"Añadir Tareas",content:"Una vez expandido un proyecto, puedes añadir tareas manualmente aquí. ¡Divide y vencerás!",position:"top"},{element:"#ai-task-suggester-example",title:"Sugerencias con IA",content:"¿No sabes por dónde empezar? Pide a la IA que te sugiera los primeros pasos para tu proyecto.",position:"top"},{element:"body",position:"center",title:"¡A conquistar!",content:"Ya sabes cómo organizar tus metas. ¡El primer paso es el más importante!"}],os=[{element:"#academic-panel-header",title:"Panel Académico",content:"Gestiona toda tu carrera desde aquí. Organiza tus materias, cuatrimestres y lleva un control de tus exámenes y notas.",position:"bottom"},{element:"#subject-bank",title:"Banco de Materias",content:"Esta es tu 'caja' con todas las materias de tu plan de estudios. Añádelas con el botón de arriba.",position:"right"},{element:"#draggable-subject-example",title:"Arrastrar y Soltar",content:"Arrastra una materia desde el banco y suéltala en un cuatrimestre para asignarla. Si tiene un candado, significa que aún no cumpliste sus correlativas.",position:"right"},{element:"#semester-timeline",title:"Línea de Tiempo",content:"Aquí organizas tus cuatrimestres. Puedes crearlos, editarlos y ver qué materias cursas en cada uno.",position:"left"},{element:"#semester-card-example",title:"Detalles del Cuatrimestre",content:"Haz clic en el título de un cuatrimestre para abrir una vista detallada donde puedes gestionar exámenes y cambiar el estado de las materias.",position:"left"},{element:"#academic-progress-toggle",title:"Ver Progreso",content:"Haz clic aquí para desplegar un resumen visual de tu avance en la carrera y tu promedio general.",position:"left"},{element:"body",position:"center",title:"¡Éxito en tus estudios!",content:"Ahora tienes el control total de tu recorrido académico."}],Yo=[{element:"#travel-log-header",title:"Bitácora de Viajes",content:"Este es tu diario de aventuras. Guarda cada viaje y colecciona tus recuerdos más preciados.",position:"bottom"},{element:"#travel-add-trip-btn",title:"Añadir un Viaje",content:"Haz clic aquí para registrar un nuevo viaje. Podrás añadir destino, fechas y una foto de portada.",position:"bottom"},{element:"#trip-card-example",title:"Tus Viajes",content:"Cada viaje se muestra como una foto polaroid. Haz clic en una para abrirla y ver todos los detalles y recuerdos.",position:"bottom"},{element:"body",position:"center",title:"¡A viajar!",content:"Cuando entres a un viaje, podrás añadir 'Recuerdos' (fotos, notas, emociones) y pedirle a la IA que te dé ideas. ¡Buen viaje!"}],gi=x.useMemo(()=>d?he.filter(j=>j.ownerId===d.id||j.isShared&&j.ownerId===(re==null?void 0:re.id)):[],[he,d,re]),Ta=x.useMemo(()=>!d||!re?null:[d.id,re.id].sort().join("_"),[d,re]),[St,cs]=Ue(`qa_sessions_${Ta}`,[]),[oa,Yt]=Ue(`partner_notes_${Ta}`,[]),[Tt,vi]=Ue(`shared_emotions_${Ta}`,[]),rn=x.useMemo(()=>{const j=new Map(le.map(C=>[C.id,C]));return xe.map(C=>{const T=j.get(C.subjectId);return T?{id:`exam-${C.id}`,title:`[${C.type==="final"?"Final":"Parcial"}] ${T.name}`,date:C.date,time:C.time,category:"otro",reminder:!0,color:"#8B5CF6",completed:C.grade!==null,isAcademic:!0}:null}).filter(C=>C!==null)},[xe,le]),ta=x.useMemo(()=>[...ce,...rn],[ce,rn]);x.useEffect(()=>{if(!d)P([]),fe([]),ge([]),Na([]),tn([]),zt([]),ae([]),O([]),se([]),ee([]),de([]),Ne([]);else{const j=`events_${d.id}`,C=localStorage.getItem(j);P(C?JSON.parse(C):th);const T=`routines_${d.id}`,w=localStorage.getItem(T);fe(w?JSON.parse(w):eh);const W=`journal_entries_${d.id}`,je=localStorage.getItem(W);ge(je?JSON.parse(je):lh);const Ce=`trips_${d.id}`,$e=localStorage.getItem(Ce);se($e?JSON.parse($e):ah);const wt=`projects_${d.id}`,et=localStorage.getItem(wt);ae(et?JSON.parse(et):nh);const Lt=`tasks_${d.id}`,vs=localStorage.getItem(Lt);O(vs?JSON.parse(vs):sh);const xc=`semesters_${d.id}`,Ci=localStorage.getItem(xc);ee(Ci?JSON.parse(Ci):ih);const pc=`subjects_${d.id}`,vt=localStorage.getItem(pc);de(vt?JSON.parse(vt):oh);const Dl=`exams_${d.id}`,bs=localStorage.getItem(Dl);Ne(bs?JSON.parse(bs):ch)}},[d,P,fe,ge,Na,zt,ae,O,se,ee,de,Ne]),x.useEffect(()=>{if(d&&!Ea){const j=setTimeout(()=>sn(!0),500);return()=>clearTimeout(j)}},[d,Ea]),x.useEffect(()=>{if(!d)return;const j=setTimeout(()=>{switch(Nt){case"home":ri||Xa(!0);break;case"goals":wl||pt(!0);break;case"academic":yt||cn(!0);break;case"travel":di||ia(!0);break}},500);return()=>clearTimeout(j)},[Nt,d,ri,wl,yt,di]);const Ye=()=>fa(),qt=async(j,C)=>{try{const T=await fetch(`${Lo}?action=getUser&email=${encodeURIComponent(j)}`);if(!T.ok)throw new Error("Network response was not ok.");const w=await T.json();if(w.success&&w.user)if(w.user.password===C){const W=g.find(Ce=>Ce.id===w.user.userId),je={id:w.user.userId,name:w.user.name,pairedWith:(W==null?void 0:W.pairedWith)||null,pin:W==null?void 0:W.pin};return r(Ce=>Ce.find(wt=>wt.id===je.id)?Ce.map(wt=>wt.id===je.id?{...wt,name:je.name}:wt):[...Ce,je]),S(je),{success:!0}}else return{success:!1,message:"Contraseña incorrecta."};else return{success:!1,message:w.message||"Usuario no encontrado."}}catch(T){return console.error("Login error:",T),{success:!1,message:"Error de red al intentar iniciar sesión."}}},rs=async(j,C,T)=>{try{const w=await fetch(`${Lo}?action=getUser&email=${encodeURIComponent(C)}`);if(w.ok&&(await w.json()).success)return{success:!1,message:"Ya existe un usuario con este correo electrónico."};const W=await fetch(Lo,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"saveUser",name:j,email:C,password:T})});if(!W.ok)throw new Error("Network response was not ok during creation.");const je=await W.json();return je.success?await qt(C,T):{success:!1,message:je.message||"Error al crear el usuario."}}catch(w){return console.error("Create user error:",w),{success:!1,message:"Error de red al crear el usuario."}}},El=()=>{S(null)},ca=j=>{if(!d)return;const C=g.map(T=>T.id===d.id?{...T,pin:j}:T);r(C),S(T=>T?{...T,pin:j}:null),Jn(!1)},us=async j=>{if(!d)return{success:!1,message:"Debes iniciar sesión para enviar solicitudes."};try{const C=await fetch(`${Lo}?action=getUser&email=${encodeURIComponent(j)}`);if(!C.ok)throw new Error("Respuesta de red no fue OK.");const T=await C.json();if(T.success&&T.user){const w=T.user.userId;if(w===d.id)return{success:!1,message:"No puedes enviarte una solicitud a ti mismo."};const W={id:w,name:T.user.name};if(r($e=>$e.some(wt=>wt.id===W.id)?$e:[...$e,W]),f.find($e=>$e.fromUserId===d.id&&$e.toUserId===w||$e.fromUserId===w&&$e.toUserId===d.id))return{success:!1,message:"Ya existe una solicitud con este usuario."};const Ce={id:Ye(),fromUserId:d.id,toUserId:w,status:"pending"};return v($e=>[...$e,Ce]),{success:!0,message:`Solicitud enviada a ${W.name}.`}}else return{success:!1,message:T.message||"Usuario no encontrado."}}catch(C){return console.error("Error sending pairing request:",C),{success:!1,message:"Ocurrió un error de red."}}},un=(j,C)=>{const T=f.find(w=>w.id===j);if(T){if(C==="accepted"){let w,W;const je=g.map(Ce=>Ce.id===T.fromUserId?(w={...Ce,pairedWith:T.toUserId},w):Ce.id===T.toUserId?(W={...Ce,pairedWith:T.fromUserId},W):Ce);r(je),d&&d.id===(w==null?void 0:w.id)?S(w):d&&d.id===(W==null?void 0:W.id)&&S(W),v(f.filter(Ce=>!(Ce.fromUserId===(w==null?void 0:w.id)&&Ce.toUserId===(W==null?void 0:W.id))&&!(Ce.fromUserId===(W==null?void 0:W.id)&&Ce.toUserId===(w==null?void 0:w.id))))}else v(f.filter(w=>w.id!==j));pa(!1)}},bi=()=>{if(!d||!d.pairedWith)return;const j=d.pairedWith;let C;const T=g.map(w=>w.id===d.id?(C={...w,pairedWith:null},C):w.id===j?{...w,pairedWith:null}:w);r(T),C&&S(C),pa(!1)},dn=()=>{es(null),He(!0)},mn=j=>{if(j.routineId){Xe({type:"generic",title:"Evento de Rutina",message:"Para editar, gestiona la rutina que creó este evento."});return}if(j.isAcademic){Xe({type:"generic",title:"Evento Académico",message:'Para editar este examen, ve a la sección "Académico".'});return}es(j),He(!0)},ds=()=>{He(!1),es(null)},gt=j=>{P(it?ce.map(C=>C.id===it.id?{...j,id:it.id}:C):[...ce,{...j,id:Ye(),completed:!1}]),ds()},Ca=j=>{const C=ce.find(T=>T.id===j);if(C!=null&&C.routineId){Xe({type:"generic",title:"No se puede eliminar",message:"Para eliminar este evento, elimina o edita la rutina asociada."});return}if(C!=null&&C.isAcademic){Xe({type:"generic",title:"No se puede eliminar",message:'Para eliminar este examen, ve a la sección "Académico".'});return}P(ce.filter(T=>T.id!==j))},fn=j=>{const C=ta.find(T=>T.id===j);if(C&&C.isAcademic){const T=C.id.replace("exam-",""),w=xe.find(W=>W.id===T);w&&(w.grade!==null?ps({...w,grade:null},w.id):fc(w))}else C&&P(ce.map(T=>T.id===j?{...T,completed:!T.completed}:T))},Tl=()=>{Wl(null),gl(!1),ha(!0)},qo=j=>{Wl(j),gl(!1),ha(!0)},ms=(j,C)=>{var wt;const T=new Date;T.setUTCHours(0,0,0,0);let w;C?(w={...j,id:C},P(et=>et.filter(Lt=>Lt.routineId===C?new Date(Lt.date+"T00:00:00Z")<T:!0)),fe(et=>et.map(Lt=>Lt.id===C?w:Lt))):(w={...j,id:Ye()},fe(et=>[...et,w]));const W=[],je=new Date(w.startDate+"T00:00:00Z"),Ce=new Date(w.endDate+"T00:00:00Z");let $e=C?je>T?je:T:je;for(let et=new Date($e);et<=Ce;et.setUTCDate(et.getUTCDate()+1)){let Lt=!1;w.frequency==="weekly"?(wt=w.daysOfWeek)!=null&&wt.includes(et.getUTCDay())&&(Lt=!0):w.frequency==="monthly"&&w.dayOfMonth===et.getUTCDate()&&(Lt=!0),Lt&&W.push({id:Ye(),routineId:w.id,title:w.title,date:et.toISOString().split("T")[0],time:w.time,description:w.description,category:w.category,reminder:w.reminder,color:w.color,completed:!1})}P(et=>[...et,...W]),ha(!1),Wl(null)},fs=j=>{const C=new Date;C.setUTCHours(0,0,0,0),fe(T=>T.filter(w=>w.id!==j)),P(T=>T.filter(w=>w.routineId===j?new Date(w.date+"T00:00:00Z")<C:!0))},Cl=j=>{const C={...j,timestamp:new Date().toISOString()};ge(T=>{const w=T.findIndex(W=>W.date===j.date);if(w>-1){const W=[...T];return W[w]=C,W}else return[...T,C]})},hn=j=>{ba(j),Wn(!0)},ji=()=>{if(!qa||!d)return;const{timestamp:j,...C}=qa,T={id:Ye(),authorId:d.id,text:`${d.name} ha compartido su reflexión.`,timestamp:new Date().toISOString(),type:"reflection",reflectionContent:C};Yt(w=>[...w,T]),Wn(!1)},Vo=j=>{vl(j),$l(!0)},Zo=()=>{if(!Va||!d)return;const{id:j,...C}=Va,T={id:Ye(),authorId:d.id,text:`${d.name} ha compartido un viaje.`,timestamp:new Date().toISOString(),type:"trip",tripContent:C};Yt(w=>[...w,T]),$l(!1)},Xo=(j,C)=>{if(!d)return;const T={id:Ye(),authorId:d.id,text:C,timestamp:new Date().toISOString(),type:"note",replyToId:j};Yt(w=>[T,...w])},hs=()=>{va(null),Jl(!0)},Qo=j=>{va(j),Jl(!0)},Ko=(j,C)=>{ae(C?T=>T.map(w=>w.id===C?{...j,id:C}:w):T=>[...T,{...j,id:Ye()}]),Jl(!1),va(null)},$o=j=>{ae(C=>C.filter(T=>T.id!==j)),O(C=>C.filter(T=>T.projectId!==j))},Fo=(j,C)=>{const T={id:Ye(),projectId:j,text:C,status:"todo"};O(w=>[...w,T])},Jo=(j,C,T)=>{O(w=>w.map(W=>W.id===j?{...W,status:C,text:T??W.text}:W))},Ni=j=>{O(C=>C.filter(T=>T.id!==j))},Wo=(j,C)=>{const T=C.map(w=>({id:Ye(),projectId:j,text:w,status:"todo"}));O(w=>[...w,...T])},Po=j=>{se(C=>{const T=C.findIndex(w=>w.id===j.id);if(T>-1){const w=[...C];return w[T]=j,w}else return[...C,{...j,id:Ye()}]})},ec=j=>{se(C=>C.filter(T=>T.id!==j))},tc=(j,C,T)=>{if(T)b(w=>w.map(W=>W.id===T?{...W,title:j,icon:C}:W));else{const w={id:Ye(),title:j,icon:C,items:[],ownerId:d.id,isShared:!1};b(W=>[...W,w])}},xs=j=>{b(C=>C.filter(T=>T.id!==j))},ac=j=>{b(C=>C.map(T=>T.id===j&&T.ownerId===(d==null?void 0:d.id)?{...T,isShared:!T.isShared}:T))},lc=(j,C)=>{const T={id:Ye(),text:C,completed:!1};b(w=>w.map(W=>W.id===j?{...W,items:[...W.items,T]}:W))},nc=(j,C,T,w)=>{b(W=>W.map(je=>je.id===j?{...je,items:je.items.map(Ce=>Ce.id===C?{...Ce,text:T,completed:w,completedBy:w?d.id:void 0}:Ce)}:je))},yi=(j,C)=>{b(T=>T.map(w=>w.id===j?{...w,items:w.items.filter(W=>W.id!==C)}:w))},sc=(j,C)=>{ee(C?T=>T.map(w=>w.id===C?{...j,id:C,subjectIds:w.subjectIds}:w):T=>[...T,{...j,id:Ye(),subjectIds:[]}])},ic=j=>{const C=Q.find(T=>T.id===j);C&&(de(T=>T.map(w=>C.subjectIds.includes(w.id)?{...w,status:"pendiente"}:w)),ee(T=>T.filter(w=>w.id!==j)))},oc=(j,C)=>{de(C?T=>T.map(w=>w.id===C?{...j,id:C}:w):T=>[...T,{...j,id:Ye()}])},cc=j=>{ee(C=>C.map(T=>({...T,subjectIds:T.subjectIds.filter(w=>w!==j)}))),de(C=>C.filter(T=>T.id!==j).map(T=>({...T,prerequisiteIds:T.prerequisiteIds.filter(w=>w!==j)}))),Ne(C=>C.filter(T=>T.subjectId!==j))},ps=(j,C)=>{Ne(C?T=>T.map(w=>w.id===C?{...j,id:C}:w):T=>[...T,{...j,id:Ye()}])},rc=j=>{Ne(C=>C.filter(T=>T.id!==j))},uc=(j,C)=>{ee(T=>T.map(w=>w.id===C?{...w,subjectIds:[...w.subjectIds,j]}:w)),de(T=>T.map(w=>w.id===j?{...w,status:"cursando"}:w))},dc=(j,C)=>{ee(T=>T.map(w=>w.id===C?{...w,subjectIds:w.subjectIds.filter(W=>W!==j)}:w)),de(T=>T.map(w=>w.id===j?{...w,status:"pendiente"}:w))},mc=j=>{if(!d||!re)return;const C={id:Ye(),authorId:d.id,text:`${d.name} ha actualizado una materia.`,timestamp:new Date().toISOString(),type:"subject_update",subjectUpdateContent:{subjectName:j.name,newStatus:j.status,finalGrade:j.finalGrade}};Yt(T=>[C,...T]),Xe({type:"new_partner_note",title:"Progreso Académico Compartido",message:`${d.name} actualizó el estado de ${j.name}.`})},_l=(j,C,T=null)=>{let w;const W=le.map(je=>je.id===j?(w={...je,status:C,finalGrade:C==="aprobada"?T:null},w):je);if(de(W),re&&w&&(C==="aprobada"||C==="recursar")){const je=C==="aprobada"?"aprobado":"puesto a recursar";Gt({isOpen:!0,title:`${C==="aprobada"?"¡Felicitaciones!":"Actualización Académica"} - Compartir`,message:`¿Quieres compartir con ${re.name} que has ${je} "${w.name}"?`,onConfirm:()=>mc(w),confirmText:"Sí, compartir",cancelText:"No, gracias"})}},Al=j=>{en(j),Pn(!0)},fc=j=>{ja(j),ga(!0)},Si=j=>{if(Ot&&(ps({...Ot,grade:j},Ot.id),Ot.type==="final"&&j!==null&&j>=4)){const T=le.find(w=>w.id===Ot.subjectId);T&&T.status!=="aprobada"&&_l(T.id,"aprobada",j)}ga(!1),ja(null)},gs=j=>{Na(C=>C.map(T=>T.id===j?{...T,read:!0}:T))},wi=()=>{Na(j=>j.map(C=>({...C,read:!0})))},xn=x.useCallback(j=>{switch(window.focus(),j.type){case"event_reminder":if(j.relatedId){const C=ta.find(T=>T.id===j.relatedId);C&&(ut(C.isAcademic?"academic":"planner"),ya("Personal"),_(new Date(C.date+"T00:00:00Z")))}break;case"daily_reflection_prompt":ut("planner"),ya("Personal"),_(new Date);break;case"pairing_request":case"new_partner_note":case"new_shared_reflection":case"new_shared_emotion":case"new_shared_trip":re?(ut("planner"),ya("Pareja")):pa(!0);break;case"new_qa_question":ut("planner"),ya("Pareja");break}gs(j.id),ln(!1)},[ta,re]),Xe=x.useCallback(j=>{if(jl&&j.type!=="generic")return;const C={...j,id:Ye(),timestamp:new Date().toISOString(),read:!1};j.type!=="generic"&&Na(T=>[C,...T].slice(0,50)),tn(T=>[...T,C]),j.type!=="generic"&&ts(C.title,{body:C.message,tag:C.relatedId||C.id},()=>xn(C))},[jl,Na,ts,xn]);x.useEffect(()=>{const C=setInterval(()=>{const T=new Date,w=new Date(T.getTime()+15*6e4);ta.forEach(W=>{if(W.reminder&&!as.includes(W.id)){const je=new Date(`${W.date}T${W.time}:00`);if(je<=w&&je>T){const Ce=Math.round((je.getTime()-T.getTime())/6e4);Xe({type:"event_reminder",title:`Recordatorio: ${W.title}`,message:`Tu evento ${W.routineId?"(de rutina) ":""}empieza en ${Ce} minutos.`,relatedId:W.id,data:{date:W.date}}),zt($e=>[...$e,W.id])}}})},6e4);return()=>clearInterval(C)},[ta,as,Xe,zt]),x.useEffect(()=>{const C=setInterval(()=>{const T=new Date,w=T.toISOString().split("T")[0];T.getHours()===20&&We!==w&&(ie.some(je=>je.date===w)||(Xe({type:"daily_reflection_prompt",title:"¿Cómo fue tu día?",message:"Tómate un momento para tu reflexión diaria. Ayuda a despejar la mente.",data:{date:w}}),rt(w)))},18e5);return()=>clearInterval(C)},[ie,We,Xe,rt]),x.useEffect(()=>{if(!d)return;f.filter(C=>C.toUserId===d.id&&C.status==="pending").forEach(C=>{if(!an.some(w=>w.relatedId===C.id&&w.type==="pairing_request")){const w=g.find(W=>W.id===C.fromUserId);Xe({type:"pairing_request",title:"Nueva Solicitud de Conexión",message:`${(w==null?void 0:w.name)||"Alguien"} quiere conectar contigo.`,relatedId:C.id})}})},[f,d,g,an,Xe]);const aa=x.useRef(null),pn=x.useRef(null),gn=x.useRef(null);x.useEffect(()=>{if(re){const j=[...oa].filter(w=>w.authorId===re.id).sort((w,W)=>new Date(W.timestamp).getTime()-new Date(w.timestamp).getTime())[0];aa.current=(j==null?void 0:j.timestamp)||null;const C=[...Tt].filter(w=>w.emotions[re.id]).sort((w,W)=>new Date(W.date).getTime()-new Date(w.date).getTime())[0];pn.current=(C==null?void 0:C.date)||null;const T=[...St].filter(w=>w.askerId===re.id).sort((w,W)=>new Date(W.askedAt).getTime()-new Date(w.askedAt).getTime())[0];gn.current=(T==null?void 0:T.id)||null}},[re,oa,Tt,St]),x.useEffect(()=>{if(!re)return;const j=[...oa].filter(C=>C.authorId===re.id).sort((C,T)=>new Date(T.timestamp).getTime()-new Date(C.timestamp).getTime())[0];j&&j.timestamp!==aa.current&&(aa.current!==null&&(j.type==="reflection"?Xe({type:"new_shared_reflection",title:"Nueva Reflexión",message:`${re.name} ha compartido una reflexión.`}):j.type==="trip"?Xe({type:"new_shared_trip",title:"Nuevo Viaje Compartido",message:`${re.name} ha compartido un viaje.`}):Xe({type:"new_partner_note",title:"Nueva Nota",message:`${re.name} te ha dejado una nota.`})),aa.current=j.timestamp)},[oa,re,Xe]),x.useEffect(()=>{if(!re)return;const j=[...Tt].filter(C=>C.emotions[re.id]).sort((C,T)=>new Date(T.date).getTime()-new Date(C.date).getTime())[0];j&&j.date!==pn.current&&(pn.current!==null&&Xe({type:"new_shared_emotion",title:"Nuevo Estado Emocional",message:`${re.name} ha compartido cómo se siente.`}),pn.current=j.date)},[Tt,re,Xe]),x.useEffect(()=>{if(!re)return;const j=[...St].filter(C=>C.askerId===re.id&&!C.answer).sort((C,T)=>new Date(T.askedAt).getTime()-new Date(C.askedAt).getTime())[0];j&&j.id!==gn.current&&(gn.current!==null&&Xe({type:"new_qa_question",title:"Nueva Pregunta",message:`${re.name} te ha hecho una pregunta.`}),gn.current=j.id)},[St,re,Xe]);const hc=()=>{ut("planner"),ya("Pareja")};if(o)return l.jsx(dp,{});if(!d)return l.jsx(z1,{onLogin:qt,onCreateUser:rs});const Ei=z.toISOString().split("T")[0],Ti=ie.find(j=>j.date===Ei);return l.jsxs(l.Fragment,{children:[l.jsx("style",{children:`
        .draggable-summary:active {
          cursor: grabbing;
          transform: scale(1.01);
          z-index: 10;
          box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
      `}),l.jsx(x1,{toastNotifications:Uo,setToastNotifications:tn}),l.jsxs("div",{className:"min-h-screen font-sans",children:[l.jsx("div",{children:l.jsx(M1,{user:d,onLogout:El,onManagePairing:()=>pa(!0),onManagePin:()=>Jn(!0),notifications:an,onMarkAsRead:gs,onMarkAllAsRead:wi,onNotificationClick:xn,isMuted:jl,onToggleMute:()=>ln(j=>!j),onNavigateToPlanner:()=>ut("planner"),onNavigateToTravelLog:()=>ut("travel"),onNavigateToGoals:()=>ut("goals"),onNavigateToHome:()=>ut("home"),onNavigateToAcademic:()=>ut("academic"),activeSection:Nt,onStartTour:()=>sn(!0)})}),l.jsxs("main",{className:"max-w-7xl mx-auto p-2 sm:p-6 lg:p-8",children:[Nt==="planner"&&l.jsxs(l.Fragment,{children:[re&&l.jsx("div",{id:"couple-space-tab",className:"mb-6 border-b border-zinc-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-4 sm:space-x-8","aria-label":"Tabs",children:[l.jsx("button",{onClick:()=>ya("Personal"),className:`${nn==="Personal"?"border-teal-500 text-teal-600":"border-transparent text-zinc-500 hover:text-zinc-700 hover:border-zinc-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Planificador Personal"}),l.jsx("button",{onClick:()=>ya("Pareja"),className:`${nn==="Pareja"?"border-teal-500 text-teal-600":"border-transparent text-zinc-500 hover:text-zinc-700 hover:border-zinc-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Espacio de Conexiones"})]})}),nn==="Personal"||!re?l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-8",children:[l.jsx("div",{className:"xl:col-span-3 space-y-8",children:(()=>{const j={schedule:l.jsx("div",{id:"schedule-panel",className:"bg-white p-4 sm:p-6 rounded-xl shadow-md",children:l.jsx(i1,{selectedDate:z,events:ta,exams:xe,subjects:le,onAddEvent:dn,onEditEvent:mn,onDeleteEvent:Ca,onManageRoutines:()=>gl(!0),onToggleEventCompletion:fn})}),reflection:l.jsx("div",{id:"reflection-panel",children:l.jsx(e2,{journalEntries:ie,currentJournalEntry:Ti,selectedDate:z,onSave:Cl,onOpenHistory:()=>li(!0),onOpenShareModal:hn,partner:re})}),partnerNotes:re?l.jsx($1,{partner:re,partnerNotes:oa,sharedEmotionStates:Tt,onNavigate:hc}):null};return Sa.filter(T=>j[T]).map((T,w)=>l.jsxs("div",{draggable:!0,onDragStart:()=>yl.current=w,onDragEnter:()=>Sl.current=w,onDragEnd:hi,onDragOver:W=>W.preventDefault(),className:"draggable-summary group relative cursor-grab transition-transform",children:[l.jsx("div",{className:"absolute top-3 right-3 p-1 bg-white/50 rounded-md text-zinc-400 opacity-0 group-hover:opacity-100 transition-opacity z-10",title:"Arrastrar para reordenar",children:l.jsx(rh,{className:"w-5 h-5"})}),j[T]]},T))})()}),l.jsxs("div",{id:"summary-column",className:"xl:col-span-2 space-y-8",children:[l.jsx("div",{id:"calendar-view",className:"bg-white p-4 sm:p-6 rounded-xl shadow-md",children:l.jsx(Wx,{currentDate:N,setCurrentDate:h,selectedDate:z,onDateSelect:_,events:ta,onOpenPrintView:()=>Kl(!0)})}),(()=>{const j={home:l.jsx(up,{shoppingLists:gi,onNavigate:()=>ut("home")}),academic:l.jsx(Hp,{subjects:le,exams:xe,semesters:Q,onNavigate:()=>ut("academic")}),goals:l.jsx(ap,{projects:Ve,tasks:E,onNavigate:()=>ut("goals")})};return Za.filter(T=>j[T]).map((T,w)=>l.jsxs("div",{draggable:!0,onDragStart:()=>Wt.current=w,onDragEnter:()=>Pt.current=w,onDragEnd:fi,onDragOver:W=>W.preventDefault(),className:"draggable-summary group relative cursor-grab transition-transform",children:[l.jsx("div",{className:"absolute top-3 right-3 p-1 bg-white/50 rounded-md text-zinc-400 opacity-0 group-hover:opacity-100 transition-opacity z-10",title:"Arrastrar para reordenar",children:l.jsx(rh,{className:"w-5 h-5"})}),j[T]]},T))})()]})]}):null,nn==="Pareja"&&re&&Ta&&l.jsx(Q1,{currentUser:d,partner:re,qaSessions:St,setQaSessions:cs,partnerNotes:oa,setPartnerNotes:Yt,sharedEmotionStates:Tt,setSharedEmotionStates:vi,onOpenEmotionLog:()=>Ql(!0),onAddReply:Xo})]}),Nt==="travel"&&l.jsx(m2,{trips:te,onSaveTrip:Po,onDeleteTrip:ec,onOpenShareModal:Vo,pairedUser:re,onStartTour:()=>ia(!0)}),Nt==="academic"&&l.jsx(Ip,{semesters:Q,subjects:le,exams:xe,onSaveSemester:sc,onDeleteSemester:ic,onSaveSubject:oc,onDeleteSubject:cc,onSaveExam:ps,onDeleteExam:rc,onAssignSubject:uc,onUnassignSubject:dc,onUpdateSubjectStatusAndGrade:_l,onPromptForGrade:Al,onStartTour:()=>cn(!0)}),Nt==="goals"&&l.jsx(J2,{projects:Ve,tasks:E,onAddProject:hs,onEditProject:Qo,onDeleteProject:$o,onAddTask:Fo,onUpdateTask:Jo,onDeleteTask:Ni,onAddMultipleTasks:Wo,onStartTour:()=>pt(!0)}),Nt==="home"&&l.jsx(cp,{shoppingLists:gi,onSaveList:tc,onDeleteList:xs,onAddItem:lc,onUpdateItem:nc,onDeleteItem:yi,onToggleShareList:ac,currentUser:d,pairedUser:re,onStartTour:()=>Xa(!0)})]})]}),l.jsx(H2,{isOpen:Fn,onClose:()=>Kl(!1),events:ta,initialDate:N}),l.jsx(r1,{isOpen:ct,onClose:ds,onSave:gt,event:it,selectedDate:z}),l.jsx(m1,{isOpen:pl,onClose:()=>{ha(!1),Wl(null)},onSave:ms,routineToEdit:Io}),l.jsx(L2,{isOpen:Kn,onClose:()=>gl(!1),routines:we,onCreate:Tl,onEdit:qo,onDelete:fs}),l.jsx(ep,{isOpen:Fl,onClose:()=>{Jl(!1),va(null)},onSave:Ko,projectToEdit:Pl}),l.jsx(R1,{isOpen:xa,onClose:()=>pa(!1),currentUser:d,pairedUser:re,users:g,requests:f,onSendRequest:us,onRespondToRequest:un,onUnpair:bi}),l.jsx(T2,{isOpen:$n,onClose:()=>li(!1),journalEntries:ie}),re&&l.jsx(D2,{isOpen:ni,onClose:()=>Ql(!1),sharedEmotionStates:Tt,currentUser:d,partner:re}),l.jsx(Qp,{isOpen:Ro,onClose:()=>Jn(!1),onSave:ca,currentUser:d}),l.jsx(g2,{isOpen:jt,onClose:()=>Wn(!1),reflection:qa,onShareWithPartner:ji,partnerName:re==null?void 0:re.name}),l.jsx(S2,{isOpen:si,onClose:()=>$l(!1),trip:Va,onShareWithPartner:Zo,partnerName:re==null?void 0:re.name}),l.jsx(Gp,{isOpen:ii,onClose:()=>{Pn(!1),en(null)},onSave:j=>{bl&&_l(bl.id,"aprobada",j),Pn(!1),en(null)},subjectName:(bl==null?void 0:bl.name)||""}),l.jsx(qp,{isOpen:ko,onClose:()=>{ga(!1),ja(null)},onSave:Si,exam:Ot,subjectName:((Qa=le.find(j=>j.id===(Ot==null?void 0:Ot.subjectId)))==null?void 0:Qa.name)||""}),(Ze==null?void 0:Ze.isOpen)&&l.jsx(Zp,{isOpen:Ze.isOpen,onClose:()=>Gt(null),onConfirm:()=>{Ze.onConfirm(),Gt(null)},title:Ze.title,message:Ze.message,confirmText:Ze.confirmText,cancelText:Ze.cancelText}),l.jsx(ai,{isOpen:ci,onClose:()=>{sn(!1),Ho(!0)},steps:Go}),l.jsx(ai,{isOpen:mi,onClose:()=>{Xa(!1),on(!0)},steps:xi}),l.jsx(ai,{isOpen:Bo,onClose:()=>{pt(!1),ea(!0)},steps:pi}),l.jsx(ai,{isOpen:ss,onClose:()=>{cn(!1),ui(!0)},steps:os}),l.jsx(ai,{isOpen:is,onClose:()=>{ia(!1),ns(!0)},steps:Yo})]})}const ph=document.getElementById("root");if(!ph)throw new Error("Could not find root element to mount to");const Fp=Kx.createRoot(ph);Fp.render(l.jsx(dh.StrictMode,{children:l.jsx($p,{})}));
