(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(d){if(d.ep)return;d.ep=!0;const f=o(d);fetch(d.href,f)}})();function Ph(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bc={exports:{}},Ss={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function Jx(){if(Rp)return Ss;Rp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,d,f){var m=null;if(f!==void 0&&(m=""+f),d.key!==void 0&&(m=""+d.key),"key"in d){f={};for(var x in d)x!=="key"&&(f[x]=d[x])}else f=d;return d=f.ref,{$$typeof:n,type:l,key:m,ref:d!==void 0?d:null,props:f}}return Ss.Fragment=e,Ss.jsx=o,Ss.jsxs=o,Ss}var kp;function Kx(){return kp||(kp=1,Bc.exports=Jx()),Bc.exports}var u=Kx(),Gc={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function Zx(){if(Ip)return Te;Ip=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),S=Symbol.iterator;function N(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,O={};function E(k,W,ne){this.props=k,this.context=W,this.refs=O,this.updater=ne||w}E.prototype.isReactComponent={},E.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},E.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function P(){}P.prototype=E.prototype;function L(k,W,ne){this.props=k,this.context=W,this.refs=O,this.updater=ne||w}var I=L.prototype=new P;I.constructor=L,_(I,E.prototype),I.isPureReactComponent=!0;var F=Array.isArray;function K(){}var J={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function $(k,W,ne){var ae=ne.ref;return{$$typeof:n,type:k,key:W,ref:ae!==void 0?ae:null,props:ne}}function re(k,W){return $(k.type,W,k.props)}function ue(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function te(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ne){return W[ne]})}var ge=/\/+/g;function He(k,W){return typeof k=="object"&&k!==null&&k.key!=null?te(""+k.key):W.toString(36)}function se(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(K,K):(k.status="pending",k.then(function(W){k.status==="pending"&&(k.status="fulfilled",k.value=W)},function(W){k.status==="pending"&&(k.status="rejected",k.reason=W)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function R(k,W,ne,ae,xe){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var Ne=!1;if(k===null)Ne=!0;else switch(Ce){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(k.$$typeof){case n:case e:Ne=!0;break;case y:return Ne=k._init,R(Ne(k._payload),W,ne,ae,xe)}}if(Ne)return xe=xe(k),Ne=ae===""?"."+He(k,0):ae,F(xe)?(ne="",Ne!=null&&(ne=Ne.replace(ge,"$&/")+"/"),R(xe,W,ne,"",function(Ei){return Ei})):xe!=null&&(ue(xe)&&(xe=re(xe,ne+(xe.key==null||k&&k.key===xe.key?"":(""+xe.key).replace(ge,"$&/")+"/")+Ne)),W.push(xe)),1;Ne=0;var ft=ae===""?".":ae+":";if(F(k))for(var Ge=0;Ge<k.length;Ge++)ae=k[Ge],Ce=ft+He(ae,Ge),Ne+=R(ae,W,ne,Ce,xe);else if(Ge=N(k),typeof Ge=="function")for(k=Ge.call(k),Ge=0;!(ae=k.next()).done;)ae=ae.value,Ce=ft+He(ae,Ge++),Ne+=R(ae,W,ne,Ce,xe);else if(Ce==="object"){if(typeof k.then=="function")return R(se(k),W,ne,ae,xe);throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function q(k,W,ne){if(k==null)return k;var ae=[],xe=0;return R(k,ae,"","",function(Ce){return W.call(ne,Ce,xe++)}),ae}function ie(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(ne){(k._status===0||k._status===-1)&&(k._status=1,k._result=ne)},function(ne){(k._status===0||k._status===-1)&&(k._status=2,k._result=ne)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var ce=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ye={map:q,forEach:function(k,W,ne){q(k,function(){W.apply(this,arguments)},ne)},count:function(k){var W=0;return q(k,function(){W++}),W},toArray:function(k){return q(k,function(W){return W})||[]},only:function(k){if(!ue(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Te.Activity=C,Te.Children=ye,Te.Component=E,Te.Fragment=o,Te.Profiler=d,Te.PureComponent=L,Te.StrictMode=l,Te.Suspense=v,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Te.__COMPILER_RUNTIME={__proto__:null,c:function(k){return J.H.useMemoCache(k)}},Te.cache=function(k){return function(){return k.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(k,W,ne){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ae=_({},k.props),xe=k.key;if(W!=null)for(Ce in W.key!==void 0&&(xe=""+W.key),W)!oe.call(W,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&W.ref===void 0||(ae[Ce]=W[Ce]);var Ce=arguments.length-2;if(Ce===1)ae.children=ne;else if(1<Ce){for(var Ne=Array(Ce),ft=0;ft<Ce;ft++)Ne[ft]=arguments[ft+2];ae.children=Ne}return $(k.type,xe,ae)},Te.createContext=function(k){return k={$$typeof:m,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:f,_context:k},k},Te.createElement=function(k,W,ne){var ae,xe={},Ce=null;if(W!=null)for(ae in W.key!==void 0&&(Ce=""+W.key),W)oe.call(W,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(xe[ae]=W[ae]);var Ne=arguments.length-2;if(Ne===1)xe.children=ne;else if(1<Ne){for(var ft=Array(Ne),Ge=0;Ge<Ne;Ge++)ft[Ge]=arguments[Ge+2];xe.children=ft}if(k&&k.defaultProps)for(ae in Ne=k.defaultProps,Ne)xe[ae]===void 0&&(xe[ae]=Ne[ae]);return $(k,Ce,xe)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(k){return{$$typeof:x,render:k}},Te.isValidElement=ue,Te.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:ie}},Te.memo=function(k,W){return{$$typeof:g,type:k,compare:W===void 0?null:W}},Te.startTransition=function(k){var W=J.T,ne={};J.T=ne;try{var ae=k(),xe=J.S;xe!==null&&xe(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(K,ce)}catch(Ce){ce(Ce)}finally{W!==null&&ne.types!==null&&(W.types=ne.types),J.T=W}},Te.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Te.use=function(k){return J.H.use(k)},Te.useActionState=function(k,W,ne){return J.H.useActionState(k,W,ne)},Te.useCallback=function(k,W){return J.H.useCallback(k,W)},Te.useContext=function(k){return J.H.useContext(k)},Te.useDebugValue=function(){},Te.useDeferredValue=function(k,W){return J.H.useDeferredValue(k,W)},Te.useEffect=function(k,W){return J.H.useEffect(k,W)},Te.useEffectEvent=function(k){return J.H.useEffectEvent(k)},Te.useId=function(){return J.H.useId()},Te.useImperativeHandle=function(k,W,ne){return J.H.useImperativeHandle(k,W,ne)},Te.useInsertionEffect=function(k,W){return J.H.useInsertionEffect(k,W)},Te.useLayoutEffect=function(k,W){return J.H.useLayoutEffect(k,W)},Te.useMemo=function(k,W){return J.H.useMemo(k,W)},Te.useOptimistic=function(k,W){return J.H.useOptimistic(k,W)},Te.useReducer=function(k,W,ne){return J.H.useReducer(k,W,ne)},Te.useRef=function(k){return J.H.useRef(k)},Te.useState=function(k){return J.H.useState(k)},Te.useSyncExternalStore=function(k,W,ne){return J.H.useSyncExternalStore(k,W,ne)},Te.useTransition=function(){return J.H.useTransition()},Te.version="19.2.0",Te}var jp;function ud(){return jp||(jp=1,Gc.exports=Zx()),Gc.exports}var A=ud();const qh=Ph(A);var Fc={exports:{}},bs={},Oc={exports:{}},Yc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function Xx(){return Lp||(Lp=1,(function(n){function e(R,q){var ie=R.length;R.push(q);e:for(;0<ie;){var ce=ie-1>>>1,ye=R[ce];if(0<d(ye,q))R[ce]=q,R[ie]=ye,ie=ce;else break e}}function o(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var q=R[0],ie=R.pop();if(ie!==q){R[0]=ie;e:for(var ce=0,ye=R.length,k=ye>>>1;ce<k;){var W=2*(ce+1)-1,ne=R[W],ae=W+1,xe=R[ae];if(0>d(ne,ie))ae<ye&&0>d(xe,ne)?(R[ce]=xe,R[ae]=ie,ce=ae):(R[ce]=ne,R[W]=ie,ce=W);else if(ae<ye&&0>d(xe,ie))R[ce]=xe,R[ae]=ie,ce=ae;else break e}}return q}function d(R,q){var ie=R.sortIndex-q.sortIndex;return ie!==0?ie:R.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,x=m.now();n.unstable_now=function(){return m.now()-x}}var v=[],g=[],y=1,C=null,S=3,N=!1,w=!1,_=!1,O=!1,E=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function I(R){for(var q=o(g);q!==null;){if(q.callback===null)l(g);else if(q.startTime<=R)l(g),q.sortIndex=q.expirationTime,e(v,q);else break;q=o(g)}}function F(R){if(_=!1,I(R),!w)if(o(v)!==null)w=!0,K||(K=!0,te());else{var q=o(g);q!==null&&se(F,q.startTime-R)}}var K=!1,J=-1,oe=5,$=-1;function re(){return O?!0:!(n.unstable_now()-$<oe)}function ue(){if(O=!1,K){var R=n.unstable_now();$=R;var q=!0;try{e:{w=!1,_&&(_=!1,P(J),J=-1),N=!0;var ie=S;try{t:{for(I(R),C=o(v);C!==null&&!(C.expirationTime>R&&re());){var ce=C.callback;if(typeof ce=="function"){C.callback=null,S=C.priorityLevel;var ye=ce(C.expirationTime<=R);if(R=n.unstable_now(),typeof ye=="function"){C.callback=ye,I(R),q=!0;break t}C===o(v)&&l(v),I(R)}else l(v);C=o(v)}if(C!==null)q=!0;else{var k=o(g);k!==null&&se(F,k.startTime-R),q=!1}}break e}finally{C=null,S=ie,N=!1}q=void 0}}finally{q?te():K=!1}}}var te;if(typeof L=="function")te=function(){L(ue)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,He=ge.port2;ge.port1.onmessage=ue,te=function(){He.postMessage(null)}}else te=function(){E(ue,0)};function se(R,q){J=E(function(){R(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(R){switch(S){case 1:case 2:case 3:var q=3;break;default:q=S}var ie=S;S=q;try{return R()}finally{S=ie}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(R,q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ie=S;S=R;try{return q()}finally{S=ie}},n.unstable_scheduleCallback=function(R,q,ie){var ce=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ce+ie:ce):ie=ce,R){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=ie+ye,R={id:y++,callback:q,priorityLevel:R,startTime:ie,expirationTime:ye,sortIndex:-1},ie>ce?(R.sortIndex=ie,e(g,R),o(v)===null&&R===o(g)&&(_?(P(J),J=-1):_=!0,se(F,ie-ce))):(R.sortIndex=ye,e(v,R),w||N||(w=!0,K||(K=!0,te()))),R},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(R){var q=S;return function(){var ie=S;S=q;try{return R.apply(this,arguments)}finally{S=ie}}}})(Yc)),Yc}var zp;function Qx(){return zp||(zp=1,Oc.exports=Xx()),Oc.exports}var $c={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function Wx(){if(Up)return bt;Up=1;var n=ud();function e(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(v,g,y){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:C==null?null:""+C,children:v,containerInfo:g,implementation:y}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,bt.createPortal=function(v,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return f(v,g,null,y)},bt.flushSync=function(v){var g=m.T,y=l.p;try{if(m.T=null,l.p=2,v)return v()}finally{m.T=g,l.p=y,l.d.f()}},bt.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(v,g))},bt.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},bt.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var y=g.as,C=x(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?l.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:C,integrity:S,fetchPriority:N}):y==="script"&&l.d.X(v,{crossOrigin:C,integrity:S,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bt.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=x(g.as,g.crossOrigin);l.d.M(v,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(v)},bt.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,C=x(y,g.crossOrigin);l.d.L(v,y,{crossOrigin:C,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bt.preloadModule=function(v,g){if(typeof v=="string")if(g){var y=x(g.as,g.crossOrigin);l.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(v)},bt.requestFormReset=function(v){l.d.r(v)},bt.unstable_batchedUpdates=function(v,g){return v(g)},bt.useFormState=function(v,g,y){return m.H.useFormState(v,g,y)},bt.useFormStatus=function(){return m.H.useHostTransitionStatus()},bt.version="19.2.0",bt}var Vp;function ev(){if(Vp)return $c.exports;Vp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$c.exports=Wx(),$c.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function tv(){if(Pp)return bs;Pp=1;var n=Qx(),e=ud(),o=ev();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function x(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function v(t){if(f(t)!==t)throw Error(l(188))}function g(t){var i=t.alternate;if(!i){if(i=f(t),i===null)throw Error(l(188));return i!==t?null:t}for(var s=t,c=i;;){var p=s.return;if(p===null)break;var h=p.alternate;if(h===null){if(c=p.return,c!==null){s=c;continue}break}if(p.child===h.child){for(h=p.child;h;){if(h===s)return v(p),t;if(h===c)return v(p),i;h=h.sibling}throw Error(l(188))}if(s.return!==c.return)s=p,c=h;else{for(var T=!1,b=p.child;b;){if(b===s){T=!0,s=p,c=h;break}if(b===c){T=!0,c=p,s=h;break}b=b.sibling}if(!T){for(b=h.child;b;){if(b===s){T=!0,s=h,c=p;break}if(b===c){T=!0,c=h,s=p;break}b=b.sibling}if(!T)throw Error(l(189))}}if(s.alternate!==c)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var C=Object.assign,S=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),L=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function te(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Symbol.for("react.client.reference");function He(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ge?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case E:return"Profiler";case O:return"StrictMode";case F:return"Suspense";case K:return"SuspenseList";case $:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case L:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case I:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return i=t.displayName||null,i!==null?i:He(t.type)||"Memo";case oe:i=t._payload,t=t._init;try{return He(t(i))}catch{}}return null}var se=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ce=[],ye=-1;function k(t){return{current:t}}function W(t){0>ye||(t.current=ce[ye],ce[ye]=null,ye--)}function ne(t,i){ye++,ce[ye]=t.current,t.current=i}var ae=k(null),xe=k(null),Ce=k(null),Ne=k(null);function ft(t,i){switch(ne(Ce,i),ne(xe,t),ne(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?ep(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=ep(i),t=tp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ae),ne(ae,t)}function Ge(){W(ae),W(xe),W(Ce)}function Ei(t){t.memoizedState!==null&&ne(Ne,t);var i=ae.current,s=tp(i,t.type);i!==s&&(ne(xe,t),ne(ae,s))}function Sn(t){xe.current===t&&(W(ae),W(xe)),Ne.current===t&&(W(Ne),vs._currentValue=ie)}var xl,Mi;function bn(t){if(xl===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);xl=i&&i[1]||"",Mi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xl+t+Mi}var Nn=!1;function vl(t,i){if(!t||Nn)return"";Nn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Z){var Y=Z}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Z){Y=Z}t.call(ee.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),T=h[0],b=h[1];if(T&&b){var M=T.split(`
`),G=b.split(`
`);for(p=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(c===M.length||p===G.length)for(c=M.length-1,p=G.length-1;1<=c&&0<=p&&M[c]!==G[p];)p--;for(;1<=c&&0<=p;c--,p--)if(M[c]!==G[p]){if(c!==1||p!==1)do if(c--,p--,0>p||M[c]!==G[p]){var X=`
`+M[c].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=c&&0<=p);break}}}finally{Nn=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?bn(s):""}function _s(t,i){switch(t.tag){case 26:case 27:case 5:return bn(t.type);case 16:return bn("Lazy");case 13:return t.child!==i&&i!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return vl(t.type,!1);case 11:return vl(t.type.render,!1);case 1:return vl(t.type,!0);case 31:return bn("Activity");default:return""}}function Ds(t){try{var i="",s=null;do i+=_s(t,s),s=t,t=t.return;while(t);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ao=Object.prototype.hasOwnProperty,yl=n.unstable_scheduleCallback,ro=n.unstable_cancelCallback,hr=n.unstable_shouldYield,Cl=n.unstable_requestPaint,Et=n.unstable_now,Tl=n.unstable_getCurrentPriorityLevel,Rs=n.unstable_ImmediatePriority,uo=n.unstable_UserBlockingPriority,co=n.unstable_NormalPriority,fo=n.unstable_LowPriority,ks=n.unstable_IdlePriority,Sl=n.log,gr=n.unstable_setDisableYieldValue,wn=null,Ke=null;function Yt(t){if(typeof Sl=="function"&&gr(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(wn,t)}catch{}}var ct=Math.clz32?Math.clz32:mo,bl=Math.log,xr=Math.LN2;function mo(t){return t>>>=0,t===0?32:31-(bl(t)/xr|0)|0}var po=256,En=262144,Wn=4194304;function Mn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ei(t,i,s){var c=t.pendingLanes;if(c===0)return 0;var p=0,h=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var b=c&134217727;return b!==0?(c=b&~h,c!==0?p=Mn(c):(T&=b,T!==0?p=Mn(T):s||(s=b&~t,s!==0&&(p=Mn(s))))):(b=c&~h,b!==0?p=Mn(b):T!==0?p=Mn(T):s||(s=c&~t,s!==0&&(p=Mn(s)))),p===0?0:i!==0&&i!==p&&(i&h)===0&&(h=p&-p,s=i&-i,h>=s||h===32&&(s&4194048)!==0)?i:p}function Ai(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function _i(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var t=Wn;return Wn<<=1,(Wn&62914560)===0&&(Wn=4194304),t}function Ut(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function An(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vr(t,i,s,c,p,h){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,M=t.expirationTimes,G=t.hiddenUpdates;for(s=T&~s;0<s;){var X=31-ct(s),ee=1<<X;b[X]=0,M[X]=-1;var Y=G[X];if(Y!==null)for(G[X]=null,X=0;X<Y.length;X++){var Z=Y[X];Z!==null&&(Z.lane&=-536870913)}s&=~ee}c!==0&&go(t,c,0),h!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=h&~(T&~i))}function go(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-ct(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|s&261930}function xo(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var c=31-ct(s),p=1<<c;p&i|t[c]&i&&(t[c]|=i),s&=~p}}function _n(t,i){var s=i&-i;return s=(s&42)!==0?1:Di(s),(s&(t.suspendedLanes|i))!==0?0:s}function Di(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nl(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:Np(t.type))}function wl(t,i){var s=q.p;try{return q.p=t,i()}finally{q.p=s}}var Vt=Math.random().toString(36).slice(2),nt="__reactFiber$"+Vt,mt="__reactProps$"+Vt,Mt="__reactContainer$"+Vt,pt="__reactEvents$"+Vt,yo="__reactListeners$"+Vt,Dn="__reactHandles$"+Vt,Is="__reactResources$"+Vt,ti="__reactMarker$"+Vt;function El(t){delete t[nt],delete t[mt],delete t[pt],delete t[yo],delete t[Dn]}function on(t){var i=t[nt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Mt]||s[nt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=rp(t);t!==null;){if(s=t[nt])return s;t=rp(t)}return i}t=s,s=t.parentNode}return null}function ln(t){if(t=t[nt]||t[Mt]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Ri(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function Rn(t){var i=t[Is];return i||(i=t[Is]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function it(t){t[ti]=!0}var ki=new Set,Ii={};function kn(t,i){In(t,i),In(t+"Capture",i)}function In(t,i){for(Ii[t]=i,t=0;t<i.length;t++)ki.add(i[t])}var yr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),js={},Co={};function Ls(t){return ao.call(Co,t)?!0:ao.call(js,t)?!1:yr.test(t)?Co[t]=!0:(js[t]=!0,!1)}function To(t,i,s){if(Ls(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function ji(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function sn(t,i,s,c){if(c===null)t.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+c)}}function At(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Us(t,i,s){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,h=c.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(T){s=""+T,h.call(this,T)}}),Object.defineProperty(t,i,{enumerable:c.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ml(t){if(!t._valueTracker){var i=zs(t)?"checked":"value";t._valueTracker=Us(t,i,""+t[i])}}function Vs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),c="";return t&&(c=zs(t)?t.checked?"true":"false":t.value),t=c,t!==s?(i.setValue(t),!0):!1}function ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cr=/[\n"\\]/g;function Ct(t){return t.replace(Cr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Al(t,i,s,c,p,h,T,b){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+At(i)):t.value!==""+At(i)&&(t.value=""+At(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?_l(t,T,At(i)):s!=null?_l(t,T,At(s)):c!=null&&t.removeAttribute("value"),p==null&&h!=null&&(t.defaultChecked=!!h),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+At(b):t.removeAttribute("name")}function So(t,i,s,c,p,h,T,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),i!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){Ml(t);return}s=s!=null?""+At(s):"",i=i!=null?""+At(i):s,b||i===t.value||(t.value=i),t.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=b?t.checked:!!c,t.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Ml(t)}function _l(t,i,s){i==="number"&&ni(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function pn(t,i,s,c){if(t=t.options,i){i={};for(var p=0;p<s.length;p++)i["$"+s[p]]=!0;for(s=0;s<t.length;s++)p=i.hasOwnProperty("$"+t[s].value),t[s].selected!==p&&(t[s].selected=p),p&&c&&(t[s].defaultSelected=!0)}else{for(s=""+At(s),i=null,p=0;p<t.length;p++){if(t[p].value===s){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function Ps(t,i,s){if(i!=null&&(i=""+At(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+At(s):""}function qs(t,i,s,c){if(i==null){if(c!=null){if(s!=null)throw Error(l(92));if(se(c)){if(1<c.length)throw Error(l(93));c=c[0]}s=c}s==null&&(s=""),i=s}s=At(i),t.defaultValue=s,c=t.textContent,c===s&&c!==""&&c!==null&&(t.value=c),Ml(t)}function pe(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Tr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hs(t,i,s){var c=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,s):typeof s!="number"||s===0||Tr.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Bs(t,i,s){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&s[p]!==c&&Hs(t,p,c)}else for(var h in i)i.hasOwnProperty(h)&&Hs(t,h,i[h])}function Dl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jn(t){return Gs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _t(){}var Rl=null;function hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $t=null,Rt=null;function Fs(t){var i=ln(t);if(i&&(t=i.stateNode)){var s=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Al(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ct(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var c=s[i];if(c!==t&&c.form===t.form){var p=c[mt]||null;if(!p)throw Error(l(90));Al(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<s.length;i++)c=s[i],c.form===t.form&&Vs(c)}break e;case"textarea":Ps(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&pn(t,!!s.multiple,i,!1)}}}var bo=!1;function an(t,i,s){if(bo)return t(i,s);bo=!0;try{var c=t(i);return c}finally{if(bo=!1,($t!==null||Rt!==null)&&(ja(),$t&&(i=$t,t=Rt,Rt=$t=null,Fs(i),t)))for(i=0;i<t.length;i++)Fs(t[i])}}function Fe(t,i){var s=t.stateNode;if(s===null)return null;var c=s[mt]||null;if(c===null)return null;s=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(l(231,i,typeof s));return s}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kl=!1;if(rn)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){kl=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{kl=!1}var gn=null,Il=null,No=null;function Os(){if(No)return No;var t,i=Il,s=i.length,c,p="value"in gn?gn.value:gn.textContent,h=p.length;for(t=0;t<s&&i[t]===p[t];t++);var T=s-t;for(c=1;c<=T&&i[s-c]===p[h-c];c++);return No=p.slice(t,1<c?1-c:void 0)}function wo(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Eo(){return!0}function jl(){return!1}function Tt(t){function i(s,c,p,h,T){this._reactName=s,this._targetInst=p,this.type=c,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Eo:jl,this.isPropagationStopped=jl,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),i}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=Tt(Ln),zi=C({},Ln,{view:0,detail:0}),br=Tt(zi),Ll,zl,Ui,Ao=C({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(Ll=t.screenX-Ui.screenX,zl=t.screenY-Ui.screenY):zl=Ll=0,Ui=t),Ll)},movementY:function(t){return"movementY"in t?t.movementY:zl}}),Ys=Tt(Ao),Nr=C({},Ao,{dataTransfer:0}),wr=Tt(Nr),Er=C({},zi,{relatedTarget:0}),Ul=Tt(Er),Mr=C({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Ar=Tt(Mr),_r=C({},Ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dr=Tt(_r),Rr=C({},Ln,{data:0}),$s=Tt(Rr),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ir={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lr(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=jr[t])?!!i[t]:!1}function Vl(){return Lr}var zr=C({},zi,{key:function(t){if(t.key){var i=kr[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=wo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ir[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vl,charCode:function(t){return t.type==="keypress"?wo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ur=Tt(zr),Vr=C({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=Tt(Vr),Pr=C({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vl}),qr=Tt(Pr),Hr=C({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Br=Tt(Hr),Pl=C({},Ao,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gr=Tt(Pl),Fr=C({},Ln,{newState:0,oldState:0}),Or=Tt(Fr),Yr=[9,13,27,32],Vi=rn&&"CompositionEvent"in window,Pi=null;rn&&"documentMode"in document&&(Pi=document.documentMode);var $r=rn&&"TextEvent"in window&&!Pi,Ks=rn&&(!Vi||Pi&&8<Pi&&11>=Pi),ql=" ",Zs=!1;function _o(t,i){switch(t){case"keyup":return Yr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ze(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var un=!1;function Do(t,i){switch(t){case"compositionend":return Ze(i);case"keypress":return i.which!==32?null:(Zs=!0,ql);case"textInput":return t=i.data,t===ql&&Zs?null:t;default:return null}}function Ro(t,i){if(un)return t==="compositionend"||!Vi&&_o(t,i)?(t=Os(),No=Il=gn=null,un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ks&&i.locale!=="ko"?null:i.data;default:return null}}var Jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xs(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Jr[t.type]:i==="textarea"}function Qs(t,i,s,c){$t?Rt?Rt.push(c):Rt=[c]:$t=c,i=Ha(i,"onChange"),0<i.length&&(s=new Mo("onChange","change",null,s,c),t.push({event:s,listeners:i}))}var ii=null,D=null;function U(t){Jm(t,0)}function z(t){var i=Ri(t);if(Vs(i))return t}function H(t,i){if(t==="change")return i}var le=!1;if(rn){var we;if(rn){var We="oninput"in document;if(!We){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),We=typeof zn.oninput=="function"}we=We}else we=!1;le=we&&(!document.documentMode||9<document.documentMode)}function qi(){ii&&(ii.detachEvent("onpropertychange",ot),D=ii=null)}function ot(t){if(t.propertyName==="value"&&z(D)){var i=[];Qs(i,D,t,hn(t)),an(U,i)}}function Pt(t,i,s){t==="focusin"?(qi(),ii=i,D=s,ii.attachEvent("onpropertychange",ot)):t==="focusout"&&qi()}function Hl(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return z(D)}function Kr(t,i){if(t==="click")return z(i)}function Ws(t,i){if(t==="input"||t==="change")return z(i)}function Zr(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var St=typeof Object.is=="function"?Object.is:Zr;function Hi(t,i){if(St(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),c=Object.keys(i);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var p=s[c];if(!ao.call(i,p)||!St(t[p],i[p]))return!1}return!0}function Bl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vd(t,i){var s=Bl(t);t=0;for(var c;s;){if(s.nodeType===3){if(c=t+s.textContent.length,t<=i&&c>=i)return{node:s,offset:i-t};t=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Bl(s)}}function yd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?yd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Cd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ni(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=ni(t.document)}return i}function Xr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Mg=rn&&"documentMode"in document&&11>=document.documentMode,ko=null,Qr=null,Gl=null,Wr=!1;function Td(t,i,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Wr||ko==null||ko!==ni(c)||(c=ko,"selectionStart"in c&&Xr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Gl&&Hi(Gl,c)||(Gl=c,c=Ha(Qr,"onSelect"),0<c.length&&(i=new Mo("onSelect","select",null,i,s),t.push({event:i,listeners:c}),i.target=ko)))}function Bi(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Io={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionrun:Bi("Transition","TransitionRun"),transitionstart:Bi("Transition","TransitionStart"),transitioncancel:Bi("Transition","TransitionCancel"),transitionend:Bi("Transition","TransitionEnd")},eu={},Sd={};rn&&(Sd=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Gi(t){if(eu[t])return eu[t];if(!Io[t])return t;var i=Io[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Sd)return eu[t]=i[s];return t}var bd=Gi("animationend"),Nd=Gi("animationiteration"),wd=Gi("animationstart"),Ag=Gi("transitionrun"),_g=Gi("transitionstart"),Dg=Gi("transitioncancel"),Ed=Gi("transitionend"),Md=new Map,tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tu.push("scrollEnd");function cn(t,i){Md.set(t,i),kn(i,[t])}var ea=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Jt=[],jo=0,nu=0;function ta(){for(var t=jo,i=nu=jo=0;i<t;){var s=Jt[i];Jt[i++]=null;var c=Jt[i];Jt[i++]=null;var p=Jt[i];Jt[i++]=null;var h=Jt[i];if(Jt[i++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}h!==0&&Ad(s,p,h)}}function na(t,i,s,c){Jt[jo++]=t,Jt[jo++]=i,Jt[jo++]=s,Jt[jo++]=c,nu|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function iu(t,i,s,c){return na(t,i,s,c),ia(t)}function Fi(t,i){return na(t,null,null,i),ia(t)}function Ad(t,i,s){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s);for(var p=!1,h=t.return;h!==null;)h.childLanes|=s,c=h.alternate,c!==null&&(c.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(p=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,p&&i!==null&&(p=31-ct(s),t=h.hiddenUpdates,c=t[p],c===null?t[p]=[i]:c.push(i),i.lane=s|536870912),h):null}function ia(t){if(50<ds)throw ds=0,fc=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Lo={};function Rg(t,i,s,c){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,i,s,c){return new Rg(t,i,s,c)}function ou(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Un(t,i){var s=t.alternate;return s===null?(s=qt(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function _d(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function oa(t,i,s,c,p,h){var T=0;if(c=t,typeof t=="function")ou(t)&&(T=1);else if(typeof t=="string")T=zx(t,s,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case $:return t=qt(31,s,i,p),t.elementType=$,t.lanes=h,t;case _:return Oi(s.children,p,h,i);case O:T=8,p|=24;break;case E:return t=qt(12,s,i,p|2),t.elementType=E,t.lanes=h,t;case F:return t=qt(13,s,i,p),t.elementType=F,t.lanes=h,t;case K:return t=qt(19,s,i,p),t.elementType=K,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:T=10;break e;case P:T=9;break e;case I:T=11;break e;case J:T=14;break e;case oe:T=16,c=null;break e}T=29,s=Error(l(130,t===null?"null":typeof t,"")),c=null}return i=qt(T,s,i,p),i.elementType=t,i.type=c,i.lanes=h,i}function Oi(t,i,s,c){return t=qt(7,t,c,i),t.lanes=s,t}function lu(t,i,s){return t=qt(6,t,null,i),t.lanes=s,t}function Dd(t){var i=qt(18,null,null,0);return i.stateNode=t,i}function su(t,i,s){return i=qt(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Rd=new WeakMap;function Kt(t,i){if(typeof t=="object"&&t!==null){var s=Rd.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Ds(i)},Rd.set(t,i),i)}return{value:t,source:i,stack:Ds(i)}}var zo=[],Uo=0,la=null,Fl=0,Zt=[],Xt=0,oi=null,xn=1,vn="";function Vn(t,i){zo[Uo++]=Fl,zo[Uo++]=la,la=t,Fl=i}function kd(t,i,s){Zt[Xt++]=xn,Zt[Xt++]=vn,Zt[Xt++]=oi,oi=t;var c=xn;t=vn;var p=32-ct(c)-1;c&=~(1<<p),s+=1;var h=32-ct(i)+p;if(30<h){var T=p-p%5;h=(c&(1<<T)-1).toString(32),c>>=T,p-=T,xn=1<<32-ct(i)+p|s<<p|c,vn=h+t}else xn=1<<h|s<<p|c,vn=t}function au(t){t.return!==null&&(Vn(t,1),kd(t,1,0))}function ru(t){for(;t===la;)la=zo[--Uo],zo[Uo]=null,Fl=zo[--Uo],zo[Uo]=null;for(;t===oi;)oi=Zt[--Xt],Zt[Xt]=null,vn=Zt[--Xt],Zt[Xt]=null,xn=Zt[--Xt],Zt[Xt]=null}function Id(t,i){Zt[Xt++]=xn,Zt[Xt++]=vn,Zt[Xt++]=oi,xn=i.id,vn=i.overflow,oi=t}var ht=null,Oe=null,De=!1,li=null,Qt=!1,uu=Error(l(519));function si(t){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(Kt(i,t)),uu}function jd(t){var i=t.stateNode,s=t.type,c=t.memoizedProps;switch(i[nt]=t,i[mt]=c,s){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(s=0;s<ms.length;s++)Me(ms[s],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),So(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),qs(i,c.value,c.defaultValue,c.children)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||c.suppressHydrationWarning===!0||Qm(i.textContent,s)?(c.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),c.onScroll!=null&&Me("scroll",i),c.onScrollEnd!=null&&Me("scrollend",i),c.onClick!=null&&(i.onclick=_t),i=!0):i=!1,i||si(t,!0)}function Ld(t){for(ht=t.return;ht;)switch(ht.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ht=ht.return}}function Vo(t){if(t!==ht)return!1;if(!De)return Ld(t),De=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Mc(t.type,t.memoizedProps)),s=!s),s&&Oe&&si(t),Ld(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Oe=ap(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Oe=ap(t)}else i===27?(i=Oe,Ci(t.type)?(t=kc,kc=null,Oe=t):Oe=i):Oe=ht?en(t.stateNode.nextSibling):null;return!0}function Yi(){Oe=ht=null,De=!1}function cu(){var t=li;return t!==null&&(Lt===null?Lt=t:Lt.push.apply(Lt,t),li=null),t}function Ol(t){li===null?li=[t]:li.push(t)}var du=k(null),$i=null,Pn=null;function ai(t,i,s){ne(du,i._currentValue),i._currentValue=s}function qn(t){t._currentValue=du.current,W(du)}function fu(t,i,s){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===s)break;t=t.return}}function mu(t,i,s,c){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var h=p.dependencies;if(h!==null){var T=p.child;h=h.firstContext;e:for(;h!==null;){var b=h;h=p;for(var M=0;M<i.length;M++)if(b.context===i[M]){h.lanes|=s,b=h.alternate,b!==null&&(b.lanes|=s),fu(h.return,s,t),c||(T=null);break e}h=b.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(l(341));T.lanes|=s,h=T.alternate,h!==null&&(h.lanes|=s),fu(T,s,t),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===t){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Po(t,i,s,c){t=null;for(var p=i,h=!1;p!==null;){if(!h){if((p.flags&524288)!==0)h=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var b=p.type;St(p.pendingProps.value,T.value)||(t!==null?t.push(b):t=[b])}}else if(p===Ne.current){if(T=p.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(vs):t=[vs])}p=p.return}t!==null&&mu(i,t,s,c),i.flags|=262144}function sa(t){for(t=t.firstContext;t!==null;){if(!St(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ji(t){$i=t,Pn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gt(t){return zd($i,t)}function aa(t,i){return $i===null&&Ji(t),zd(t,i)}function zd(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Pn===null){if(t===null)throw Error(l(308));Pn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pn=Pn.next=i;return s}var kg=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Ig=n.unstable_scheduleCallback,jg=n.unstable_NormalPriority,lt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pu(){return{controller:new kg,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&Ig(jg,function(){t.controller.abort()})}var $l=null,hu=0,qo=0,Ho=null;function Lg(t,i){if($l===null){var s=$l=[];hu=0,qo=vc(),Ho={status:"pending",value:void 0,then:function(c){s.push(c)}}}return hu++,i.then(Ud,Ud),i}function Ud(){if(--hu===0&&$l!==null){Ho!==null&&(Ho.status="fulfilled");var t=$l;$l=null,qo=0,Ho=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function zg(t,i){var s=[],c={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<s.length;p++)(0,s[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),c}var Vd=R.S;R.S=function(t,i){Sm=Et(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Lg(t,i),Vd!==null&&Vd(t,i)};var Ki=k(null);function gu(){var t=Ki.current;return t!==null?t:qe.pooledCache}function ra(t,i){i===null?ne(Ki,Ki.current):ne(Ki,i.pool)}function Pd(){var t=gu();return t===null?null:{parent:lt._currentValue,pool:t}}var Bo=Error(l(460)),xu=Error(l(474)),ua=Error(l(542)),ca={then:function(){}};function qd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hd(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(_t,_t),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Gd(t),t;default:if(typeof i.status=="string")i.then(_t,_t);else{if(t=qe,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Gd(t),t}throw Xi=i,Bo}}function Zi(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Xi=s,Bo):s}}var Xi=null;function Bd(){if(Xi===null)throw Error(l(459));var t=Xi;return Xi=null,t}function Gd(t){if(t===Bo||t===ua)throw Error(l(483))}var Go=null,Jl=0;function da(t){var i=Jl;return Jl+=1,Go===null&&(Go=[]),Hd(Go,t,i)}function Kl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fa(t,i){throw i.$$typeof===S?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Fd(t){function i(V,j){if(t){var B=V.deletions;B===null?(V.deletions=[j],V.flags|=16):B.push(j)}}function s(V,j){if(!t)return null;for(;j!==null;)i(V,j),j=j.sibling;return null}function c(V){for(var j=new Map;V!==null;)V.key!==null?j.set(V.key,V):j.set(V.index,V),V=V.sibling;return j}function p(V,j){return V=Un(V,j),V.index=0,V.sibling=null,V}function h(V,j,B){return V.index=B,t?(B=V.alternate,B!==null?(B=B.index,B<j?(V.flags|=67108866,j):B):(V.flags|=67108866,j)):(V.flags|=1048576,j)}function T(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function b(V,j,B,Q){return j===null||j.tag!==6?(j=lu(B,V.mode,Q),j.return=V,j):(j=p(j,B),j.return=V,j)}function M(V,j,B,Q){var he=B.type;return he===_?X(V,j,B.props.children,Q,B.key):j!==null&&(j.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===oe&&Zi(he)===j.type)?(j=p(j,B.props),Kl(j,B),j.return=V,j):(j=oa(B.type,B.key,B.props,null,V.mode,Q),Kl(j,B),j.return=V,j)}function G(V,j,B,Q){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=su(B,V.mode,Q),j.return=V,j):(j=p(j,B.children||[]),j.return=V,j)}function X(V,j,B,Q,he){return j===null||j.tag!==7?(j=Oi(B,V.mode,Q,he),j.return=V,j):(j=p(j,B),j.return=V,j)}function ee(V,j,B){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=lu(""+j,V.mode,B),j.return=V,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return B=oa(j.type,j.key,j.props,null,V.mode,B),Kl(B,j),B.return=V,B;case w:return j=su(j,V.mode,B),j.return=V,j;case oe:return j=Zi(j),ee(V,j,B)}if(se(j)||te(j))return j=Oi(j,V.mode,B,null),j.return=V,j;if(typeof j.then=="function")return ee(V,da(j),B);if(j.$$typeof===L)return ee(V,aa(V,j),B);fa(V,j)}return null}function Y(V,j,B,Q){var he=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:b(V,j,""+B,Q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case N:return B.key===he?M(V,j,B,Q):null;case w:return B.key===he?G(V,j,B,Q):null;case oe:return B=Zi(B),Y(V,j,B,Q)}if(se(B)||te(B))return he!==null?null:X(V,j,B,Q,null);if(typeof B.then=="function")return Y(V,j,da(B),Q);if(B.$$typeof===L)return Y(V,j,aa(V,B),Q);fa(V,B)}return null}function Z(V,j,B,Q,he){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(B)||null,b(j,V,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return V=V.get(Q.key===null?B:Q.key)||null,M(j,V,Q,he);case w:return V=V.get(Q.key===null?B:Q.key)||null,G(j,V,Q,he);case oe:return Q=Zi(Q),Z(V,j,B,Q,he)}if(se(Q)||te(Q))return V=V.get(B)||null,X(j,V,Q,he,null);if(typeof Q.then=="function")return Z(V,j,B,da(Q),he);if(Q.$$typeof===L)return Z(V,j,B,aa(j,Q),he);fa(j,Q)}return null}function de(V,j,B,Q){for(var he=null,Re=null,me=j,be=j=0,_e=null;me!==null&&be<B.length;be++){me.index>be?(_e=me,me=null):_e=me.sibling;var ke=Y(V,me,B[be],Q);if(ke===null){me===null&&(me=_e);break}t&&me&&ke.alternate===null&&i(V,me),j=h(ke,j,be),Re===null?he=ke:Re.sibling=ke,Re=ke,me=_e}if(be===B.length)return s(V,me),De&&Vn(V,be),he;if(me===null){for(;be<B.length;be++)me=ee(V,B[be],Q),me!==null&&(j=h(me,j,be),Re===null?he=me:Re.sibling=me,Re=me);return De&&Vn(V,be),he}for(me=c(me);be<B.length;be++)_e=Z(me,V,be,B[be],Q),_e!==null&&(t&&_e.alternate!==null&&me.delete(_e.key===null?be:_e.key),j=h(_e,j,be),Re===null?he=_e:Re.sibling=_e,Re=_e);return t&&me.forEach(function(wi){return i(V,wi)}),De&&Vn(V,be),he}function ve(V,j,B,Q){if(B==null)throw Error(l(151));for(var he=null,Re=null,me=j,be=j=0,_e=null,ke=B.next();me!==null&&!ke.done;be++,ke=B.next()){me.index>be?(_e=me,me=null):_e=me.sibling;var wi=Y(V,me,ke.value,Q);if(wi===null){me===null&&(me=_e);break}t&&me&&wi.alternate===null&&i(V,me),j=h(wi,j,be),Re===null?he=wi:Re.sibling=wi,Re=wi,me=_e}if(ke.done)return s(V,me),De&&Vn(V,be),he;if(me===null){for(;!ke.done;be++,ke=B.next())ke=ee(V,ke.value,Q),ke!==null&&(j=h(ke,j,be),Re===null?he=ke:Re.sibling=ke,Re=ke);return De&&Vn(V,be),he}for(me=c(me);!ke.done;be++,ke=B.next())ke=Z(me,V,be,ke.value,Q),ke!==null&&(t&&ke.alternate!==null&&me.delete(ke.key===null?be:ke.key),j=h(ke,j,be),Re===null?he=ke:Re.sibling=ke,Re=ke);return t&&me.forEach(function($x){return i(V,$x)}),De&&Vn(V,be),he}function Pe(V,j,B,Q){if(typeof B=="object"&&B!==null&&B.type===_&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case N:e:{for(var he=B.key;j!==null;){if(j.key===he){if(he=B.type,he===_){if(j.tag===7){s(V,j.sibling),Q=p(j,B.props.children),Q.return=V,V=Q;break e}}else if(j.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===oe&&Zi(he)===j.type){s(V,j.sibling),Q=p(j,B.props),Kl(Q,B),Q.return=V,V=Q;break e}s(V,j);break}else i(V,j);j=j.sibling}B.type===_?(Q=Oi(B.props.children,V.mode,Q,B.key),Q.return=V,V=Q):(Q=oa(B.type,B.key,B.props,null,V.mode,Q),Kl(Q,B),Q.return=V,V=Q)}return T(V);case w:e:{for(he=B.key;j!==null;){if(j.key===he)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){s(V,j.sibling),Q=p(j,B.children||[]),Q.return=V,V=Q;break e}else{s(V,j);break}else i(V,j);j=j.sibling}Q=su(B,V.mode,Q),Q.return=V,V=Q}return T(V);case oe:return B=Zi(B),Pe(V,j,B,Q)}if(se(B))return de(V,j,B,Q);if(te(B)){if(he=te(B),typeof he!="function")throw Error(l(150));return B=he.call(B),ve(V,j,B,Q)}if(typeof B.then=="function")return Pe(V,j,da(B),Q);if(B.$$typeof===L)return Pe(V,j,aa(V,B),Q);fa(V,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,j!==null&&j.tag===6?(s(V,j.sibling),Q=p(j,B),Q.return=V,V=Q):(s(V,j),Q=lu(B,V.mode,Q),Q.return=V,V=Q),T(V)):s(V,j)}return function(V,j,B,Q){try{Jl=0;var he=Pe(V,j,B,Q);return Go=null,he}catch(me){if(me===Bo||me===ua)throw me;var Re=qt(29,me,null,V.mode);return Re.lanes=Q,Re.return=V,Re}finally{}}}var Qi=Fd(!0),Od=Fd(!1),ri=!1;function vu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yu(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ci(t,i,s){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(je&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=ia(t),Ad(t,null,s),i}return na(t,c,i,s),ia(t)}function Zl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,s|=c,i.lanes=s,xo(t,s)}}function Cu(t,i){var s=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var p=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?p=h=T:h=h.next=T,s=s.next}while(s!==null);h===null?p=h=i:h=h.next=i}else p=h=i;s={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Tu=!1;function Xl(){if(Tu){var t=Ho;if(t!==null)throw t}}function Ql(t,i,s,c){Tu=!1;var p=t.updateQueue;ri=!1;var h=p.firstBaseUpdate,T=p.lastBaseUpdate,b=p.shared.pending;if(b!==null){p.shared.pending=null;var M=b,G=M.next;M.next=null,T===null?h=G:T.next=G,T=M;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==T&&(b===null?X.firstBaseUpdate=G:b.next=G,X.lastBaseUpdate=M))}if(h!==null){var ee=p.baseState;T=0,X=G=M=null,b=h;do{var Y=b.lane&-536870913,Z=Y!==b.lane;if(Z?(Ae&Y)===Y:(c&Y)===Y){Y!==0&&Y===qo&&(Tu=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=t,ve=b;Y=i;var Pe=s;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){ee=de.call(Pe,ee,Y);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,Y=typeof de=="function"?de.call(Pe,ee,Y):de,Y==null)break e;ee=C({},ee,Y);break e;case 2:ri=!0}}Y=b.callback,Y!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(G=X=Z,M=ee):X=X.next=Z,T|=Y;if(b=b.next,b===null){if(b=p.shared.pending,b===null)break;Z=b,b=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);X===null&&(M=ee),p.baseState=M,p.firstBaseUpdate=G,p.lastBaseUpdate=X,h===null&&(p.shared.lanes=0),hi|=T,t.lanes=T,t.memoizedState=ee}}function Yd(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function $d(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Yd(s[t],i)}var Fo=k(null),ma=k(0);function Jd(t,i){t=Kn,ne(ma,t),ne(Fo,i),Kn=t|i.baseLanes}function Su(){ne(ma,Kn),ne(Fo,Fo.current)}function bu(){Kn=ma.current,W(Fo),W(ma)}var Ht=k(null),Wt=null;function di(t){var i=t.alternate;ne(et,et.current&1),ne(Ht,t),Wt===null&&(i===null||Fo.current!==null||i.memoizedState!==null)&&(Wt=t)}function Nu(t){ne(et,et.current),ne(Ht,t),Wt===null&&(Wt=t)}function Kd(t){t.tag===22?(ne(et,et.current),ne(Ht,t),Wt===null&&(Wt=t)):fi()}function fi(){ne(et,et.current),ne(Ht,Ht.current)}function Bt(t){W(Ht),Wt===t&&(Wt=null),W(et)}var et=k(0);function pa(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Dc(s)||Rc(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hn=0,Se=null,Ue=null,st=null,ha=!1,Oo=!1,Wi=!1,ga=0,Wl=0,Yo=null,Ug=0;function Xe(){throw Error(l(321))}function wu(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!St(t[s],i[s]))return!1;return!0}function Eu(t,i,s,c,p,h){return Hn=h,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,R.H=t===null||t.memoizedState===null?If:Hu,Wi=!1,h=s(c,p),Wi=!1,Oo&&(h=Xd(i,s,c,p)),Zd(t),h}function Zd(t){R.H=ns;var i=Ue!==null&&Ue.next!==null;if(Hn=0,st=Ue=Se=null,ha=!1,Wl=0,Yo=null,i)throw Error(l(300));t===null||at||(t=t.dependencies,t!==null&&sa(t)&&(at=!0))}function Xd(t,i,s,c){Se=t;var p=0;do{if(Oo&&(Yo=null),Wl=0,Oo=!1,25<=p)throw Error(l(301));if(p+=1,st=Ue=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}R.H=jf,h=i(s,c)}while(Oo);return h}function Vg(){var t=R.H,i=t.useState()[0];return i=typeof i.then=="function"?es(i):i,t=t.useState()[0],(Ue!==null?Ue.memoizedState:null)!==t&&(Se.flags|=1024),i}function Mu(){var t=ga!==0;return ga=0,t}function Au(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function _u(t){if(ha){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ha=!1}Hn=0,st=Ue=Se=null,Oo=!1,Wl=ga=0,Yo=null}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Se.memoizedState=st=t:st=st.next=t,st}function tt(){if(Ue===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var i=st===null?Se.memoizedState:st.next;if(i!==null)st=i,Ue=t;else{if(t===null)throw Se.alternate===null?Error(l(467)):Error(l(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},st===null?Se.memoizedState=st=t:st=st.next=t}return st}function xa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function es(t){var i=Wl;return Wl+=1,Yo===null&&(Yo=[]),t=Hd(Yo,t,i),i=Se,(st===null?i.memoizedState:st.next)===null&&(i=i.alternate,R.H=i===null||i.memoizedState===null?If:Hu),t}function va(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return es(t);if(t.$$typeof===L)return gt(t)}throw Error(l(438,String(t)))}function Du(t){var i=null,s=Se.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var c=Se.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=xa(),Se.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),c=0;c<t;c++)s[c]=re;return i.index++,s}function Bn(t,i){return typeof i=="function"?i(t):i}function ya(t){var i=tt();return Ru(i,Ue,t)}function Ru(t,i,s){var c=t.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=s;var p=t.baseQueue,h=c.pending;if(h!==null){if(p!==null){var T=p.next;p.next=h.next,h.next=T}i.baseQueue=p=h,c.pending=null}if(h=t.baseState,p===null)t.memoizedState=h;else{i=p.next;var b=T=null,M=null,G=i,X=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(Ae&ee)===ee:(Hn&ee)===ee){var Y=G.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===qo&&(X=!0);else if((Hn&Y)===Y){G=G.next,Y===qo&&(X=!0);continue}else ee={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(b=M=ee,T=h):M=M.next=ee,Se.lanes|=Y,hi|=Y;ee=G.action,Wi&&s(h,ee),h=G.hasEagerState?G.eagerState:s(h,ee)}else Y={lane:ee,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(b=M=Y,T=h):M=M.next=Y,Se.lanes|=ee,hi|=ee;G=G.next}while(G!==null&&G!==i);if(M===null?T=h:M.next=b,!St(h,t.memoizedState)&&(at=!0,X&&(s=Ho,s!==null)))throw s;t.memoizedState=h,t.baseState=T,t.baseQueue=M,c.lastRenderedState=h}return p===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function ku(t){var i=tt(),s=i.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=t;var c=s.dispatch,p=s.pending,h=i.memoizedState;if(p!==null){s.pending=null;var T=p=p.next;do h=t(h,T.action),T=T.next;while(T!==p);St(h,i.memoizedState)||(at=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),s.lastRenderedState=h}return[h,c]}function Qd(t,i,s){var c=Se,p=tt(),h=De;if(h){if(s===void 0)throw Error(l(407));s=s()}else s=i();var T=!St((Ue||p).memoizedState,s);if(T&&(p.memoizedState=s,at=!0),p=p.queue,Lu(tf.bind(null,c,p,t),[t]),p.getSnapshot!==i||T||st!==null&&st.memoizedState.tag&1){if(c.flags|=2048,$o(9,{destroy:void 0},ef.bind(null,c,p,s,i),null),qe===null)throw Error(l(349));h||(Hn&127)!==0||Wd(c,i,s)}return s}function Wd(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Se.updateQueue,i===null?(i=xa(),Se.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function ef(t,i,s,c){i.value=s,i.getSnapshot=c,nf(i)&&of(t)}function tf(t,i,s){return s(function(){nf(i)&&of(t)})}function nf(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!St(t,s)}catch{return!0}}function of(t){var i=Fi(t,2);i!==null&&zt(i,t,2)}function Iu(t){var i=Dt();if(typeof t=="function"){var s=t;if(t=s(),Wi){Yt(!0);try{s()}finally{Yt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:t},i}function lf(t,i,s,c){return t.baseState=s,Ru(t,Ue,typeof c=="function"?c:Bn)}function Pg(t,i,s,c,p){if(Sa(t))throw Error(l(485));if(t=i.action,t!==null){var h={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};R.T!==null?s(!0):h.isTransition=!1,c(h),s=i.pending,s===null?(h.next=i.pending=h,sf(i,h)):(h.next=s.next,i.pending=s.next=h)}}function sf(t,i){var s=i.action,c=i.payload,p=t.state;if(i.isTransition){var h=R.T,T={};R.T=T;try{var b=s(p,c),M=R.S;M!==null&&M(T,b),af(t,i,b)}catch(G){ju(t,i,G)}finally{h!==null&&T.types!==null&&(h.types=T.types),R.T=h}}else try{h=s(p,c),af(t,i,h)}catch(G){ju(t,i,G)}}function af(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){rf(t,i,c)},function(c){return ju(t,i,c)}):rf(t,i,s)}function rf(t,i,s){i.status="fulfilled",i.value=s,uf(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,sf(t,s)))}function ju(t,i,s){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=s,uf(i),i=i.next;while(i!==c)}t.action=null}function uf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function cf(t,i){return i}function df(t,i){if(De){var s=qe.formState;if(s!==null){e:{var c=Se;if(De){if(Oe){t:{for(var p=Oe,h=Qt;p.nodeType!==8;){if(!h){p=null;break t}if(p=en(p.nextSibling),p===null){p=null;break t}}h=p.data,p=h==="F!"||h==="F"?p:null}if(p){Oe=en(p.nextSibling),c=p.data==="F!";break e}}si(c)}c=!1}c&&(i=s[0])}}return s=Dt(),s.memoizedState=s.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cf,lastRenderedState:i},s.queue=c,s=Df.bind(null,Se,c),c.dispatch=s,c=Iu(!1),h=qu.bind(null,Se,!1,c.queue),c=Dt(),p={state:i,dispatch:null,action:t,pending:null},c.queue=p,s=Pg.bind(null,Se,p,h,s),p.dispatch=s,c.memoizedState=t,[i,s,!1]}function ff(t){var i=tt();return mf(i,Ue,t)}function mf(t,i,s){if(i=Ru(t,i,cf)[0],t=ya(Bn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=es(i)}catch(T){throw T===Bo?ua:T}else c=i;i=tt();var p=i.queue,h=p.dispatch;return s!==i.memoizedState&&(Se.flags|=2048,$o(9,{destroy:void 0},qg.bind(null,p,s),null)),[c,h,t]}function qg(t,i){t.action=i}function pf(t){var i=tt(),s=Ue;if(s!==null)return mf(i,s,t);tt(),i=i.memoizedState,s=tt();var c=s.queue.dispatch;return s.memoizedState=t,[i,c,!1]}function $o(t,i,s,c){return t={tag:t,create:s,deps:c,inst:i,next:null},i=Se.updateQueue,i===null&&(i=xa(),Se.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(c=s.next,s.next=t,t.next=c,i.lastEffect=t),t}function hf(){return tt().memoizedState}function Ca(t,i,s,c){var p=Dt();Se.flags|=t,p.memoizedState=$o(1|i,{destroy:void 0},s,c===void 0?null:c)}function Ta(t,i,s,c){var p=tt();c=c===void 0?null:c;var h=p.memoizedState.inst;Ue!==null&&c!==null&&wu(c,Ue.memoizedState.deps)?p.memoizedState=$o(i,h,s,c):(Se.flags|=t,p.memoizedState=$o(1|i,h,s,c))}function gf(t,i){Ca(8390656,8,t,i)}function Lu(t,i){Ta(2048,8,t,i)}function Hg(t){Se.flags|=4;var i=Se.updateQueue;if(i===null)i=xa(),Se.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function xf(t){var i=tt().memoizedState;return Hg({ref:i,nextImpl:t}),function(){if((je&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function vf(t,i){return Ta(4,2,t,i)}function yf(t,i){return Ta(4,4,t,i)}function Cf(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Tf(t,i,s){s=s!=null?s.concat([t]):null,Ta(4,4,Cf.bind(null,i,t),s)}function zu(){}function Sf(t,i){var s=tt();i=i===void 0?null:i;var c=s.memoizedState;return i!==null&&wu(i,c[1])?c[0]:(s.memoizedState=[t,i],t)}function bf(t,i){var s=tt();i=i===void 0?null:i;var c=s.memoizedState;if(i!==null&&wu(i,c[1]))return c[0];if(c=t(),Wi){Yt(!0);try{t()}finally{Yt(!1)}}return s.memoizedState=[c,i],c}function Uu(t,i,s){return s===void 0||(Hn&1073741824)!==0&&(Ae&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=Nm(),Se.lanes|=t,hi|=t,s)}function Nf(t,i,s,c){return St(s,i)?s:Fo.current!==null?(t=Uu(t,s,c),St(t,i)||(at=!0),t):(Hn&42)===0||(Hn&1073741824)!==0&&(Ae&261930)===0?(at=!0,t.memoizedState=s):(t=Nm(),Se.lanes|=t,hi|=t,i)}function wf(t,i,s,c,p){var h=q.p;q.p=h!==0&&8>h?h:8;var T=R.T,b={};R.T=b,qu(t,!1,i,s);try{var M=p(),G=R.S;if(G!==null&&G(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var X=zg(M,c);ts(t,i,X,Ot(t))}else ts(t,i,c,Ot(t))}catch(ee){ts(t,i,{then:function(){},status:"rejected",reason:ee},Ot())}finally{q.p=h,T!==null&&b.types!==null&&(T.types=b.types),R.T=T}}function Bg(){}function Vu(t,i,s,c){if(t.tag!==5)throw Error(l(476));var p=Ef(t).queue;wf(t,p,i,ie,s===null?Bg:function(){return Mf(t),s(c)})}function Ef(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:ie},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Mf(t){var i=Ef(t);i.next===null&&(i=t.alternate.memoizedState),ts(t,i.next.queue,{},Ot())}function Pu(){return gt(vs)}function Af(){return tt().memoizedState}function _f(){return tt().memoizedState}function Gg(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Ot();t=ui(s);var c=ci(i,t,s);c!==null&&(zt(c,i,s),Zl(c,i,s)),i={cache:pu()},t.payload=i;return}i=i.return}}function Fg(t,i,s){var c=Ot();s={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Sa(t)?Rf(i,s):(s=iu(t,i,s,c),s!==null&&(zt(s,t,c),kf(s,i,c)))}function Df(t,i,s){var c=Ot();ts(t,i,s,c)}function ts(t,i,s,c){var p={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Sa(t))Rf(i,p);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var T=i.lastRenderedState,b=h(T,s);if(p.hasEagerState=!0,p.eagerState=b,St(b,T))return na(t,i,p,0),qe===null&&ta(),!1}catch{}finally{}if(s=iu(t,i,p,c),s!==null)return zt(s,t,c),kf(s,i,c),!0}return!1}function qu(t,i,s,c){if(c={lane:2,revertLane:vc(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Sa(t)){if(i)throw Error(l(479))}else i=iu(t,s,c,2),i!==null&&zt(i,t,2)}function Sa(t){var i=t.alternate;return t===Se||i!==null&&i===Se}function Rf(t,i){Oo=ha=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function kf(t,i,s){if((s&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,s|=c,i.lanes=s,xo(t,s)}}var ns={readContext:gt,use:va,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};ns.useEffectEvent=Xe;var If={readContext:gt,use:va,useCallback:function(t,i){return Dt().memoizedState=[t,i===void 0?null:i],t},useContext:gt,useEffect:gf,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Ca(4194308,4,Cf.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Ca(4194308,4,t,i)},useInsertionEffect:function(t,i){Ca(4,2,t,i)},useMemo:function(t,i){var s=Dt();i=i===void 0?null:i;var c=t();if(Wi){Yt(!0);try{t()}finally{Yt(!1)}}return s.memoizedState=[c,i],c},useReducer:function(t,i,s){var c=Dt();if(s!==void 0){var p=s(i);if(Wi){Yt(!0);try{s(i)}finally{Yt(!1)}}}else p=i;return c.memoizedState=c.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},c.queue=t,t=t.dispatch=Fg.bind(null,Se,t),[c.memoizedState,t]},useRef:function(t){var i=Dt();return t={current:t},i.memoizedState=t},useState:function(t){t=Iu(t);var i=t.queue,s=Df.bind(null,Se,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:zu,useDeferredValue:function(t,i){var s=Dt();return Uu(s,t,i)},useTransition:function(){var t=Iu(!1);return t=wf.bind(null,Se,t.queue,!0,!1),Dt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var c=Se,p=Dt();if(De){if(s===void 0)throw Error(l(407));s=s()}else{if(s=i(),qe===null)throw Error(l(349));(Ae&127)!==0||Wd(c,i,s)}p.memoizedState=s;var h={value:s,getSnapshot:i};return p.queue=h,gf(tf.bind(null,c,h,t),[t]),c.flags|=2048,$o(9,{destroy:void 0},ef.bind(null,c,h,s,i),null),s},useId:function(){var t=Dt(),i=qe.identifierPrefix;if(De){var s=vn,c=xn;s=(c&~(1<<32-ct(c)-1)).toString(32)+s,i="_"+i+"R_"+s,s=ga++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=Ug++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Pu,useFormState:df,useActionState:df,useOptimistic:function(t){var i=Dt();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=qu.bind(null,Se,!0,s),s.dispatch=i,[t,i]},useMemoCache:Du,useCacheRefresh:function(){return Dt().memoizedState=Gg.bind(null,Se)},useEffectEvent:function(t){var i=Dt(),s={impl:t};return i.memoizedState=s,function(){if((je&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},Hu={readContext:gt,use:va,useCallback:Sf,useContext:gt,useEffect:Lu,useImperativeHandle:Tf,useInsertionEffect:vf,useLayoutEffect:yf,useMemo:bf,useReducer:ya,useRef:hf,useState:function(){return ya(Bn)},useDebugValue:zu,useDeferredValue:function(t,i){var s=tt();return Nf(s,Ue.memoizedState,t,i)},useTransition:function(){var t=ya(Bn)[0],i=tt().memoizedState;return[typeof t=="boolean"?t:es(t),i]},useSyncExternalStore:Qd,useId:Af,useHostTransitionStatus:Pu,useFormState:ff,useActionState:ff,useOptimistic:function(t,i){var s=tt();return lf(s,Ue,t,i)},useMemoCache:Du,useCacheRefresh:_f};Hu.useEffectEvent=xf;var jf={readContext:gt,use:va,useCallback:Sf,useContext:gt,useEffect:Lu,useImperativeHandle:Tf,useInsertionEffect:vf,useLayoutEffect:yf,useMemo:bf,useReducer:ku,useRef:hf,useState:function(){return ku(Bn)},useDebugValue:zu,useDeferredValue:function(t,i){var s=tt();return Ue===null?Uu(s,t,i):Nf(s,Ue.memoizedState,t,i)},useTransition:function(){var t=ku(Bn)[0],i=tt().memoizedState;return[typeof t=="boolean"?t:es(t),i]},useSyncExternalStore:Qd,useId:Af,useHostTransitionStatus:Pu,useFormState:pf,useActionState:pf,useOptimistic:function(t,i){var s=tt();return Ue!==null?lf(s,Ue,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Du,useCacheRefresh:_f};jf.useEffectEvent=xf;function Bu(t,i,s,c){i=t.memoizedState,s=s(c,i),s=s==null?i:C({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Gu={enqueueSetState:function(t,i,s){t=t._reactInternals;var c=Ot(),p=ui(c);p.payload=i,s!=null&&(p.callback=s),i=ci(t,p,c),i!==null&&(zt(i,t,c),Zl(i,t,c))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var c=Ot(),p=ui(c);p.tag=1,p.payload=i,s!=null&&(p.callback=s),i=ci(t,p,c),i!==null&&(zt(i,t,c),Zl(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Ot(),c=ui(s);c.tag=2,i!=null&&(c.callback=i),i=ci(t,c,s),i!==null&&(zt(i,t,s),Zl(i,t,s))}};function Lf(t,i,s,c,p,h,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,h,T):i.prototype&&i.prototype.isPureReactComponent?!Hi(s,c)||!Hi(p,h):!0}function zf(t,i,s,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,c),i.state!==t&&Gu.enqueueReplaceState(i,i.state,null)}function eo(t,i){var s=i;if("ref"in i){s={};for(var c in i)c!=="ref"&&(s[c]=i[c])}if(t=t.defaultProps){s===i&&(s=C({},s));for(var p in t)s[p]===void 0&&(s[p]=t[p])}return s}function Uf(t){ea(t)}function Vf(t){console.error(t)}function Pf(t){ea(t)}function ba(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function qf(t,i,s){try{var c=t.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Fu(t,i,s){return s=ui(s),s.tag=3,s.payload={element:null},s.callback=function(){ba(t,i)},s}function Hf(t){return t=ui(t),t.tag=3,t}function Bf(t,i,s,c){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var h=c.value;t.payload=function(){return p(h)},t.callback=function(){qf(i,s,c)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){qf(i,s,c),typeof p!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var b=c.stack;this.componentDidCatch(c.value,{componentStack:b!==null?b:""})})}function Og(t,i,s,c,p){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=s.alternate,i!==null&&Po(i,s,p,!0),s=Ht.current,s!==null){switch(s.tag){case 31:case 13:return Wt===null?La():s.alternate===null&&Qe===0&&(Qe=3),s.flags&=-257,s.flags|=65536,s.lanes=p,c===ca?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([c]):i.add(c),hc(t,c,p)),!1;case 22:return s.flags|=65536,c===ca?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([c]):s.add(c)),hc(t,c,p)),!1}throw Error(l(435,s.tag))}return hc(t,c,p),La(),!1}if(De)return i=Ht.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==uu&&(t=Error(l(422),{cause:c}),Ol(Kt(t,s)))):(c!==uu&&(i=Error(l(423),{cause:c}),Ol(Kt(i,s))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,c=Kt(c,s),p=Fu(t.stateNode,c,p),Cu(t,p),Qe!==4&&(Qe=2)),!1;var h=Error(l(520),{cause:c});if(h=Kt(h,s),cs===null?cs=[h]:cs.push(h),Qe!==4&&(Qe=2),i===null)return!0;c=Kt(c,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=p&-p,s.lanes|=t,t=Fu(s.stateNode,c,t),Cu(s,t),!1;case 1:if(i=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(gi===null||!gi.has(h))))return s.flags|=65536,p&=-p,s.lanes|=p,p=Hf(p),Bf(p,t,s,c),Cu(s,p),!1}s=s.return}while(s!==null);return!1}var Ou=Error(l(461)),at=!1;function xt(t,i,s,c){i.child=t===null?Od(i,null,s,c):Qi(i,t.child,s,c)}function Gf(t,i,s,c,p){s=s.render;var h=i.ref;if("ref"in c){var T={};for(var b in c)b!=="ref"&&(T[b]=c[b])}else T=c;return Ji(i),c=Eu(t,i,s,T,h,p),b=Mu(),t!==null&&!at?(Au(t,i,p),Gn(t,i,p)):(De&&b&&au(i),i.flags|=1,xt(t,i,c,p),i.child)}function Ff(t,i,s,c,p){if(t===null){var h=s.type;return typeof h=="function"&&!ou(h)&&h.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=h,Of(t,i,h,c,p)):(t=oa(s.type,null,c,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,!Wu(t,p)){var T=h.memoizedProps;if(s=s.compare,s=s!==null?s:Hi,s(T,c)&&t.ref===i.ref)return Gn(t,i,p)}return i.flags|=1,t=Un(h,c),t.ref=i.ref,t.return=i,i.child=t}function Of(t,i,s,c,p){if(t!==null){var h=t.memoizedProps;if(Hi(h,c)&&t.ref===i.ref)if(at=!1,i.pendingProps=c=h,Wu(t,p))(t.flags&131072)!==0&&(at=!0);else return i.lanes=t.lanes,Gn(t,i,p)}return Yu(t,i,s,c,p)}function Yf(t,i,s,c){var p=c.children,h=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,t!==null){for(c=i.child=t.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~h}else c=0,i.child=null;return $f(t,i,h,s,c)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ra(i,h!==null?h.cachePool:null),h!==null?Jd(i,h):Su(),Kd(i);else return c=i.lanes=536870912,$f(t,i,h!==null?h.baseLanes|s:s,s,c)}else h!==null?(ra(i,h.cachePool),Jd(i,h),fi(),i.memoizedState=null):(t!==null&&ra(i,null),Su(),fi());return xt(t,i,p,s),i.child}function is(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function $f(t,i,s,c,p){var h=gu();return h=h===null?null:{parent:lt._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&ra(i,null),Su(),Kd(i),t!==null&&Po(t,i,c,!0),i.childLanes=p,null}function Na(t,i){return i=Ea({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Jf(t,i,s){return Qi(i,t.child,null,s),t=Na(i,i.pendingProps),t.flags|=2,Bt(i),i.memoizedState=null,t}function Yg(t,i,s){var c=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(De){if(c.mode==="hidden")return t=Na(i,c),i.lanes=536870912,is(null,t);if(Nu(i),(t=Oe)?(t=sp(t,Qt),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:oi!==null?{id:xn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},s=Dd(t),s.return=i,i.child=s,ht=i,Oe=null)):t=null,t===null)throw si(i);return i.lanes=536870912,null}return Na(i,c)}var h=t.memoizedState;if(h!==null){var T=h.dehydrated;if(Nu(i),p)if(i.flags&256)i.flags&=-257,i=Jf(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(l(558));else if(at||Po(t,i,s,!1),p=(s&t.childLanes)!==0,at||p){if(c=qe,c!==null&&(T=_n(c,s),T!==0&&T!==h.retryLane))throw h.retryLane=T,Fi(t,T),zt(c,t,T),Ou;La(),i=Jf(t,i,s)}else t=h.treeContext,Oe=en(T.nextSibling),ht=i,De=!0,li=null,Qt=!1,t!==null&&Id(i,t),i=Na(i,c),i.flags|=4096;return i}return t=Un(t.child,{mode:c.mode,children:c.children}),t.ref=i.ref,i.child=t,t.return=i,t}function wa(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Yu(t,i,s,c,p){return Ji(i),s=Eu(t,i,s,c,void 0,p),c=Mu(),t!==null&&!at?(Au(t,i,p),Gn(t,i,p)):(De&&c&&au(i),i.flags|=1,xt(t,i,s,p),i.child)}function Kf(t,i,s,c,p,h){return Ji(i),i.updateQueue=null,s=Xd(i,c,s,p),Zd(t),c=Mu(),t!==null&&!at?(Au(t,i,h),Gn(t,i,h)):(De&&c&&au(i),i.flags|=1,xt(t,i,s,h),i.child)}function Zf(t,i,s,c,p){if(Ji(i),i.stateNode===null){var h=Lo,T=s.contextType;typeof T=="object"&&T!==null&&(h=gt(T)),h=new s(c,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Gu,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=c,h.state=i.memoizedState,h.refs={},vu(i),T=s.contextType,h.context=typeof T=="object"&&T!==null?gt(T):Lo,h.state=i.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Bu(i,s,T,c),h.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&Gu.enqueueReplaceState(h,h.state,null),Ql(i,c,h,p),Xl(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){h=i.stateNode;var b=i.memoizedProps,M=eo(s,b);h.props=M;var G=h.context,X=s.contextType;T=Lo,typeof X=="object"&&X!==null&&(T=gt(X));var ee=s.getDerivedStateFromProps;X=typeof ee=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,X||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||G!==T)&&zf(i,h,c,T),ri=!1;var Y=i.memoizedState;h.state=Y,Ql(i,c,h,p),Xl(),G=i.memoizedState,b||Y!==G||ri?(typeof ee=="function"&&(Bu(i,s,ee,c),G=i.memoizedState),(M=ri||Lf(i,s,M,c,Y,G,T))?(X||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=G),h.props=c,h.state=G,h.context=T,c=M):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{h=i.stateNode,yu(t,i),T=i.memoizedProps,X=eo(s,T),h.props=X,ee=i.pendingProps,Y=h.context,G=s.contextType,M=Lo,typeof G=="object"&&G!==null&&(M=gt(G)),b=s.getDerivedStateFromProps,(G=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==ee||Y!==M)&&zf(i,h,c,M),ri=!1,Y=i.memoizedState,h.state=Y,Ql(i,c,h,p),Xl();var Z=i.memoizedState;T!==ee||Y!==Z||ri||t!==null&&t.dependencies!==null&&sa(t.dependencies)?(typeof b=="function"&&(Bu(i,s,b,c),Z=i.memoizedState),(X=ri||Lf(i,s,X,c,Y,Z,M)||t!==null&&t.dependencies!==null&&sa(t.dependencies))?(G||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,Z,M),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,Z,M)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Z),h.props=c,h.state=Z,h.context=M,c=X):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),c=!1)}return h=c,wa(t,i),c=(i.flags&128)!==0,h||c?(h=i.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,t!==null&&c?(i.child=Qi(i,t.child,null,p),i.child=Qi(i,null,s,p)):xt(t,i,s,p),i.memoizedState=h.state,t=i.child):t=Gn(t,i,p),t}function Xf(t,i,s,c){return Yi(),i.flags|=256,xt(t,i,s,c),i.child}var $u={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ju(t){return{baseLanes:t,cachePool:Pd()}}function Ku(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Ft),t}function Qf(t,i,s){var c=i.pendingProps,p=!1,h=(i.flags&128)!==0,T;if((T=h)||(T=t!==null&&t.memoizedState===null?!1:(et.current&2)!==0),T&&(p=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(De){if(p?di(i):fi(),(t=Oe)?(t=sp(t,Qt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:oi!==null?{id:xn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},s=Dd(t),s.return=i,i.child=s,ht=i,Oe=null)):t=null,t===null)throw si(i);return Rc(t)?i.lanes=32:i.lanes=536870912,null}var b=c.children;return c=c.fallback,p?(fi(),p=i.mode,b=Ea({mode:"hidden",children:b},p),c=Oi(c,p,s,null),b.return=i,c.return=i,b.sibling=c,i.child=b,c=i.child,c.memoizedState=Ju(s),c.childLanes=Ku(t,T,s),i.memoizedState=$u,is(null,c)):(di(i),Zu(i,b))}var M=t.memoizedState;if(M!==null&&(b=M.dehydrated,b!==null)){if(h)i.flags&256?(di(i),i.flags&=-257,i=Xu(t,i,s)):i.memoizedState!==null?(fi(),i.child=t.child,i.flags|=128,i=null):(fi(),b=c.fallback,p=i.mode,c=Ea({mode:"visible",children:c.children},p),b=Oi(b,p,s,null),b.flags|=2,c.return=i,b.return=i,c.sibling=b,i.child=c,Qi(i,t.child,null,s),c=i.child,c.memoizedState=Ju(s),c.childLanes=Ku(t,T,s),i.memoizedState=$u,i=is(null,c));else if(di(i),Rc(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var G=T.dgst;T=G,c=Error(l(419)),c.stack="",c.digest=T,Ol({value:c,source:null,stack:null}),i=Xu(t,i,s)}else if(at||Po(t,i,s,!1),T=(s&t.childLanes)!==0,at||T){if(T=qe,T!==null&&(c=_n(T,s),c!==0&&c!==M.retryLane))throw M.retryLane=c,Fi(t,c),zt(T,t,c),Ou;Dc(b)||La(),i=Xu(t,i,s)}else Dc(b)?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,Oe=en(b.nextSibling),ht=i,De=!0,li=null,Qt=!1,t!==null&&Id(i,t),i=Zu(i,c.children),i.flags|=4096);return i}return p?(fi(),b=c.fallback,p=i.mode,M=t.child,G=M.sibling,c=Un(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,G!==null?b=Un(G,b):(b=Oi(b,p,s,null),b.flags|=2),b.return=i,c.return=i,c.sibling=b,i.child=c,is(null,c),c=i.child,b=t.child.memoizedState,b===null?b=Ju(s):(p=b.cachePool,p!==null?(M=lt._currentValue,p=p.parent!==M?{parent:M,pool:M}:p):p=Pd(),b={baseLanes:b.baseLanes|s,cachePool:p}),c.memoizedState=b,c.childLanes=Ku(t,T,s),i.memoizedState=$u,is(t.child,c)):(di(i),s=t.child,t=s.sibling,s=Un(s,{mode:"visible",children:c.children}),s.return=i,s.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=s,i.memoizedState=null,s)}function Zu(t,i){return i=Ea({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ea(t,i){return t=qt(22,t,null,i),t.lanes=0,t}function Xu(t,i,s){return Qi(i,t.child,null,s),t=Zu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Wf(t,i,s){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),fu(t.return,i,s)}function Qu(t,i,s,c,p,h){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:p,treeForkCount:h}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=s,T.tailMode=p,T.treeForkCount=h)}function em(t,i,s){var c=i.pendingProps,p=c.revealOrder,h=c.tail;c=c.children;var T=et.current,b=(T&2)!==0;if(b?(T=T&1|2,i.flags|=128):T&=1,ne(et,T),xt(t,i,c,s),c=De?Fl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wf(t,s,i);else if(t.tag===19)Wf(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(s=i.child,p=null;s!==null;)t=s.alternate,t!==null&&pa(t)===null&&(p=s),s=s.sibling;s=p,s===null?(p=i.child,i.child=null):(p=s.sibling,s.sibling=null),Qu(i,!1,p,s,h,c);break;case"backwards":case"unstable_legacy-backwards":for(s=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&pa(t)===null){i.child=p;break}t=p.sibling,p.sibling=s,s=p,p=t}Qu(i,!0,s,null,h,c);break;case"together":Qu(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Gn(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),hi|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Po(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,s=Un(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Un(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Wu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&sa(t)))}function $g(t,i,s){switch(i.tag){case 3:ft(i,i.stateNode.containerInfo),ai(i,lt,t.memoizedState.cache),Yi();break;case 27:case 5:Ei(i);break;case 4:ft(i,i.stateNode.containerInfo);break;case 10:ai(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Nu(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(di(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Qf(t,i,s):(di(i),t=Gn(t,i,s),t!==null?t.sibling:null);di(i);break;case 19:var p=(t.flags&128)!==0;if(c=(s&i.childLanes)!==0,c||(Po(t,i,s,!1),c=(s&i.childLanes)!==0),p){if(c)return em(t,i,s);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ne(et,et.current),c)break;return null;case 22:return i.lanes=0,Yf(t,i,s,i.pendingProps);case 24:ai(i,lt,t.memoizedState.cache)}return Gn(t,i,s)}function tm(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)at=!0;else{if(!Wu(t,s)&&(i.flags&128)===0)return at=!1,$g(t,i,s);at=(t.flags&131072)!==0}else at=!1,De&&(i.flags&1048576)!==0&&kd(i,Fl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(t=Zi(i.elementType),i.type=t,typeof t=="function")ou(t)?(c=eo(t,c),i.tag=1,i=Zf(null,i,t,c,s)):(i.tag=0,i=Yu(null,i,t,c,s));else{if(t!=null){var p=t.$$typeof;if(p===I){i.tag=11,i=Gf(null,i,t,c,s);break e}else if(p===J){i.tag=14,i=Ff(null,i,t,c,s);break e}}throw i=He(t)||t,Error(l(306,i,""))}}return i;case 0:return Yu(t,i,i.type,i.pendingProps,s);case 1:return c=i.type,p=eo(c,i.pendingProps),Zf(t,i,c,p,s);case 3:e:{if(ft(i,i.stateNode.containerInfo),t===null)throw Error(l(387));c=i.pendingProps;var h=i.memoizedState;p=h.element,yu(t,i),Ql(i,c,null,s);var T=i.memoizedState;if(c=T.cache,ai(i,lt,c),c!==h.cache&&mu(i,[lt],s,!0),Xl(),c=T.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Xf(t,i,c,s);break e}else if(c!==p){p=Kt(Error(l(424)),i),Ol(p),i=Xf(t,i,c,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Oe=en(t.firstChild),ht=i,De=!0,li=null,Qt=!0,s=Od(i,null,c,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Yi(),c===p){i=Gn(t,i,s);break e}xt(t,i,c,s)}i=i.child}return i;case 26:return wa(t,i),t===null?(s=fp(i.type,null,i.pendingProps,null))?i.memoizedState=s:De||(s=i.type,t=i.pendingProps,c=Ba(Ce.current).createElement(s),c[nt]=i,c[mt]=t,vt(c,s,t),it(c),i.stateNode=c):i.memoizedState=fp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ei(i),t===null&&De&&(c=i.stateNode=up(i.type,i.pendingProps,Ce.current),ht=i,Qt=!0,p=Oe,Ci(i.type)?(kc=p,Oe=en(c.firstChild)):Oe=p),xt(t,i,i.pendingProps.children,s),wa(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&De&&((p=c=Oe)&&(c=bx(c,i.type,i.pendingProps,Qt),c!==null?(i.stateNode=c,ht=i,Oe=en(c.firstChild),Qt=!1,p=!0):p=!1),p||si(i)),Ei(i),p=i.type,h=i.pendingProps,T=t!==null?t.memoizedProps:null,c=h.children,Mc(p,h)?c=null:T!==null&&Mc(p,T)&&(i.flags|=32),i.memoizedState!==null&&(p=Eu(t,i,Vg,null,null,s),vs._currentValue=p),wa(t,i),xt(t,i,c,s),i.child;case 6:return t===null&&De&&((t=s=Oe)&&(s=Nx(s,i.pendingProps,Qt),s!==null?(i.stateNode=s,ht=i,Oe=null,t=!0):t=!1),t||si(i)),null;case 13:return Qf(t,i,s);case 4:return ft(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=Qi(i,null,c,s):xt(t,i,c,s),i.child;case 11:return Gf(t,i,i.type,i.pendingProps,s);case 7:return xt(t,i,i.pendingProps,s),i.child;case 8:return xt(t,i,i.pendingProps.children,s),i.child;case 12:return xt(t,i,i.pendingProps.children,s),i.child;case 10:return c=i.pendingProps,ai(i,i.type,c.value),xt(t,i,c.children,s),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,Ji(i),p=gt(p),c=c(p),i.flags|=1,xt(t,i,c,s),i.child;case 14:return Ff(t,i,i.type,i.pendingProps,s);case 15:return Of(t,i,i.type,i.pendingProps,s);case 19:return em(t,i,s);case 31:return Yg(t,i,s);case 22:return Yf(t,i,s,i.pendingProps);case 24:return Ji(i),c=gt(lt),t===null?(p=gu(),p===null&&(p=qe,h=pu(),p.pooledCache=h,h.refCount++,h!==null&&(p.pooledCacheLanes|=s),p=h),i.memoizedState={parent:c,cache:p},vu(i),ai(i,lt,p)):((t.lanes&s)!==0&&(yu(t,i),Ql(i,null,null,s),Xl()),p=t.memoizedState,h=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),ai(i,lt,c)):(c=h.cache,ai(i,lt,c),c!==p.cache&&mu(i,[lt],s,!0))),xt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Fn(t){t.flags|=4}function ec(t,i,s,c,p){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(Am())t.flags|=8192;else throw Xi=ca,xu}else t.flags&=-16777217}function nm(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xp(i))if(Am())t.flags|=8192;else throw Xi=ca,xu}function Ma(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ho():536870912,t.lanes|=i,Xo|=i)}function os(t,i){if(!De)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ye(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,c=0;if(i)for(var p=t.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=s,i}function Jg(t,i,s){var c=i.pendingProps;switch(ru(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(i),null;case 1:return Ye(i),null;case 3:return s=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),qn(lt),Ge(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Vo(i)?Fn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cu())),Ye(i),null;case 26:var p=i.type,h=i.memoizedState;return t===null?(Fn(i),h!==null?(Ye(i),nm(i,h)):(Ye(i),ec(i,p,null,c,s))):h?h!==t.memoizedState?(Fn(i),Ye(i),nm(i,h)):(Ye(i),i.flags&=-16777217):(t=t.memoizedProps,t!==c&&Fn(i),Ye(i),ec(i,p,t,c,s)),null;case 27:if(Sn(i),s=Ce.current,p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&Fn(i);else{if(!c){if(i.stateNode===null)throw Error(l(166));return Ye(i),null}t=ae.current,Vo(i)?jd(i):(t=up(p,c,s),i.stateNode=t,Fn(i))}return Ye(i),null;case 5:if(Sn(i),p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&Fn(i);else{if(!c){if(i.stateNode===null)throw Error(l(166));return Ye(i),null}if(h=ae.current,Vo(i))jd(i);else{var T=Ba(Ce.current);switch(h){case 1:h=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:h=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":h=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":h=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":h=T.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?T.createElement(p,{is:c.is}):T.createElement(p)}}h[nt]=i,h[mt]=c;e:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)h.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break e;for(;T.sibling===null;){if(T.return===null||T.return===i)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=h;e:switch(vt(h,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Fn(i)}}return Ye(i),ec(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&Fn(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(l(166));if(t=Ce.current,Vo(i)){if(t=i.stateNode,s=i.memoizedProps,c=null,p=ht,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}t[nt]=i,t=!!(t.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||Qm(t.nodeValue,s)),t||si(i,!0)}else t=Ba(t).createTextNode(c),t[nt]=i,i.stateNode=t}return Ye(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(c=Vo(i),s!==null){if(t===null){if(!c)throw Error(l(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[nt]=i}else Yi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ye(i),t=!1}else s=cu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(Bt(i),i):(Bt(i),null);if((i.flags&128)!==0)throw Error(l(558))}return Ye(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Vo(i),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(l(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(l(317));p[nt]=i}else Yi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ye(i),p=!1}else p=cu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Bt(i),i):(Bt(i),null)}return Bt(i),(i.flags&128)!==0?(i.lanes=s,i):(s=c!==null,t=t!==null&&t.memoizedState!==null,s&&(c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==p&&(c.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Ma(i,i.updateQueue),Ye(i),null);case 4:return Ge(),t===null&&Sc(i.stateNode.containerInfo),Ye(i),null;case 10:return qn(i.type),Ye(i),null;case 19:if(W(et),c=i.memoizedState,c===null)return Ye(i),null;if(p=(i.flags&128)!==0,h=c.rendering,h===null)if(p)os(c,!1);else{if(Qe!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(h=pa(t),h!==null){for(i.flags|=128,os(c,!1),t=h.updateQueue,i.updateQueue=t,Ma(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)_d(s,t),s=s.sibling;return ne(et,et.current&1|2),De&&Vn(i,c.treeForkCount),i.child}t=t.sibling}c.tail!==null&&Et()>ka&&(i.flags|=128,p=!0,os(c,!1),i.lanes=4194304)}else{if(!p)if(t=pa(h),t!==null){if(i.flags|=128,p=!0,t=t.updateQueue,i.updateQueue=t,Ma(i,t),os(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!De)return Ye(i),null}else 2*Et()-c.renderingStartTime>ka&&s!==536870912&&(i.flags|=128,p=!0,os(c,!1),i.lanes=4194304);c.isBackwards?(h.sibling=i.child,i.child=h):(t=c.last,t!==null?t.sibling=h:i.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Et(),t.sibling=null,s=et.current,ne(et,p?s&1|2:s&1),De&&Vn(i,c.treeForkCount),t):(Ye(i),null);case 22:case 23:return Bt(i),bu(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(s&536870912)!==0&&(i.flags&128)===0&&(Ye(i),i.subtreeFlags&6&&(i.flags|=8192)):Ye(i),s=i.updateQueue,s!==null&&Ma(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==s&&(i.flags|=2048),t!==null&&W(Ki),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),qn(lt),Ye(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function Kg(t,i){switch(ru(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return qn(lt),Ge(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Sn(i),null;case 31:if(i.memoizedState!==null){if(Bt(i),i.alternate===null)throw Error(l(340));Yi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Bt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Yi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(et),null;case 4:return Ge(),null;case 10:return qn(i.type),null;case 22:case 23:return Bt(i),bu(),t!==null&&W(Ki),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return qn(lt),null;case 25:return null;default:return null}}function im(t,i){switch(ru(i),i.tag){case 3:qn(lt),Ge();break;case 26:case 27:case 5:Sn(i);break;case 4:Ge();break;case 31:i.memoizedState!==null&&Bt(i);break;case 13:Bt(i);break;case 19:W(et);break;case 10:qn(i.type);break;case 22:case 23:Bt(i),bu(),t!==null&&W(Ki);break;case 24:qn(lt)}}function ls(t,i){try{var s=i.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var p=c.next;s=p;do{if((s.tag&t)===t){c=void 0;var h=s.create,T=s.inst;c=h(),T.destroy=c}s=s.next}while(s!==p)}}catch(b){ze(i,i.return,b)}}function mi(t,i,s){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var h=p.next;c=h;do{if((c.tag&t)===t){var T=c.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,p=i;var M=s,G=b;try{G()}catch(X){ze(p,M,X)}}}c=c.next}while(c!==h)}}catch(X){ze(i,i.return,X)}}function om(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{$d(i,s)}catch(c){ze(t,t.return,c)}}}function lm(t,i,s){s.props=eo(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(c){ze(t,i,c)}}function ss(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof s=="function"?t.refCleanup=s(c):s.current=c}}catch(p){ze(t,i,p)}}function yn(t,i){var s=t.ref,c=t.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(p){ze(t,i,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){ze(t,i,p)}else s.current=null}function sm(t){var i=t.type,s=t.memoizedProps,c=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(p){ze(t,t.return,p)}}function tc(t,i,s){try{var c=t.stateNode;xx(c,t.type,s,i),c[mt]=i}catch(p){ze(t,t.return,p)}}function am(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ci(t.type)||t.tag===4}function nc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||am(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ic(t,i,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=_t));else if(c!==4&&(c===27&&Ci(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(ic(t,i,s),t=t.sibling;t!==null;)ic(t,i,s),t=t.sibling}function Aa(t,i,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(c!==4&&(c===27&&Ci(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Aa(t,i,s),t=t.sibling;t!==null;)Aa(t,i,s),t=t.sibling}function rm(t){var i=t.stateNode,s=t.memoizedProps;try{for(var c=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);vt(i,c,s),i[nt]=t,i[mt]=s}catch(h){ze(t,t.return,h)}}var On=!1,rt=!1,oc=!1,um=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Zg(t,i){if(t=t.containerInfo,wc=Ka,t=Cd(t),Xr(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var p=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var T=0,b=-1,M=-1,G=0,X=0,ee=t,Y=null;t:for(;;){for(var Z;ee!==s||p!==0&&ee.nodeType!==3||(b=T+p),ee!==h||c!==0&&ee.nodeType!==3||(M=T+c),ee.nodeType===3&&(T+=ee.nodeValue.length),(Z=ee.firstChild)!==null;)Y=ee,ee=Z;for(;;){if(ee===t)break t;if(Y===s&&++G===p&&(b=T),Y===h&&++X===c&&(M=T),(Z=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=Z}s=b===-1||M===-1?null:{start:b,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ec={focusedElem:t,selectionRange:s},Ka=!1,dt=i;dt!==null;)if(i=dt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,dt=t;else for(;dt!==null;){switch(i=dt,h=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)p=t[s],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=i,p=h.memoizedProps,h=h.memoizedState,c=s.stateNode;try{var de=eo(s.type,p);t=c.getSnapshotBeforeUpdate(de,h),c.__reactInternalSnapshotBeforeUpdate=t}catch(ve){ze(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)_c(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_c(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,dt=t;break}dt=i.return}}function cm(t,i,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:$n(t,s),c&4&&ls(5,s);break;case 1:if($n(t,s),c&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(T){ze(s,s.return,T)}else{var p=eo(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(p,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){ze(s,s.return,T)}}c&64&&om(s),c&512&&ss(s,s.return);break;case 3:if($n(t,s),c&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{$d(t,i)}catch(T){ze(s,s.return,T)}}break;case 27:i===null&&c&4&&rm(s);case 26:case 5:$n(t,s),i===null&&c&4&&sm(s),c&512&&ss(s,s.return);break;case 12:$n(t,s);break;case 31:$n(t,s),c&4&&mm(t,s);break;case 13:$n(t,s),c&4&&pm(t,s),c&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=lx.bind(null,s),wx(t,s))));break;case 22:if(c=s.memoizedState!==null||On,!c){i=i!==null&&i.memoizedState!==null||rt,p=On;var h=rt;On=c,(rt=i)&&!h?Jn(t,s,(s.subtreeFlags&8772)!==0):$n(t,s),On=p,rt=h}break;case 30:break;default:$n(t,s)}}function dm(t){var i=t.alternate;i!==null&&(t.alternate=null,dm(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&El(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Je=null,kt=!1;function Yn(t,i,s){for(s=s.child;s!==null;)fm(t,i,s),s=s.sibling}function fm(t,i,s){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(wn,s)}catch{}switch(s.tag){case 26:rt||yn(s,i),Yn(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:rt||yn(s,i);var c=Je,p=kt;Ci(s.type)&&(Je=s.stateNode,kt=!1),Yn(t,i,s),hs(s.stateNode),Je=c,kt=p;break;case 5:rt||yn(s,i);case 6:if(c=Je,p=kt,Je=null,Yn(t,i,s),Je=c,kt=p,Je!==null)if(kt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(s.stateNode)}catch(h){ze(s,i,h)}else try{Je.removeChild(s.stateNode)}catch(h){ze(s,i,h)}break;case 18:Je!==null&&(kt?(t=Je,op(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),ll(t)):op(Je,s.stateNode));break;case 4:c=Je,p=kt,Je=s.stateNode.containerInfo,kt=!0,Yn(t,i,s),Je=c,kt=p;break;case 0:case 11:case 14:case 15:mi(2,s,i),rt||mi(4,s,i),Yn(t,i,s);break;case 1:rt||(yn(s,i),c=s.stateNode,typeof c.componentWillUnmount=="function"&&lm(s,i,c)),Yn(t,i,s);break;case 21:Yn(t,i,s);break;case 22:rt=(c=rt)||s.memoizedState!==null,Yn(t,i,s),rt=c;break;default:Yn(t,i,s)}}function mm(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ll(t)}catch(s){ze(i,i.return,s)}}}function pm(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ll(t)}catch(s){ze(i,i.return,s)}}function Xg(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new um),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new um),i;default:throw Error(l(435,t.tag))}}function _a(t,i){var s=Xg(t);i.forEach(function(c){if(!s.has(c)){s.add(c);var p=sx.bind(null,t,c);c.then(p,p)}})}function It(t,i){var s=i.deletions;if(s!==null)for(var c=0;c<s.length;c++){var p=s[c],h=t,T=i,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Ci(b.type)){Je=b.stateNode,kt=!1;break e}break;case 5:Je=b.stateNode,kt=!1;break e;case 3:case 4:Je=b.stateNode.containerInfo,kt=!0;break e}b=b.return}if(Je===null)throw Error(l(160));fm(h,T,p),Je=null,kt=!1,h=p.alternate,h!==null&&(h.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)hm(i,t),i=i.sibling}var dn=null;function hm(t,i){var s=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:It(i,t),jt(t),c&4&&(mi(3,t,t.return),ls(3,t),mi(5,t,t.return));break;case 1:It(i,t),jt(t),c&512&&(rt||s===null||yn(s,s.return)),c&64&&On&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var p=dn;if(It(i,t),jt(t),c&512&&(rt||s===null||yn(s,s.return)),c&4){var h=s!==null?s.memoizedState:null;if(c=t.memoizedState,s===null)if(c===null)if(t.stateNode===null){e:{c=t.type,s=t.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":h=p.getElementsByTagName("title")[0],(!h||h[ti]||h[nt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=p.createElement(c),p.head.insertBefore(h,p.querySelector("head > title"))),vt(h,c,s),h[nt]=t,it(h),c=h;break e;case"link":var T=hp("link","href",p).get(c+(s.href||""));if(T){for(var b=0;b<T.length;b++)if(h=T[b],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(b,1);break t}}h=p.createElement(c),vt(h,c,s),p.head.appendChild(h);break;case"meta":if(T=hp("meta","content",p).get(c+(s.content||""))){for(b=0;b<T.length;b++)if(h=T[b],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(b,1);break t}}h=p.createElement(c),vt(h,c,s),p.head.appendChild(h);break;default:throw Error(l(468,c))}h[nt]=t,it(h),c=h}t.stateNode=c}else gp(p,t.type,t.stateNode);else t.stateNode=pp(p,c,t.memoizedProps);else h!==c?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,c===null?gp(p,t.type,t.stateNode):pp(p,c,t.memoizedProps)):c===null&&t.stateNode!==null&&tc(t,t.memoizedProps,s.memoizedProps)}break;case 27:It(i,t),jt(t),c&512&&(rt||s===null||yn(s,s.return)),s!==null&&c&4&&tc(t,t.memoizedProps,s.memoizedProps);break;case 5:if(It(i,t),jt(t),c&512&&(rt||s===null||yn(s,s.return)),t.flags&32){p=t.stateNode;try{pe(p,"")}catch(de){ze(t,t.return,de)}}c&4&&t.stateNode!=null&&(p=t.memoizedProps,tc(t,p,s!==null?s.memoizedProps:p)),c&1024&&(oc=!0);break;case 6:if(It(i,t),jt(t),c&4){if(t.stateNode===null)throw Error(l(162));c=t.memoizedProps,s=t.stateNode;try{s.nodeValue=c}catch(de){ze(t,t.return,de)}}break;case 3:if(Oa=null,p=dn,dn=Ga(i.containerInfo),It(i,t),dn=p,jt(t),c&4&&s!==null&&s.memoizedState.isDehydrated)try{ll(i.containerInfo)}catch(de){ze(t,t.return,de)}oc&&(oc=!1,gm(t));break;case 4:c=dn,dn=Ga(t.stateNode.containerInfo),It(i,t),jt(t),dn=c;break;case 12:It(i,t),jt(t);break;case 31:It(i,t),jt(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,_a(t,c)));break;case 13:It(i,t),jt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ra=Et()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,_a(t,c)));break;case 22:p=t.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,G=On,X=rt;if(On=G||p,rt=X||M,It(i,t),rt=X,On=G,jt(t),c&8192)e:for(i=t.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(s===null||M||On||rt||to(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){M=s=i;try{if(h=M.stateNode,p)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=M.stateNode;var ee=M.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(de){ze(M,M.return,de)}}}else if(i.tag===6){if(s===null){M=i;try{M.stateNode.nodeValue=p?"":M.memoizedProps}catch(de){ze(M,M.return,de)}}}else if(i.tag===18){if(s===null){M=i;try{var Z=M.stateNode;p?lp(Z,!0):lp(M.stateNode,!1)}catch(de){ze(M,M.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,_a(t,s))));break;case 19:It(i,t),jt(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,_a(t,c)));break;case 30:break;case 21:break;default:It(i,t),jt(t)}}function jt(t){var i=t.flags;if(i&2){try{for(var s,c=t.return;c!==null;){if(am(c)){s=c;break}c=c.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var p=s.stateNode,h=nc(t);Aa(t,h,p);break;case 5:var T=s.stateNode;s.flags&32&&(pe(T,""),s.flags&=-33);var b=nc(t);Aa(t,b,T);break;case 3:case 4:var M=s.stateNode.containerInfo,G=nc(t);ic(t,G,M);break;default:throw Error(l(161))}}catch(X){ze(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function gm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;gm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function $n(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cm(t,i.alternate,i),i=i.sibling}function to(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:mi(4,i,i.return),to(i);break;case 1:yn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&lm(i,i.return,s),to(i);break;case 27:hs(i.stateNode);case 26:case 5:yn(i,i.return),to(i);break;case 22:i.memoizedState===null&&to(i);break;case 30:to(i);break;default:to(i)}t=t.sibling}}function Jn(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=t,h=i,T=h.flags;switch(h.tag){case 0:case 11:case 15:Jn(p,h,s),ls(4,h);break;case 1:if(Jn(p,h,s),c=h,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){ze(c,c.return,G)}if(c=h,p=c.updateQueue,p!==null){var b=c.stateNode;try{var M=p.shared.hiddenCallbacks;if(M!==null)for(p.shared.hiddenCallbacks=null,p=0;p<M.length;p++)Yd(M[p],b)}catch(G){ze(c,c.return,G)}}s&&T&64&&om(h),ss(h,h.return);break;case 27:rm(h);case 26:case 5:Jn(p,h,s),s&&c===null&&T&4&&sm(h),ss(h,h.return);break;case 12:Jn(p,h,s);break;case 31:Jn(p,h,s),s&&T&4&&mm(p,h);break;case 13:Jn(p,h,s),s&&T&4&&pm(p,h);break;case 22:h.memoizedState===null&&Jn(p,h,s),ss(h,h.return);break;case 30:break;default:Jn(p,h,s)}i=i.sibling}}function lc(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Yl(s))}function sc(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yl(t))}function fn(t,i,s,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xm(t,i,s,c),i=i.sibling}function xm(t,i,s,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:fn(t,i,s,c),p&2048&&ls(9,i);break;case 1:fn(t,i,s,c);break;case 3:fn(t,i,s,c),p&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yl(t)));break;case 12:if(p&2048){fn(t,i,s,c),t=i.stateNode;try{var h=i.memoizedProps,T=h.id,b=h.onPostCommit;typeof b=="function"&&b(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){ze(i,i.return,M)}}else fn(t,i,s,c);break;case 31:fn(t,i,s,c);break;case 13:fn(t,i,s,c);break;case 23:break;case 22:h=i.stateNode,T=i.alternate,i.memoizedState!==null?h._visibility&2?fn(t,i,s,c):as(t,i):h._visibility&2?fn(t,i,s,c):(h._visibility|=2,Jo(t,i,s,c,(i.subtreeFlags&10256)!==0||!1)),p&2048&&lc(T,i);break;case 24:fn(t,i,s,c),p&2048&&sc(i.alternate,i);break;default:fn(t,i,s,c)}}function Jo(t,i,s,c,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=t,T=i,b=s,M=c,G=T.flags;switch(T.tag){case 0:case 11:case 15:Jo(h,T,b,M,p),ls(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&2?Jo(h,T,b,M,p):as(h,T):(X._visibility|=2,Jo(h,T,b,M,p)),p&&G&2048&&lc(T.alternate,T);break;case 24:Jo(h,T,b,M,p),p&&G&2048&&sc(T.alternate,T);break;default:Jo(h,T,b,M,p)}i=i.sibling}}function as(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,c=i,p=c.flags;switch(c.tag){case 22:as(s,c),p&2048&&lc(c.alternate,c);break;case 24:as(s,c),p&2048&&sc(c.alternate,c);break;default:as(s,c)}i=i.sibling}}var rs=8192;function Ko(t,i,s){if(t.subtreeFlags&rs)for(t=t.child;t!==null;)vm(t,i,s),t=t.sibling}function vm(t,i,s){switch(t.tag){case 26:Ko(t,i,s),t.flags&rs&&t.memoizedState!==null&&Ux(s,dn,t.memoizedState,t.memoizedProps);break;case 5:Ko(t,i,s);break;case 3:case 4:var c=dn;dn=Ga(t.stateNode.containerInfo),Ko(t,i,s),dn=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=rs,rs=16777216,Ko(t,i,s),rs=c):Ko(t,i,s));break;default:Ko(t,i,s)}}function ym(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function us(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];dt=c,Tm(c,t)}ym(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cm(t),t=t.sibling}function Cm(t){switch(t.tag){case 0:case 11:case 15:us(t),t.flags&2048&&mi(9,t,t.return);break;case 3:us(t);break;case 12:us(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Da(t)):us(t);break;default:us(t)}}function Da(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];dt=c,Tm(c,t)}ym(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:mi(8,i,i.return),Da(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Da(i));break;default:Da(i)}t=t.sibling}}function Tm(t,i){for(;dt!==null;){var s=dt;switch(s.tag){case 0:case 11:case 15:mi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Yl(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,dt=c;else e:for(s=t;dt!==null;){c=dt;var p=c.sibling,h=c.return;if(dm(c),c===s){dt=null;break e}if(p!==null){p.return=h,dt=p;break e}dt=h}}}var Qg={getCacheForType:function(t){var i=gt(lt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return gt(lt).controller.signal}},Wg=typeof WeakMap=="function"?WeakMap:Map,je=0,qe=null,Ee=null,Ae=0,Le=0,Gt=null,pi=!1,Zo=!1,ac=!1,Kn=0,Qe=0,hi=0,no=0,rc=0,Ft=0,Xo=0,cs=null,Lt=null,uc=!1,Ra=0,Sm=0,ka=1/0,Ia=null,gi=null,ut=0,xi=null,Qo=null,Zn=0,cc=0,dc=null,bm=null,ds=0,fc=null;function Ot(){return(je&2)!==0&&Ae!==0?Ae&-Ae:R.T!==null?vc():Nl()}function Nm(){if(Ft===0)if((Ae&536870912)===0||De){var t=En;En<<=1,(En&3932160)===0&&(En=262144),Ft=t}else Ft=536870912;return t=Ht.current,t!==null&&(t.flags|=32),Ft}function zt(t,i,s){(t===qe&&(Le===2||Le===9)||t.cancelPendingCommit!==null)&&(Wo(t,0),vi(t,Ae,Ft,!1)),An(t,s),((je&2)===0||t!==qe)&&(t===qe&&((je&2)===0&&(no|=s),Qe===4&&vi(t,Ae,Ft,!1)),Cn(t))}function wm(t,i,s){if((je&6)!==0)throw Error(l(327));var c=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Ai(t,i),p=c?nx(t,i):pc(t,i,!0),h=c;do{if(p===0){Zo&&!c&&vi(t,i,0,!1);break}else{if(s=t.current.alternate,h&&!ex(s)){p=pc(t,i,!1),h=!1;continue}if(p===2){if(h=i,t.errorRecoveryDisabledLanes&h)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var b=t;p=cs;var M=b.current.memoizedState.isDehydrated;if(M&&(Wo(b,T).flags|=256),T=pc(b,T,!1),T!==2){if(ac&&!M){b.errorRecoveryDisabledLanes|=h,no|=h,p=4;break e}h=Lt,Lt=p,h!==null&&(Lt===null?Lt=h:Lt.push.apply(Lt,h))}p=T}if(h=!1,p!==2)continue}}if(p===1){Wo(t,0),vi(t,i,0,!0);break}e:{switch(c=t,h=p,h){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:vi(c,i,Ft,!pi);break e;case 2:Lt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(p=Ra+300-Et(),10<p)){if(vi(c,i,Ft,!pi),ei(c,0,!0)!==0)break e;Zn=i,c.timeoutHandle=np(Em.bind(null,c,s,Lt,Ia,uc,i,Ft,no,Xo,pi,h,"Throttled",-0,0),p);break e}Em(c,s,Lt,Ia,uc,i,Ft,no,Xo,pi,h,null,-0,0)}}break}while(!0);Cn(t)}function Em(t,i,s,c,p,h,T,b,M,G,X,ee,Y,Z){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_t},vm(i,h,ee);var de=(h&62914560)===h?Ra-Et():(h&4194048)===h?Sm-Et():0;if(de=Vx(ee,de),de!==null){Zn=h,t.cancelPendingCommit=de(jm.bind(null,t,i,h,s,c,p,T,b,M,X,ee,null,Y,Z)),vi(t,h,T,!G);return}}jm(t,i,h,s,c,p,T,b,M)}function ex(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var p=s[c],h=p.getSnapshot;p=p.value;try{if(!St(h(),p))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vi(t,i,s,c){i&=~rc,i&=~no,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var p=i;0<p;){var h=31-ct(p),T=1<<h;c[h]=-1,p&=~T}s!==0&&go(t,s,i)}function ja(){return(je&6)===0?(fs(0),!1):!0}function mc(){if(Ee!==null){if(Le===0)var t=Ee.return;else t=Ee,Pn=$i=null,_u(t),Go=null,Jl=0,t=Ee;for(;t!==null;)im(t.alternate,t),t=t.return;Ee=null}}function Wo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Cx(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Zn=0,mc(),qe=t,Ee=s=Un(t.current,null),Ae=i,Le=0,Gt=null,pi=!1,Zo=Ai(t,i),ac=!1,Xo=Ft=rc=no=hi=Qe=0,Lt=cs=null,uc=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var p=31-ct(c),h=1<<p;i|=t[p],c&=~h}return Kn=i,ta(),s}function Mm(t,i){Se=null,R.H=ns,i===Bo||i===ua?(i=Bd(),Le=3):i===xu?(i=Bd(),Le=4):Le=i===Ou?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Gt=i,Ee===null&&(Qe=1,ba(t,Kt(i,t.current)))}function Am(){var t=Ht.current;return t===null?!0:(Ae&4194048)===Ae?Wt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?t===Wt:!1}function _m(){var t=R.H;return R.H=ns,t===null?ns:t}function Dm(){var t=R.A;return R.A=Qg,t}function La(){Qe=4,pi||(Ae&4194048)!==Ae&&Ht.current!==null||(Zo=!0),(hi&134217727)===0&&(no&134217727)===0||qe===null||vi(qe,Ae,Ft,!1)}function pc(t,i,s){var c=je;je|=2;var p=_m(),h=Dm();(qe!==t||Ae!==i)&&(Ia=null,Wo(t,i)),i=!1;var T=Qe;e:do try{if(Le!==0&&Ee!==null){var b=Ee,M=Gt;switch(Le){case 8:mc(),T=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(i=!0);var G=Le;if(Le=0,Gt=null,el(t,b,M,G),s&&Zo){T=0;break e}break;default:G=Le,Le=0,Gt=null,el(t,b,M,G)}}tx(),T=Qe;break}catch(X){Mm(t,X)}while(!0);return i&&t.shellSuspendCounter++,Pn=$i=null,je=c,R.H=p,R.A=h,Ee===null&&(qe=null,Ae=0,ta()),T}function tx(){for(;Ee!==null;)Rm(Ee)}function nx(t,i){var s=je;je|=2;var c=_m(),p=Dm();qe!==t||Ae!==i?(Ia=null,ka=Et()+500,Wo(t,i)):Zo=Ai(t,i);e:do try{if(Le!==0&&Ee!==null){i=Ee;var h=Gt;t:switch(Le){case 1:Le=0,Gt=null,el(t,i,h,1);break;case 2:case 9:if(qd(h)){Le=0,Gt=null,km(i);break}i=function(){Le!==2&&Le!==9||qe!==t||(Le=7),Cn(t)},h.then(i,i);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:qd(h)?(Le=0,Gt=null,km(i)):(Le=0,Gt=null,el(t,i,h,7));break;case 5:var T=null;switch(Ee.tag){case 26:T=Ee.memoizedState;case 5:case 27:var b=Ee;if(T?xp(T):b.stateNode.complete){Le=0,Gt=null;var M=b.sibling;if(M!==null)Ee=M;else{var G=b.return;G!==null?(Ee=G,za(G)):Ee=null}break t}}Le=0,Gt=null,el(t,i,h,5);break;case 6:Le=0,Gt=null,el(t,i,h,6);break;case 8:mc(),Qe=6;break e;default:throw Error(l(462))}}ix();break}catch(X){Mm(t,X)}while(!0);return Pn=$i=null,R.H=c,R.A=p,je=s,Ee!==null?0:(qe=null,Ae=0,ta(),Qe)}function ix(){for(;Ee!==null&&!hr();)Rm(Ee)}function Rm(t){var i=tm(t.alternate,t,Kn);t.memoizedProps=t.pendingProps,i===null?za(t):Ee=i}function km(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Kf(s,i,i.pendingProps,i.type,void 0,Ae);break;case 11:i=Kf(s,i,i.pendingProps,i.type.render,i.ref,Ae);break;case 5:_u(i);default:im(s,i),i=Ee=_d(i,Kn),i=tm(s,i,Kn)}t.memoizedProps=t.pendingProps,i===null?za(t):Ee=i}function el(t,i,s,c){Pn=$i=null,_u(i),Go=null,Jl=0;var p=i.return;try{if(Og(t,p,i,s,Ae)){Qe=1,ba(t,Kt(s,t.current)),Ee=null;return}}catch(h){if(p!==null)throw Ee=p,h;Qe=1,ba(t,Kt(s,t.current)),Ee=null;return}i.flags&32768?(De||c===1?t=!0:Zo||(Ae&536870912)!==0?t=!1:(pi=t=!0,(c===2||c===9||c===3||c===6)&&(c=Ht.current,c!==null&&c.tag===13&&(c.flags|=16384))),Im(i,t)):za(i)}function za(t){var i=t;do{if((i.flags&32768)!==0){Im(i,pi);return}t=i.return;var s=Jg(i.alternate,i,Kn);if(s!==null){Ee=s;return}if(i=i.sibling,i!==null){Ee=i;return}Ee=i=t}while(i!==null);Qe===0&&(Qe=5)}function Im(t,i){do{var s=Kg(t.alternate,t);if(s!==null){s.flags&=32767,Ee=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ee=t;return}Ee=t=s}while(t!==null);Qe=6,Ee=null}function jm(t,i,s,c,p,h,T,b,M){t.cancelPendingCommit=null;do Ua();while(ut!==0);if((je&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(h=i.lanes|i.childLanes,h|=nu,vr(t,s,h,T,b,M),t===qe&&(Ee=qe=null,Ae=0),Qo=i,xi=t,Zn=s,cc=h,dc=p,bm=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ax(co,function(){return Pm(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=R.T,R.T=null,p=q.p,q.p=2,T=je,je|=4;try{Zg(t,i,s)}finally{je=T,q.p=p,R.T=c}}ut=1,Lm(),zm(),Um()}}function Lm(){if(ut===1){ut=0;var t=xi,i=Qo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=R.T,R.T=null;var c=q.p;q.p=2;var p=je;je|=4;try{hm(i,t);var h=Ec,T=Cd(t.containerInfo),b=h.focusedElem,M=h.selectionRange;if(T!==b&&b&&b.ownerDocument&&yd(b.ownerDocument.documentElement,b)){if(M!==null&&Xr(b)){var G=M.start,X=M.end;if(X===void 0&&(X=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(X,b.value.length);else{var ee=b.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),de=b.textContent.length,ve=Math.min(M.start,de),Pe=M.end===void 0?ve:Math.min(M.end,de);!Z.extend&&ve>Pe&&(T=Pe,Pe=ve,ve=T);var V=vd(b,ve),j=vd(b,Pe);if(V&&j&&(Z.rangeCount!==1||Z.anchorNode!==V.node||Z.anchorOffset!==V.offset||Z.focusNode!==j.node||Z.focusOffset!==j.offset)){var B=ee.createRange();B.setStart(V.node,V.offset),Z.removeAllRanges(),ve>Pe?(Z.addRange(B),Z.extend(j.node,j.offset)):(B.setEnd(j.node,j.offset),Z.addRange(B))}}}}for(ee=[],Z=b;Z=Z.parentNode;)Z.nodeType===1&&ee.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var Q=ee[b];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ka=!!wc,Ec=wc=null}finally{je=p,q.p=c,R.T=s}}t.current=i,ut=2}}function zm(){if(ut===2){ut=0;var t=xi,i=Qo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=R.T,R.T=null;var c=q.p;q.p=2;var p=je;je|=4;try{cm(t,i.alternate,i)}finally{je=p,q.p=c,R.T=s}}ut=3}}function Um(){if(ut===4||ut===3){ut=0,Cl();var t=xi,i=Qo,s=Zn,c=bm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ut=5:(ut=0,Qo=xi=null,Vm(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(gi=null),vo(s),i=i.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(wn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=R.T,p=q.p,q.p=2,R.T=null;try{for(var h=t.onRecoverableError,T=0;T<c.length;T++){var b=c[T];h(b.value,{componentStack:b.stack})}}finally{R.T=i,q.p=p}}(Zn&3)!==0&&Ua(),Cn(t),p=t.pendingLanes,(s&261930)!==0&&(p&42)!==0?t===fc?ds++:(ds=0,fc=t):ds=0,fs(0)}}function Vm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Yl(i)))}function Ua(){return Lm(),zm(),Um(),Pm()}function Pm(){if(ut!==5)return!1;var t=xi,i=cc;cc=0;var s=vo(Zn),c=R.T,p=q.p;try{q.p=32>s?32:s,R.T=null,s=dc,dc=null;var h=xi,T=Zn;if(ut=0,Qo=xi=null,Zn=0,(je&6)!==0)throw Error(l(331));var b=je;if(je|=4,Cm(h.current),xm(h,h.current,T,s),je=b,fs(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(wn,h)}catch{}return!0}finally{q.p=p,R.T=c,Vm(t,i)}}function qm(t,i,s){i=Kt(s,i),i=Fu(t.stateNode,i,2),t=ci(t,i,2),t!==null&&(An(t,2),Cn(t))}function ze(t,i,s){if(t.tag===3)qm(t,t,s);else for(;i!==null;){if(i.tag===3){qm(i,t,s);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gi===null||!gi.has(c))){t=Kt(s,t),s=Hf(2),c=ci(i,s,2),c!==null&&(Bf(s,c,i,t),An(c,2),Cn(c));break}}i=i.return}}function hc(t,i,s){var c=t.pingCache;if(c===null){c=t.pingCache=new Wg;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(s)||(ac=!0,p.add(s),t=ox.bind(null,t,i,s),i.then(t,t))}function ox(t,i,s){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,qe===t&&(Ae&s)===s&&(Qe===4||Qe===3&&(Ae&62914560)===Ae&&300>Et()-Ra?(je&2)===0&&Wo(t,0):rc|=s,Xo===Ae&&(Xo=0)),Cn(t)}function Hm(t,i){i===0&&(i=ho()),t=Fi(t,i),t!==null&&(An(t,i),Cn(t))}function lx(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Hm(t,s)}function sx(t,i){var s=0;switch(t.tag){case 31:case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(s=p.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(i),Hm(t,s)}function ax(t,i){return yl(t,i)}var Va=null,tl=null,gc=!1,Pa=!1,xc=!1,yi=0;function Cn(t){t!==tl&&t.next===null&&(tl===null?Va=tl=t:tl=tl.next=t),Pa=!0,gc||(gc=!0,ux())}function fs(t,i){if(!xc&&Pa){xc=!0;do for(var s=!1,c=Va;c!==null;){if(t!==0){var p=c.pendingLanes;if(p===0)var h=0;else{var T=c.suspendedLanes,b=c.pingedLanes;h=(1<<31-ct(42|t)+1)-1,h&=p&~(T&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,Om(c,h))}else h=Ae,h=ei(c,c===qe?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||Ai(c,h)||(s=!0,Om(c,h));c=c.next}while(s);xc=!1}}function rx(){Bm()}function Bm(){Pa=gc=!1;var t=0;yi!==0&&yx()&&(t=yi);for(var i=Et(),s=null,c=Va;c!==null;){var p=c.next,h=Gm(c,i);h===0?(c.next=null,s===null?Va=p:s.next=p,p===null&&(tl=s)):(s=c,(t!==0||(h&3)!==0)&&(Pa=!0)),c=p}ut!==0&&ut!==5||fs(t),yi!==0&&(yi=0)}function Gm(t,i){for(var s=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var T=31-ct(h),b=1<<T,M=p[T];M===-1?((b&s)===0||(b&c)!==0)&&(p[T]=_i(b,i)):M<=i&&(t.expiredLanes|=b),h&=~b}if(i=qe,s=Ae,s=ei(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,s===0||t===i&&(Le===2||Le===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&ro(c),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ai(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(c!==null&&ro(c),vo(s)){case 2:case 8:s=uo;break;case 32:s=co;break;case 268435456:s=ks;break;default:s=co}return c=Fm.bind(null,t),s=yl(s,c),t.callbackPriority=i,t.callbackNode=s,i}return c!==null&&c!==null&&ro(c),t.callbackPriority=2,t.callbackNode=null,2}function Fm(t,i){if(ut!==0&&ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Ua()&&t.callbackNode!==s)return null;var c=Ae;return c=ei(t,t===qe?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(wm(t,c,i),Gm(t,Et()),t.callbackNode!=null&&t.callbackNode===s?Fm.bind(null,t):null)}function Om(t,i){if(Ua())return null;wm(t,i,!0)}function ux(){Tx(function(){(je&6)!==0?yl(Rs,rx):Bm()})}function vc(){if(yi===0){var t=qo;t===0&&(t=po,po<<=1,(po&261888)===0&&(po=256)),yi=t}return yi}function Ym(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:jn(""+t)}function $m(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function cx(t,i,s,c,p){if(i==="submit"&&s&&s.stateNode===p){var h=Ym((p[mt]||null).action),T=c.submitter;T&&(i=(i=T[mt]||null)?Ym(i.formAction):T.getAttribute("formAction"),i!==null&&(h=i,T=null));var b=new Mo("action","action",null,c,p);t.push({event:b,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(yi!==0){var M=T?$m(p,T):new FormData(p);Vu(s,{pending:!0,data:M,method:p.method,action:h},null,M)}}else typeof h=="function"&&(b.preventDefault(),M=T?$m(p,T):new FormData(p),Vu(s,{pending:!0,data:M,method:p.method,action:h},h,M))},currentTarget:p}]})}}for(var yc=0;yc<tu.length;yc++){var Cc=tu[yc],dx=Cc.toLowerCase(),fx=Cc[0].toUpperCase()+Cc.slice(1);cn(dx,"on"+fx)}cn(bd,"onAnimationEnd"),cn(Nd,"onAnimationIteration"),cn(wd,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(Ag,"onTransitionRun"),cn(_g,"onTransitionStart"),cn(Dg,"onTransitionCancel"),cn(Ed,"onTransitionEnd"),In("onMouseEnter",["mouseout","mouseover"]),In("onMouseLeave",["mouseout","mouseover"]),In("onPointerEnter",["pointerout","pointerover"]),In("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ms));function Jm(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var c=t[s],p=c.event;c=c.listeners;e:{var h=void 0;if(i)for(var T=c.length-1;0<=T;T--){var b=c[T],M=b.instance,G=b.currentTarget;if(b=b.listener,M!==h&&p.isPropagationStopped())break e;h=b,p.currentTarget=G;try{h(p)}catch(X){ea(X)}p.currentTarget=null,h=M}else for(T=0;T<c.length;T++){if(b=c[T],M=b.instance,G=b.currentTarget,b=b.listener,M!==h&&p.isPropagationStopped())break e;h=b,p.currentTarget=G;try{h(p)}catch(X){ea(X)}p.currentTarget=null,h=M}}}}function Me(t,i){var s=i[pt];s===void 0&&(s=i[pt]=new Set);var c=t+"__bubble";s.has(c)||(Km(i,t,2,!1),s.add(c))}function Tc(t,i,s){var c=0;i&&(c|=4),Km(s,t,c,i)}var qa="_reactListening"+Math.random().toString(36).slice(2);function Sc(t){if(!t[qa]){t[qa]=!0,ki.forEach(function(s){s!=="selectionchange"&&(mx.has(s)||Tc(s,!1,t),Tc(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[qa]||(i[qa]=!0,Tc("selectionchange",!1,i))}}function Km(t,i,s,c){switch(Np(i)){case 2:var p=Hx;break;case 8:p=Bx;break;default:p=Uc}s=p.bind(null,i,s,t),p=void 0,!kl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(i,s,{capture:!0,passive:p}):t.addEventListener(i,s,!0):p!==void 0?t.addEventListener(i,s,{passive:p}):t.addEventListener(i,s,!1)}function bc(t,i,s,c,p){var h=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var b=c.stateNode.containerInfo;if(b===p)break;if(T===4)for(T=c.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;b!==null;){if(T=on(b),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){c=h=T;continue e}b=b.parentNode}}c=c.return}an(function(){var G=h,X=hn(s),ee=[];e:{var Y=Md.get(t);if(Y!==void 0){var Z=Mo,de=t;switch(t){case"keypress":if(wo(s)===0)break e;case"keydown":case"keyup":Z=Ur;break;case"focusin":de="focus",Z=Ul;break;case"focusout":de="blur",Z=Ul;break;case"beforeblur":case"afterblur":Z=Ul;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=wr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=qr;break;case bd:case Nd:case wd:Z=Ar;break;case Ed:Z=Br;break;case"scroll":case"scrollend":Z=br;break;case"wheel":Z=Gr;break;case"copy":case"cut":case"paste":Z=Dr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Js;break;case"toggle":case"beforetoggle":Z=Or}var ve=(i&4)!==0,Pe=!ve&&(t==="scroll"||t==="scrollend"),V=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var j=G,B;j!==null;){var Q=j;if(B=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||B===null||V===null||(Q=Fe(j,V),Q!=null&&ve.push(ps(j,Q,B))),Pe)break;j=j.return}0<ve.length&&(Y=new Z(Y,de,null,s,X),ee.push({event:Y,listeners:ve}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",Y&&s!==Rl&&(de=s.relatedTarget||s.fromElement)&&(on(de)||de[Mt]))break e;if((Z||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(de=s.relatedTarget||s.toElement,Z=G,de=de?on(de):null,de!==null&&(Pe=f(de),ve=de.tag,de!==Pe||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(Z=null,de=G),Z!==de)){if(ve=Ys,Q="onMouseLeave",V="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Js,Q="onPointerLeave",V="onPointerEnter",j="pointer"),Pe=Z==null?Y:Ri(Z),B=de==null?Y:Ri(de),Y=new ve(Q,j+"leave",Z,s,X),Y.target=Pe,Y.relatedTarget=B,Q=null,on(X)===G&&(ve=new ve(V,j+"enter",de,s,X),ve.target=B,ve.relatedTarget=Pe,Q=ve),Pe=Q,Z&&de)t:{for(ve=px,V=Z,j=de,B=0,Q=V;Q;Q=ve(Q))B++;Q=0;for(var he=j;he;he=ve(he))Q++;for(;0<B-Q;)V=ve(V),B--;for(;0<Q-B;)j=ve(j),Q--;for(;B--;){if(V===j||j!==null&&V===j.alternate){ve=V;break t}V=ve(V),j=ve(j)}ve=null}else ve=null;Z!==null&&Zm(ee,Y,Z,ve,!1),de!==null&&Pe!==null&&Zm(ee,Pe,de,ve,!0)}}e:{if(Y=G?Ri(G):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var Re=H;else if(Xs(Y))if(le)Re=Ws;else{Re=Hl;var me=Pt}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Dl(G.elementType)&&(Re=H):Re=Kr;if(Re&&(Re=Re(t,G))){Qs(ee,Re,s,X);break e}me&&me(t,Y,G),t==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&_l(Y,"number",Y.value)}switch(me=G?Ri(G):window,t){case"focusin":(Xs(me)||me.contentEditable==="true")&&(ko=me,Qr=G,Gl=null);break;case"focusout":Gl=Qr=ko=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":Wr=!1,Td(ee,s,X);break;case"selectionchange":if(Mg)break;case"keydown":case"keyup":Td(ee,s,X)}var be;if(Vi)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else un?_o(t,s)&&(_e="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_e="onCompositionStart");_e&&(Ks&&s.locale!=="ko"&&(un||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&un&&(be=Os()):(gn=X,Il="value"in gn?gn.value:gn.textContent,un=!0)),me=Ha(G,_e),0<me.length&&(_e=new $s(_e,t,null,s,X),ee.push({event:_e,listeners:me}),be?_e.data=be:(be=Ze(s),be!==null&&(_e.data=be)))),(be=$r?Do(t,s):Ro(t,s))&&(_e=Ha(G,"onBeforeInput"),0<_e.length&&(me=new $s("onBeforeInput","beforeinput",null,s,X),ee.push({event:me,listeners:_e}),me.data=be)),cx(ee,t,G,s,X)}Jm(ee,i)})}function ps(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Ha(t,i){for(var s=i+"Capture",c=[];t!==null;){var p=t,h=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||h===null||(p=Fe(t,s),p!=null&&c.unshift(ps(t,p,h)),p=Fe(t,i),p!=null&&c.push(ps(t,p,h))),t.tag===3)return c;t=t.return}return[]}function px(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zm(t,i,s,c,p){for(var h=i._reactName,T=[];s!==null&&s!==c;){var b=s,M=b.alternate,G=b.stateNode;if(b=b.tag,M!==null&&M===c)break;b!==5&&b!==26&&b!==27||G===null||(M=G,p?(G=Fe(s,h),G!=null&&T.unshift(ps(s,G,M))):p||(G=Fe(s,h),G!=null&&T.push(ps(s,G,M)))),s=s.return}T.length!==0&&t.push({event:i,listeners:T})}var hx=/\r\n?/g,gx=/\u0000|\uFFFD/g;function Xm(t){return(typeof t=="string"?t:""+t).replace(hx,`
`).replace(gx,"")}function Qm(t,i){return i=Xm(i),Xm(t)===i}function Ve(t,i,s,c,p,h){switch(s){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||pe(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&pe(t,""+c);break;case"className":ji(t,"class",c);break;case"tabIndex":ji(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(t,s,c);break;case"style":Bs(t,c,h);break;case"data":if(i!=="object"){ji(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(s);break}c=jn(""+c),t.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(i!=="input"&&Ve(t,i,"name",p.name,p,null),Ve(t,i,"formEncType",p.formEncType,p,null),Ve(t,i,"formMethod",p.formMethod,p,null),Ve(t,i,"formTarget",p.formTarget,p,null)):(Ve(t,i,"encType",p.encType,p,null),Ve(t,i,"method",p.method,p,null),Ve(t,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(s);break}c=jn(""+c),t.setAttribute(s,c);break;case"onClick":c!=null&&(t.onclick=_t);break;case"onScroll":c!=null&&Me("scroll",t);break;case"onScrollEnd":c!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}s=jn(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,""+c):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":c===!0?t.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,c):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(s,c):t.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(s):t.setAttribute(s,c);break;case"popover":Me("beforetoggle",t),Me("toggle",t),To(t,"popover",c);break;case"xlinkActuate":sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":sn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":sn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":sn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":sn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":To(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Sr.get(s)||s,To(t,s,c))}}function Nc(t,i,s,c,p,h){switch(s){case"style":Bs(t,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"children":typeof c=="string"?pe(t,c):(typeof c=="number"||typeof c=="bigint")&&pe(t,""+c);break;case"onScroll":c!=null&&Me("scroll",t);break;case"onScrollEnd":c!=null&&Me("scrollend",t);break;case"onClick":c!=null&&(t.onclick=_t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ii.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),i=s.slice(2,p?s.length-7:void 0),h=t[mt]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(i,h,p),typeof c=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,c,p);break e}s in t?t[s]=c:c===!0?t.setAttribute(s,""):To(t,s,c)}}}function vt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var c=!1,p=!1,h;for(h in s)if(s.hasOwnProperty(h)){var T=s[h];if(T!=null)switch(h){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ve(t,i,h,T,s,null)}}p&&Ve(t,i,"srcSet",s.srcSet,s,null),c&&Ve(t,i,"src",s.src,s,null);return;case"input":Me("invalid",t);var b=h=T=p=null,M=null,G=null;for(c in s)if(s.hasOwnProperty(c)){var X=s[c];if(X!=null)switch(c){case"name":p=X;break;case"type":T=X;break;case"checked":M=X;break;case"defaultChecked":G=X;break;case"value":h=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(l(137,i));break;default:Ve(t,i,c,X,s,null)}}So(t,h,b,M,G,T,p,!1);return;case"select":Me("invalid",t),c=T=h=null;for(p in s)if(s.hasOwnProperty(p)&&(b=s[p],b!=null))switch(p){case"value":h=b;break;case"defaultValue":T=b;break;case"multiple":c=b;default:Ve(t,i,p,b,s,null)}i=h,s=T,t.multiple=!!c,i!=null?pn(t,!!c,i,!1):s!=null&&pn(t,!!c,s,!0);return;case"textarea":Me("invalid",t),h=p=c=null;for(T in s)if(s.hasOwnProperty(T)&&(b=s[T],b!=null))switch(T){case"value":c=b;break;case"defaultValue":p=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Ve(t,i,T,b,s,null)}qs(t,c,p,h);return;case"option":for(M in s)if(s.hasOwnProperty(M)&&(c=s[M],c!=null))switch(M){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ve(t,i,M,c,s,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(c=0;c<ms.length;c++)Me(ms[c],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in s)if(s.hasOwnProperty(G)&&(c=s[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ve(t,i,G,c,s,null)}return;default:if(Dl(i)){for(X in s)s.hasOwnProperty(X)&&(c=s[X],c!==void 0&&Nc(t,i,X,c,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(c=s[b],c!=null&&Ve(t,i,b,c,s,null))}function xx(t,i,s,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,h=null,T=null,b=null,M=null,G=null,X=null;for(Z in s){var ee=s[Z];if(s.hasOwnProperty(Z)&&ee!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":M=ee;default:c.hasOwnProperty(Z)||Ve(t,i,Z,null,c,ee)}}for(var Y in c){var Z=c[Y];if(ee=s[Y],c.hasOwnProperty(Y)&&(Z!=null||ee!=null))switch(Y){case"type":h=Z;break;case"name":p=Z;break;case"checked":G=Z;break;case"defaultChecked":X=Z;break;case"value":T=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(l(137,i));break;default:Z!==ee&&Ve(t,i,Y,Z,c,ee)}}Al(t,T,b,M,G,X,h,p);return;case"select":Z=T=b=Y=null;for(h in s)if(M=s[h],s.hasOwnProperty(h)&&M!=null)switch(h){case"value":break;case"multiple":Z=M;default:c.hasOwnProperty(h)||Ve(t,i,h,null,c,M)}for(p in c)if(h=c[p],M=s[p],c.hasOwnProperty(p)&&(h!=null||M!=null))switch(p){case"value":Y=h;break;case"defaultValue":b=h;break;case"multiple":T=h;default:h!==M&&Ve(t,i,p,h,c,M)}i=b,s=T,c=Z,Y!=null?pn(t,!!s,Y,!1):!!c!=!!s&&(i!=null?pn(t,!!s,i,!0):pn(t,!!s,s?[]:"",!1));return;case"textarea":Z=Y=null;for(b in s)if(p=s[b],s.hasOwnProperty(b)&&p!=null&&!c.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ve(t,i,b,null,c,p)}for(T in c)if(p=c[T],h=s[T],c.hasOwnProperty(T)&&(p!=null||h!=null))switch(T){case"value":Y=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(l(91));break;default:p!==h&&Ve(t,i,T,p,c,h)}Ps(t,Y,Z);return;case"option":for(var de in s)if(Y=s[de],s.hasOwnProperty(de)&&Y!=null&&!c.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:Ve(t,i,de,null,c,Y)}for(M in c)if(Y=c[M],Z=s[M],c.hasOwnProperty(M)&&Y!==Z&&(Y!=null||Z!=null))switch(M){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ve(t,i,M,Y,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)Y=s[ve],s.hasOwnProperty(ve)&&Y!=null&&!c.hasOwnProperty(ve)&&Ve(t,i,ve,null,c,Y);for(G in c)if(Y=c[G],Z=s[G],c.hasOwnProperty(G)&&Y!==Z&&(Y!=null||Z!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(l(137,i));break;default:Ve(t,i,G,Y,c,Z)}return;default:if(Dl(i)){for(var Pe in s)Y=s[Pe],s.hasOwnProperty(Pe)&&Y!==void 0&&!c.hasOwnProperty(Pe)&&Nc(t,i,Pe,void 0,c,Y);for(X in c)Y=c[X],Z=s[X],!c.hasOwnProperty(X)||Y===Z||Y===void 0&&Z===void 0||Nc(t,i,X,Y,c,Z);return}}for(var V in s)Y=s[V],s.hasOwnProperty(V)&&Y!=null&&!c.hasOwnProperty(V)&&Ve(t,i,V,null,c,Y);for(ee in c)Y=c[ee],Z=s[ee],!c.hasOwnProperty(ee)||Y===Z||Y==null&&Z==null||Ve(t,i,ee,Y,c,Z)}function Wm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),c=0;c<s.length;c++){var p=s[c],h=p.transferSize,T=p.initiatorType,b=p.duration;if(h&&b&&Wm(T)){for(T=0,b=p.responseEnd,c+=1;c<s.length;c++){var M=s[c],G=M.startTime;if(G>b)break;var X=M.transferSize,ee=M.initiatorType;X&&Wm(ee)&&(M=M.responseEnd,T+=X*(M<b?1:(b-G)/(M-G)))}if(--c,i+=8*(h+T)/(p.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wc=null,Ec=null;function Ba(t){return t.nodeType===9?t:t.ownerDocument}function ep(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Mc(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ac=null;function yx(){var t=window.event;return t&&t.type==="popstate"?t===Ac?!1:(Ac=t,!0):(Ac=null,!1)}var np=typeof setTimeout=="function"?setTimeout:void 0,Cx=typeof clearTimeout=="function"?clearTimeout:void 0,ip=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof ip<"u"?function(t){return ip.resolve(null).then(t).catch(Sx)}:np;function Sx(t){setTimeout(function(){throw t})}function Ci(t){return t==="head"}function op(t,i){var s=i,c=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"||s==="/&"){if(c===0){t.removeChild(p),ll(i);return}c--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")c++;else if(s==="html")hs(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,hs(s);for(var h=s.firstChild;h;){var T=h.nextSibling,b=h.nodeName;h[ti]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=T}}else s==="body"&&hs(t.ownerDocument.body);s=p}while(s);ll(i)}function lp(t,i){var s=t;t=0;do{var c=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=c}while(s)}function _c(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_c(s),El(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function bx(t,i,s,c){for(;t.nodeType===1;){var p=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[ti])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var h=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function Nx(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=en(t.nextSibling),t===null))return null;return t}function sp(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=en(t.nextSibling),t===null))return null;return t}function Dc(t){return t.data==="$?"||t.data==="$~"}function Rc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wx(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var c=function(){i(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function en(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var kc=null;function ap(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return en(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function rp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function up(t,i,s){switch(i=Ba(s),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function hs(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);El(t)}var tn=new Map,cp=new Set;function Ga(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xn=q.d;q.d={f:Ex,r:Mx,D:Ax,C:_x,L:Dx,m:Rx,X:Ix,S:kx,M:jx};function Ex(){var t=Xn.f(),i=ja();return t||i}function Mx(t){var i=ln(t);i!==null&&i.tag===5&&i.type==="form"?Mf(i):Xn.r(t)}var nl=typeof document>"u"?null:document;function dp(t,i,s){var c=nl;if(c&&typeof i=="string"&&i){var p=Ct(i);p='link[rel="'+t+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),cp.has(p)||(cp.add(p),t={rel:t,crossOrigin:s,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),vt(i,"link",t),it(i),c.head.appendChild(i)))}}function Ax(t){Xn.D(t),dp("dns-prefetch",t,null)}function _x(t,i){Xn.C(t,i),dp("preconnect",t,i)}function Dx(t,i,s){Xn.L(t,i,s);var c=nl;if(c&&t&&i){var p='link[rel="preload"][as="'+Ct(i)+'"]';i==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+Ct(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+Ct(s.imageSizes)+'"]')):p+='[href="'+Ct(t)+'"]';var h=p;switch(i){case"style":h=il(t);break;case"script":h=ol(t)}tn.has(h)||(t=C({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),tn.set(h,t),c.querySelector(p)!==null||i==="style"&&c.querySelector(gs(h))||i==="script"&&c.querySelector(xs(h))||(i=c.createElement("link"),vt(i,"link",t),it(i),c.head.appendChild(i)))}}function Rx(t,i){Xn.m(t,i);var s=nl;if(s&&t){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Ct(c)+'"][href="'+Ct(t)+'"]',h=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ol(t)}if(!tn.has(h)&&(t=C({rel:"modulepreload",href:t},i),tn.set(h,t),s.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(xs(h)))return}c=s.createElement("link"),vt(c,"link",t),it(c),s.head.appendChild(c)}}}function kx(t,i,s){Xn.S(t,i,s);var c=nl;if(c&&t){var p=Rn(c).hoistableStyles,h=il(t);i=i||"default";var T=p.get(h);if(!T){var b={loading:0,preload:null};if(T=c.querySelector(gs(h)))b.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":i},s),(s=tn.get(h))&&Ic(t,s);var M=T=c.createElement("link");it(M),vt(M,"link",t),M._p=new Promise(function(G,X){M.onload=G,M.onerror=X}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Fa(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:b},p.set(h,T)}}}function Ix(t,i){Xn.X(t,i);var s=nl;if(s&&t){var c=Rn(s).hoistableScripts,p=ol(t),h=c.get(p);h||(h=s.querySelector(xs(p)),h||(t=C({src:t,async:!0},i),(i=tn.get(p))&&jc(t,i),h=s.createElement("script"),it(h),vt(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(p,h))}}function jx(t,i){Xn.M(t,i);var s=nl;if(s&&t){var c=Rn(s).hoistableScripts,p=ol(t),h=c.get(p);h||(h=s.querySelector(xs(p)),h||(t=C({src:t,async:!0,type:"module"},i),(i=tn.get(p))&&jc(t,i),h=s.createElement("script"),it(h),vt(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(p,h))}}function fp(t,i,s,c){var p=(p=Ce.current)?Ga(p):null;if(!p)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=il(s.href),s=Rn(p).hoistableStyles,c=s.get(i),c||(c={type:"style",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=il(s.href);var h=Rn(p).hoistableStyles,T=h.get(t);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,T),(h=p.querySelector(gs(t)))&&!h._p&&(T.instance=h,T.state.loading=5),tn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},tn.set(t,s),h||Lx(p,t,s,T.state))),i&&c===null)throw Error(l(528,""));return T}if(i&&c!==null)throw Error(l(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ol(s),s=Rn(p).hoistableScripts,c=s.get(i),c||(c={type:"script",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function il(t){return'href="'+Ct(t)+'"'}function gs(t){return'link[rel="stylesheet"]['+t+"]"}function mp(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function Lx(t,i,s,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),vt(i,"link",s),it(i),t.head.appendChild(i))}function ol(t){return'[src="'+Ct(t)+'"]'}function xs(t){return"script[async]"+t}function pp(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+Ct(s.href)+'"]');if(c)return i.instance=c,it(c),c;var p=C({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),it(c),vt(c,"style",p),Fa(c,s.precedence,t),i.instance=c;case"stylesheet":p=il(s.href);var h=t.querySelector(gs(p));if(h)return i.state.loading|=4,i.instance=h,it(h),h;c=mp(s),(p=tn.get(p))&&Ic(c,p),h=(t.ownerDocument||t).createElement("link"),it(h);var T=h;return T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),vt(h,"link",c),i.state.loading|=4,Fa(h,s.precedence,t),i.instance=h;case"script":return h=ol(s.src),(p=t.querySelector(xs(h)))?(i.instance=p,it(p),p):(c=s,(p=tn.get(h))&&(c=C({},s),jc(c,p)),t=t.ownerDocument||t,p=t.createElement("script"),it(p),vt(p,"link",c),t.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Fa(c,s.precedence,t));return i.instance}function Fa(t,i,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,h=p,T=0;T<c.length;T++){var b=c[T];if(b.dataset.precedence===i)h=b;else if(h!==p)break}h?h.parentNode.insertBefore(t,h.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Ic(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function jc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Oa=null;function hp(t,i,s){if(Oa===null){var c=new Map,p=Oa=new Map;p.set(s,c)}else p=Oa,c=p.get(s),c||(c=new Map,p.set(s,c));if(c.has(t))return c;for(c.set(t,null),s=s.getElementsByTagName(t),p=0;p<s.length;p++){var h=s[p];if(!(h[ti]||h[nt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(i)||"";T=t+T;var b=c.get(T);b?b.push(h):c.set(T,[h])}}return c}function gp(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function zx(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ux(t,i,s,c){if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=il(c.href),h=i.querySelector(gs(p));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Ya.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=h,it(h);return}h=i.ownerDocument||i,c=mp(c),(p=tn.get(p))&&Ic(c,p),h=h.createElement("link"),it(h);var T=h;T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),vt(h,"link",c),s.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Ya.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Lc=0;function Vx(t,i){return t.stylesheets&&t.count===0&&Ja(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var c=setTimeout(function(){if(t.stylesheets&&Ja(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+i);0<t.imgBytes&&Lc===0&&(Lc=62500*vx());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ja(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Lc?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Ya(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ja(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $a=null;function Ja(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$a=new Map,i.forEach(Px,t),$a=null,Ya.call(t))}function Px(t,i){if(!(i.state.loading&4)){var s=$a.get(t);if(s)var c=s.get(null);else{s=new Map,$a.set(t,s);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<p.length;h++){var T=p[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),c=T)}c&&s.set(null,c)}p=i.instance,T=p.getAttribute("data-precedence"),h=s.get(T)||c,h===c&&s.set(null,p),s.set(T,p),this.count++,c=Ya.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),h?h.parentNode.insertBefore(p,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),i.state.loading|=4}}var vs={$$typeof:L,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function qx(t,i,s,c,p,h,T,b,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.hiddenUpdates=Ut(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function vp(t,i,s,c,p,h,T,b,M,G,X,ee){return t=new qx(t,i,s,T,M,G,X,ee,b),i=1,h===!0&&(i|=24),h=qt(3,null,null,i),t.current=h,h.stateNode=t,i=pu(),i.refCount++,t.pooledCache=i,i.refCount++,h.memoizedState={element:c,isDehydrated:s,cache:i},vu(h),t}function yp(t){return t?(t=Lo,t):Lo}function Cp(t,i,s,c,p,h){p=yp(p),c.context===null?c.context=p:c.pendingContext=p,c=ui(i),c.payload={element:s},h=h===void 0?null:h,h!==null&&(c.callback=h),s=ci(t,c,i),s!==null&&(zt(s,t,i),Zl(s,t,i))}function Tp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function zc(t,i){Tp(t,i),(t=t.alternate)&&Tp(t,i)}function Sp(t){if(t.tag===13||t.tag===31){var i=Fi(t,67108864);i!==null&&zt(i,t,67108864),zc(t,67108864)}}function bp(t){if(t.tag===13||t.tag===31){var i=Ot();i=Di(i);var s=Fi(t,i);s!==null&&zt(s,t,i),zc(t,i)}}var Ka=!0;function Hx(t,i,s,c){var p=R.T;R.T=null;var h=q.p;try{q.p=2,Uc(t,i,s,c)}finally{q.p=h,R.T=p}}function Bx(t,i,s,c){var p=R.T;R.T=null;var h=q.p;try{q.p=8,Uc(t,i,s,c)}finally{q.p=h,R.T=p}}function Uc(t,i,s,c){if(Ka){var p=Vc(c);if(p===null)bc(t,i,c,Za,s),wp(t,c);else if(Fx(p,t,i,s,c))c.stopPropagation();else if(wp(t,c),i&4&&-1<Gx.indexOf(t)){for(;p!==null;){var h=ln(p);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=Mn(h.pendingLanes);if(T!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var M=1<<31-ct(T);b.entanglements[1]|=M,T&=~M}Cn(h),(je&6)===0&&(ka=Et()+500,fs(0))}}break;case 31:case 13:b=Fi(h,2),b!==null&&zt(b,h,2),ja(),zc(h,2)}if(h=Vc(c),h===null&&bc(t,i,c,Za,s),h===p)break;p=h}p!==null&&c.stopPropagation()}else bc(t,i,c,null,s)}}function Vc(t){return t=hn(t),Pc(t)}var Za=null;function Pc(t){if(Za=null,t=on(t),t!==null){var i=f(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=m(i),t!==null)return t;t=null}else if(s===31){if(t=x(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Za=t,null}function Np(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tl()){case Rs:return 2;case uo:return 8;case co:case fo:return 32;case ks:return 268435456;default:return 32}default:return 32}}var qc=!1,Ti=null,Si=null,bi=null,ys=new Map,Cs=new Map,Ni=[],Gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wp(t,i){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":ys.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(i.pointerId)}}function Ts(t,i,s,c,p,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:s,eventSystemFlags:c,nativeEvent:h,targetContainers:[p]},i!==null&&(i=ln(i),i!==null&&Sp(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function Fx(t,i,s,c,p){switch(i){case"focusin":return Ti=Ts(Ti,t,i,s,c,p),!0;case"dragenter":return Si=Ts(Si,t,i,s,c,p),!0;case"mouseover":return bi=Ts(bi,t,i,s,c,p),!0;case"pointerover":var h=p.pointerId;return ys.set(h,Ts(ys.get(h)||null,t,i,s,c,p)),!0;case"gotpointercapture":return h=p.pointerId,Cs.set(h,Ts(Cs.get(h)||null,t,i,s,c,p)),!0}return!1}function Ep(t){var i=on(t.target);if(i!==null){var s=f(i);if(s!==null){if(i=s.tag,i===13){if(i=m(s),i!==null){t.blockedOn=i,wl(t.priority,function(){bp(s)});return}}else if(i===31){if(i=x(s),i!==null){t.blockedOn=i,wl(t.priority,function(){bp(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xa(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Vc(t.nativeEvent);if(s===null){s=t.nativeEvent;var c=new s.constructor(s.type,s);Rl=c,s.target.dispatchEvent(c),Rl=null}else return i=ln(s),i!==null&&Sp(i),t.blockedOn=s,!1;i.shift()}return!0}function Mp(t,i,s){Xa(t)&&s.delete(i)}function Ox(){qc=!1,Ti!==null&&Xa(Ti)&&(Ti=null),Si!==null&&Xa(Si)&&(Si=null),bi!==null&&Xa(bi)&&(bi=null),ys.forEach(Mp),Cs.forEach(Mp)}function Qa(t,i){t.blockedOn===i&&(t.blockedOn=null,qc||(qc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ox)))}var Wa=null;function Ap(t){Wa!==t&&(Wa=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wa===t&&(Wa=null);for(var i=0;i<t.length;i+=3){var s=t[i],c=t[i+1],p=t[i+2];if(typeof c!="function"){if(Pc(c||s)===null)continue;break}var h=ln(s);h!==null&&(t.splice(i,3),i-=3,Vu(h,{pending:!0,data:p,method:s.method,action:c},c,p))}}))}function ll(t){function i(M){return Qa(M,t)}Ti!==null&&Qa(Ti,t),Si!==null&&Qa(Si,t),bi!==null&&Qa(bi,t),ys.forEach(i),Cs.forEach(i);for(var s=0;s<Ni.length;s++){var c=Ni[s];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Ni.length&&(s=Ni[0],s.blockedOn===null);)Ep(s),s.blockedOn===null&&Ni.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var p=s[c],h=s[c+1],T=p[mt]||null;if(typeof h=="function")T||Ap(s);else if(T){var b=null;if(h&&h.hasAttribute("formAction")){if(p=h,T=h[mt]||null)b=T.formAction;else if(Pc(p)!==null)continue}else b=T.action;typeof b=="function"?s[c+1]=b:(s.splice(c,3),c-=3),Ap(s)}}}function _p(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),c||setTimeout(s,20)}function s(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Hc(t){this._internalRoot=t}er.prototype.render=Hc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var s=i.current,c=Ot();Cp(s,c,t,i,null,null)},er.prototype.unmount=Hc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Cp(t.current,2,null,t,null,null),ja(),i[Mt]=null}};function er(t){this._internalRoot=t}er.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nl();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Ni.length&&i!==0&&i<Ni[s].priority;s++);Ni.splice(s,0,t),s===0&&Ep(t)}};var Dp=e.version;if(Dp!=="19.2.0")throw Error(l(527,Dp,"19.2.0"));q.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Yx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tr.isDisabled&&tr.supportsFiber)try{wn=tr.inject(Yx),Ke=tr}catch{}}return bs.createRoot=function(t,i){if(!d(t))throw Error(l(299));var s=!1,c="",p=Uf,h=Vf,T=Pf;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=vp(t,1,!1,null,null,s,c,null,p,h,T,_p),t[Mt]=i.current,Sc(t),new Hc(i)},bs.hydrateRoot=function(t,i,s){if(!d(t))throw Error(l(299));var c=!1,p="",h=Uf,T=Vf,b=Pf,M=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(M=s.formState)),i=vp(t,1,!0,i,s??null,c,p,M,h,T,b,_p),i.context=yp(null),s=i.current,c=Ot(),c=Di(c),p=ui(c),p.callback=null,ci(s,p,c),s=c,i.current.lanes=s,An(i,s),Cn(i),t[Mt]=i.current,Sc(t),new er(i)},bs.version="19.2.0",bs}var qp;function nv(){if(qp)return Fc.exports;qp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fc.exports=tv(),Fc.exports}var iv=nv();const ov=Ph(iv),lv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),sv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),av=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a2.25 2.25 0 0 0-2.25-2.25H9.75a2.25 2.25 0 0 0-2.25 2.25v3.75m6 0H7.5m9 0h-9m9 0v6m-9-6v6m0-6H5.25a2.25 2.25 0 0 0-2.25 2.25v4.5a2.25 2.25 0 0 0 2.25 2.25h13.5a2.25 2.25 0 0 0 2.25-2.25v-4.5a2.25 2.25 0 0 0-2.25-2.25H18.75"})}),nr={personal:"#3B82F6",pareja:"#EC4899",trabajo:"#22C55E",otro:"#64748B"},rv=({currentDate:n,setCurrentDate:e,selectedDate:o,onDateSelect:l,events:d,onOpenPrintView:f})=>{const m=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],x=new Date(n.getFullYear(),n.getMonth(),1),g=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),y=x.getDay(),C=()=>{e(new Date(n.getFullYear(),n.getMonth()-1,1))},S=()=>{e(new Date(n.getFullYear(),n.getMonth()+1,1))},N=(E,P)=>E.getFullYear()===P.getFullYear()&&E.getMonth()===P.getMonth()&&E.getDate()===P.getDate(),w=new Date,_=d.reduce((E,P)=>{const L=P.date;return E[L]||(E[L]=[]),E[L].push(P),E},{}),O=()=>{const E=[];for(let P=0;P<y;P++)E.push(u.jsx("div",{className:"border-r border-b border-zinc-100"},`empty-start-${P}`));for(let P=1;P<=g;P++){const L=new Date(n.getFullYear(),n.getMonth(),P),I=L.toISOString().split("T")[0],F=(_[I]||[]).sort((te,ge)=>te.time.localeCompare(ge.time)),K=N(L,w),J=N(L,o),oe=new Date,$=F.some(te=>{`${te.date}${te.time}`;const ge=new Date(te.date+"T00:00:00"),He=new Date(oe.getFullYear(),oe.getMonth(),oe.getDate());return ge<He&&!te.completed});let re="relative p-2 h-20 sm:h-24 border-r border-b border-zinc-100 flex flex-col cursor-pointer transition-colors duration-200";J?re+=" bg-teal-100":K?re+=" bg-stone-50":re+=" hover:bg-stone-50";let ue="text-sm font-medium";J?ue+=" text-teal-700":K?ue+=" text-teal-600":ue+=" text-zinc-500",E.push(u.jsxs("div",{className:re,onClick:()=>l(L),children:[$&&u.jsx("span",{title:"Hay eventos pasados sin completar",className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full"}),u.jsx("span",{className:ue,children:P}),F.length>0&&u.jsx("div",{className:"mt-1 flex-grow overflow-hidden",children:F.length>2?u.jsx("div",{className:"flex flex-wrap gap-1","aria-label":`${F.length} eventos`,children:F.map(te=>u.jsx("div",{title:`${te.time} - ${te.title}`,className:`w-2 h-2 rounded-full ${te.completed?"opacity-40":""}`,style:{backgroundColor:te.color||nr[te.category]||nr.otro}},te.id))}):u.jsx("div",{className:"space-y-1",children:F.map(te=>u.jsx("div",{className:`w-full text-xs truncate px-1.5 py-0.5 rounded text-white ${te.completed?"opacity-50":""}`,style:{backgroundColor:te.color||nr[te.category]||nr.otro},children:te.title},te.id))})})]},P))}return E};return u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-zinc-700",children:n.toLocaleString("es-ES",{month:"long",year:"numeric"})}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:f,title:"Abrir vista de impresin",className:"p-2 rounded-full hover:bg-zinc-100 transition-colors",children:u.jsx(av,{className:"w-5 h-5 text-zinc-500"})}),u.jsx("button",{onClick:C,className:"p-2 rounded-full hover:bg-zinc-100 transition-colors",children:u.jsx(lv,{className:"w-5 h-5 text-zinc-500"})}),u.jsx("button",{onClick:S,className:"p-2 rounded-full hover:bg-zinc-100 transition-colors",children:u.jsx(sv,{className:"w-5 h-5 text-zinc-500"})})]})]}),u.jsxs("div",{className:"grid grid-cols-7 border-t border-l border-zinc-100 rounded-lg overflow-hidden",children:[m.map(E=>u.jsx("div",{className:"text-center py-2 text-sm font-semibold text-zinc-500 bg-stone-50 border-r border-b border-zinc-100",children:E},E)),O()]})]})},Hp={personal:"#3B82F6",pareja:"#EC4899",trabajo:"#22C55E",otro:"#64748B"},uv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),cv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 11.664 0l3.181-3.183m-3.181-4.991v4.99"})}),dv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),fv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),mv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})}),pv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),hv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),gv=({selectedDate:n,events:e,exams:o,subjects:l,onAddEvent:d,onEditEvent:f,onDeleteEvent:m,onManageRoutines:x,onToggleEventCompletion:v})=>{const[g,y]=qh.useState([]),C=n.toISOString().split("T")[0],S=e.filter(E=>E.date===C).sort((E,P)=>E.time.localeCompare(P.time)),N=E=>{y(P=>P.includes(E)?P.filter(L=>L!==E):[...P,E])},w=E=>{E.routineId||E.isAcademic||m(E.id)},_=E=>E.routineId?"Edita la rutina para cambiar este evento":E.isAcademic?"Gestiona este examen desde la seccin Acadmica":"Editar evento",O=E=>E.routineId?"Elimina la rutina para borrar este evento":E.isAcademic?"Gestiona este examen desde la seccin Acadmica":"Eliminar evento";return u.jsx(u.Fragment,{children:u.jsxs("div",{children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:"Agenda del Da"}),u.jsx("p",{className:"text-md text-zinc-500 mt-1",children:n.toLocaleDateString("es-ES",{weekday:"long",month:"long",day:"numeric"})})]}),u.jsx("div",{className:"mt-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsx("h3",{className:"text-lg font-medium text-zinc-800",children:"Eventos de Hoy"}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[u.jsxs("button",{onClick:x,className:"flex items-center space-x-2 text-sm font-medium text-teal-600 hover:text-teal-800 transition-colors",children:[u.jsx(cv,{className:"w-5 h-5"}),u.jsx("span",{children:"Rutinas"})]}),u.jsxs("button",{onClick:d,className:"flex items-center space-x-2 text-sm font-medium text-teal-600 hover:text-teal-800 transition-colors",children:[u.jsx(uv,{className:"w-5 h-5"}),u.jsx("span",{children:"Aadir Evento"})]})]})]}),S.length>0?u.jsx("ul",{className:"space-y-3",children:S.map(E=>{const P=g.includes(E.id),L=!!E.routineId||!!E.isAcademic,I=E.isAcademic?E.id.replace("exam-",""):null,F=I?o.find(J=>J.id===I):null,K=E.description||E.isAcademic&&(F==null?void 0:F.topics);return u.jsxs("li",{className:`p-3 rounded-lg flex flex-col group transition-all duration-300 ease-in-out border-l-4 ${E.completed?"bg-green-50 border-green-400":"bg-stone-50"}`,style:E.completed?{}:{borderColor:E.color||Hp[E.category]||Hp.otro},children:[u.jsxs("div",{className:"flex justify-between items-start w-full",children:[u.jsxs("div",{className:"flex items-start space-x-3 flex-grow min-w-0",children:[u.jsx("input",{type:"checkbox",checked:!!E.completed,onChange:J=>{J.stopPropagation(),v(E.id)},className:"mt-1 h-5 w-5 rounded border-zinc-300 text-teal-600 focus:ring-teal-500 cursor-pointer flex-shrink-0","aria-label":`Marcar ${E.title} como completado`}),u.jsxs("div",{className:`flex-grow ${K?"cursor-pointer":""}`,onClick:()=>K&&N(E.id),children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[E.completed&&u.jsx(pv,{className:"w-5 h-5 text-green-500 flex-shrink-0 transition-opacity"}),u.jsx("p",{className:`font-semibold text-zinc-800 truncate transition-colors ${E.completed?"line-through text-zinc-500":""}`,children:E.title})]}),u.jsxs("div",{className:`flex items-center gap-2 text-sm transition-colors ${E.completed?"text-zinc-400":"text-zinc-500"}`,children:[u.jsx("span",{children:E.time}),E.reminder&&!E.isAcademic&&u.jsx("div",{title:"Recordatorio en la app activado",children:u.jsx(mv,{className:`w-4 h-4 transition-colors ${E.completed?"text-zinc-400":"text-teal-500"}`})}),(F==null?void 0:F.grade)!==null&&(F==null?void 0:F.grade)!==void 0&&u.jsxs("span",{className:`font-bold text-base ml-2 ${F.grade>=4?"text-green-600":"text-red-600"}`,children:["Nota: ",F.grade]})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 sm:opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0 ml-2",children:[K&&u.jsx("button",{onClick:()=>N(E.id),className:"p-1.5 text-zinc-500 rounded-md",children:u.jsx(hv,{className:`w-4 h-4 transition-transform ${P?"rotate-180":""}`})}),u.jsx("button",{onClick:()=>f(E),disabled:L,className:"p-1.5 text-zinc-500 hover:text-teal-600 rounded-md hover:bg-zinc-200 disabled:cursor-not-allowed disabled:text-zinc-300 disabled:hover:bg-transparent",title:_(E),children:u.jsx(dv,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>w(E),disabled:L,className:"p-1.5 text-zinc-500 hover:text-red-600 rounded-md hover:bg-zinc-200 disabled:cursor-not-allowed disabled:text-zinc-300 disabled:hover:bg-transparent",title:O(E),children:u.jsx(fv,{className:"w-4 h-4"})})]})]}),P&&K&&u.jsx("div",{className:"pl-8 pt-2",children:u.jsx("p",{className:`text-sm whitespace-pre-wrap transition-colors ${E.completed?"text-zinc-500":"text-zinc-600"}`,children:E.isAcademic?F==null?void 0:F.topics:E.description})})]},E.id)})}):u.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No hay eventos programados para hoy."})]})})]})})},xv=["#6366F1","#EC4899","#22C55E","#64748B","#EF4444","#F97316","#EAB308","#3B82F6","#8B5CF6","#14B8A6"],Hh=({selectedColor:n,onChange:e})=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Color"}),u.jsx("div",{className:"flex flex-wrap gap-3",children:xv.map(o=>u.jsx("button",{type:"button",onClick:()=>e(o),className:`w-8 h-8 rounded-full transition-all focus:outline-none border-2 ${n===o?"ring-2 ring-offset-2 ring-teal-500 border-white":"border-transparent hover:scale-110"}`,style:{backgroundColor:o},"aria-label":`Select color ${o}`},o))})]}),cd=()=>{const n=A.useCallback(async()=>{if(!("Notification"in window)){console.log("This browser does not support desktop notification");return}Notification.permission!=="granted"&&Notification.permission!=="denied"&&await Notification.requestPermission()==="granted"&&console.log("Notification permission granted.")},[]),e=A.useCallback((o,l,d)=>{if("Notification"in window&&Notification.permission==="granted"){const f=new Notification(o,{...l,icon:"https://i.postimg.cc/YhvKDdRc/Logo-for-Conecta-Mente-Clean-Sans-Serif-Abstract-Design.png"});d&&(f.onclick=()=>{window.focus(),d(),f.close()})}},[]);return{requestPermission:n,sendSystemNotification:e}},vv=[{id:"personal",name:"Personal",color:"bg-blue-500",ring:"ring-blue-500"},{id:"pareja",name:"Conexin",color:"bg-pink-500",ring:"ring-pink-500"},{id:"trabajo",name:"Trabajo",color:"bg-green-500",ring:"ring-green-500"},{id:"otro",name:"Otro",color:"bg-slate-500",ring:"ring-slate-500"}],yv=({isOpen:n,onClose:e,onSave:o,event:l,selectedDate:d})=>{const[f,m]=A.useState(""),[x,v]=A.useState("12:00"),[g,y]=A.useState(""),[C,S]=A.useState("personal"),[N,w]=A.useState(void 0),[_,O]=A.useState(!1),[E,P]=A.useState(""),{requestPermission:L}=cd();if(A.useEffect(()=>{l?(m(l.title),v(l.time),y(l.description||""),S(l.category||"personal"),w(l.color),O(l.reminder)):(m(""),v("12:00"),y(""),S("personal"),w(void 0),O(!1))},[l]),!n)return null;const I=K=>{if(K.preventDefault(),!f.trim()){P("El ttulo no puede estar vaco.");return}P(""),o({title:f.trim(),date:d.toISOString().split("T")[0],time:x,description:g.trim(),category:C,color:N,reminder:_})},F=K=>{const J=K.target.checked;O(J),J&&L()};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",onClick:K=>K.stopPropagation(),children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800 mb-6",children:l?"Editar Evento":"Aadir Nuevo Evento"}),u.jsxs("form",{onSubmit:I,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Ttulo"}),u.jsx("input",{type:"text",id:"title",value:f,onChange:K=>m(K.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500",placeholder:"p. ej., Reunin de equipo"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"time",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Hora"}),u.jsx("input",{type:"time",id:"time",value:x,onChange:K=>v(K.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Descripcin (Opcional)"}),u.jsx("textarea",{id:"description",value:g,onChange:K=>y(K.target.value),rows:3,className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 resize-none",placeholder:"Aade ms detalles sobre tu evento..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Categora"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:vv.map(K=>u.jsx("button",{type:"button",onClick:()=>S(K.id),className:`px-3 py-1 text-sm font-medium rounded-full transition-all ${C===K.id?`${K.color} text-white ring-2 ring-offset-2 ${K.ring}`:"bg-zinc-100 text-zinc-700 hover:bg-zinc-200"}`,children:K.name},K.id))})]}),u.jsx("div",{className:"pt-2",children:u.jsx(Hh,{selectedColor:N,onChange:w})}),u.jsxs("div",{className:"pt-2 space-y-4",children:[u.jsxs("fieldset",{className:"border-t border-zinc-200 pt-4",children:[u.jsx("legend",{className:"text-sm font-medium text-zinc-800",children:"Recordatorios"}),u.jsx("p",{className:"text-xs text-zinc-500 mt-2 mb-3",children:"Al activar un recordatorio, se te pedir permiso para enviar notificaciones a travs de tu navegador."}),u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"reminder",type:"checkbox",checked:_,onChange:F,className:"h-4 w-4 text-teal-600 border-zinc-300 rounded focus:ring-teal-500"}),u.jsx("label",{htmlFor:"reminder",className:"ml-3 block text-sm text-zinc-700",children:"Notificacin del sistema"})]})})]}),E&&u.jsx("p",{className:"text-red-600 text-sm font-medium text-center bg-red-50 p-2 rounded-md",children:E})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-teal-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Guardar Evento"})]})]})]})})},Cv=[{id:"personal",name:"Personal",color:"bg-blue-500",ring:"ring-blue-500"},{id:"pareja",name:"Conexin",color:"bg-pink-500",ring:"ring-pink-500"},{id:"trabajo",name:"Trabajo",color:"bg-green-500",ring:"ring-green-500"},{id:"otro",name:"Otro",color:"bg-slate-500",ring:"ring-slate-500"}],Tv=[{name:"D",value:0},{name:"L",value:1},{name:"M",value:2},{name:"X",value:3},{name:"J",value:4},{name:"V",value:5},{name:"S",value:6}],Sv=({isOpen:n,onClose:e,onSave:o,routineToEdit:l})=>{const[d,f]=A.useState(""),[m,x]=A.useState("12:00"),[v,g]=A.useState(""),[y,C]=A.useState("personal"),[S,N]=A.useState(void 0),[w,_]=A.useState("weekly"),[O,E]=A.useState([]),[P,L]=A.useState(1),[I,F]=A.useState(new Date().toISOString().split("T")[0]),[K,J]=A.useState(()=>{const q=new Date;return q.setMonth(q.getMonth()+1),q.toISOString().split("T")[0]}),[oe,$]=A.useState(!1),[re,ue]=A.useState(""),{requestPermission:te}=cd(),ge=()=>{f(""),x("12:00"),g(""),C("personal"),N(void 0),_("weekly"),E([]),L(1),F(new Date().toISOString().split("T")[0]),J(()=>{const q=new Date;return q.setMonth(q.getMonth()+1),q.toISOString().split("T")[0]}),$(!1),ue("")};if(A.useEffect(()=>{n&&(l?(f(l.title),x(l.time),g(l.description||""),C(l.category),N(l.color),_(l.frequency),E(l.daysOfWeek||[]),L(l.dayOfMonth||1),F(l.startDate),J(l.endDate),$(l.reminder)):ge())},[n,l]),!n)return null;const He=q=>{E(ie=>ie.includes(q)?ie.filter(ce=>ce!==q):[...ie,q])},se=q=>{const ie=q.target.checked;$(ie),ie&&te()},R=q=>{if(q.preventDefault(),ue(""),!d.trim()){ue("El ttulo no puede estar vaco.");return}if(w==="weekly"&&O.length===0){ue("Debes seleccionar al menos un da de la semana.");return}if(new Date(I)>new Date(K)){ue("La fecha de fin debe ser posterior o igual a la fecha de inicio.");return}o({title:d.trim(),time:m,description:v.trim(),category:y,color:S,frequency:w,daysOfWeek:w==="weekly"?O:void 0,dayOfMonth:w==="monthly"?P:void 0,startDate:I,endDate:K,reminder:oe},l==null?void 0:l.id)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:q=>q.stopPropagation(),children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:l?"Editar Rutina":"Crear Nueva Rutina"}),u.jsxs("form",{onSubmit:R,className:"space-y-3 max-h-[80vh] overflow-y-auto pr-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"routine-title",className:"block text-sm font-medium text-slate-700 mb-1",children:"Ttulo de la Rutina"}),u.jsx("input",{type:"text",id:"routine-title",value:d,onChange:q=>f(q.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"routine-time",className:"block text-sm font-medium text-slate-700 mb-1",children:"Hora"}),u.jsx("input",{type:"time",id:"routine-time",value:m,onChange:q=>x(q.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Frecuencia"}),u.jsxs("select",{value:w,onChange:q=>_(q.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",children:[u.jsx("option",{value:"weekly",children:"Semanal"}),u.jsx("option",{value:"monthly",children:"Mensual"})]})]})]}),w==="weekly"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Repetir los das"}),u.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:Tv.map(q=>u.jsx("button",{type:"button",onClick:()=>He(q.value),className:`w-10 h-10 rounded-full text-sm font-semibold transition-colors ${O.includes(q.value)?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:q.name},q.value))})]}),w==="monthly"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"dayOfMonth",className:"block text-sm font-medium text-slate-700 mb-1",children:"Repetir el da del mes"}),u.jsx("input",{type:"number",id:"dayOfMonth",value:P,onChange:q=>L(Math.max(1,Math.min(31,parseInt(q.target.value,10)||1))),min:"1",max:"31",className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Fecha de Inicio"}),u.jsx("input",{type:"date",id:"startDate",value:I,onChange:q=>F(q.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Fecha de Fin"}),u.jsx("input",{type:"date",id:"endDate",value:K,onChange:q=>J(q.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"routine-description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Descripcin (Opcional)"}),u.jsx("textarea",{id:"routine-description",value:v,onChange:q=>g(q.target.value),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Categora"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Cv.map(q=>u.jsx("button",{type:"button",onClick:()=>C(q.id),className:`px-3 py-1 text-sm font-medium rounded-full transition-all ${y===q.id?`${q.color} text-white ring-2 ring-offset-2 ${q.ring}`:"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:q.name}))})]}),u.jsx("div",{className:"pt-2",children:u.jsx(Hh,{selectedColor:S,onChange:N})}),u.jsxs("div",{className:"pt-2 space-y-4",children:[u.jsxs("fieldset",{className:"border-t border-slate-200 pt-4",children:[u.jsx("legend",{className:"text-sm font-medium text-slate-800",children:"Recordatorios para cada evento"}),u.jsx("p",{className:"text-xs text-slate-500 mt-2 mb-3",children:"Al activar un recordatorio, se te pedir permiso para enviar notificaciones a travs de tu navegador."}),u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"routine-reminder",type:"checkbox",checked:oe,onChange:se,className:"h-4 w-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"}),u.jsx("label",{htmlFor:"routine-reminder",className:"ml-3 block text-sm text-slate-700",children:"Notificacin del sistema"})]})})]}),re&&u.jsx("p",{className:"text-red-600 text-sm font-medium text-center bg-red-50 p-2 rounded-md",children:re})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-white border border-slate-300 rounded-md text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-indigo-700",children:l?"Guardar Cambios":"Guardar Rutina"})]})]})]})})},bv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),Nv=({notification:n,onDismiss:e})=>(A.useEffect(()=>{if(n.action)return;const o=setTimeout(()=>{e(n.id)},8e3);return()=>clearTimeout(o)},[n.id,n.action,e]),u.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-4 w-full max-w-sm pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden animate-fade-in-up",children:[u.jsx("style",{children:`
        @keyframes fade-in-up {
          0% { opacity: 0; transform: translateY(20px); }
          100% { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.3s ease-out forwards; }
      `}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-full flex items-center justify-center",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"white",className:"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})})})}),u.jsxs("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[u.jsx("p",{className:"text-sm font-semibold text-zinc-900",children:n.title}),u.jsx("p",{className:"mt-1 text-sm text-zinc-600",children:n.message}),n.action&&u.jsx("div",{className:"mt-3 flex space-x-3",children:u.jsx("button",{onClick:()=>{var o;(o=n.action)==null||o.callback(),e(n.id)},className:"inline-flex items-center justify-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:n.action.label})})]}),u.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:u.jsxs("button",{onClick:()=>e(n.id),className:"inline-flex text-zinc-400 hover:text-zinc-600",children:[u.jsx("span",{className:"sr-only",children:"Cerrar"}),u.jsx(bv,{className:"h-5 w-5","aria-hidden":"true"})]})})]})]})),wv=({toastNotifications:n,setToastNotifications:e})=>{const o=l=>{e(d=>d.filter(f=>f.id!==l))};return u.jsx("div",{className:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start z-[100]",children:u.jsx("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:n.map(l=>u.jsx(Nv,{notification:l,onDismiss:o},l.id))})})},Ev=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M8.25 9.75A2.625 2.625 0 0 0 5.625 7.125v-1.5a3.375 3.375 0 0 1 6.75 0v1.5c0 .418.053.824.152 1.218"})}),sl=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m-7.5-2.962A3.75 3.75 0 0 1 15 12a3.75 3.75 0 0 1-2.25-6.962m8.024 10.928A9 9 0 1 0 3 18.72m10.602 0A9.01 9.01 0 0 0 18 18.72m-7.5 0v-2.25m0 2.25a3.75 3.75 0 0 0 3.75 3.75M10.5 18.75a3.75 3.75 0 0 0-3.75 3.75m0 0a3.75 3.75 0 0 0 3.75-3.75M3 13.5A3.75 3.75 0 0 1 6.75 9.75a3.75 3.75 0 0 1 3.75 3.75m-3.75 0a3.75 3.75 0 0 0-3.75 3.75"})}),Bp=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.455.09-.934.09-1.425v-2.552c0-3.542 2.67-6.443 6-6.443h2.25c2.519 0 4.716 1.632 5.49 3.868.17.44.258.913.258 1.396Z"})}),Mv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0h18M12 12.75h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm.008-3h.008v.008H12.008V9.75Zm-3 3h.008v.008H9v-.008Zm0-3h.008v.008H9V9.75Zm3 0h.008v.008H12V9.75Zm-3 0h.008v.008H9V9.75Zm6 3h.008v.008h-.008v-.008Zm0-3h.008v.008h-.008V9.75Zm-3 3h.008v.008h-.008v-.008Zm-3-3h.008v.008H9v-.008Z"})}),Gp=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),Fp={pairing_request:u.jsx(sl,{className:"w-6 h-6 text-indigo-500"}),pairing_accepted:u.jsx(sl,{className:"w-6 h-6 text-green-500"}),new_partner_note:u.jsx(Bp,{className:"w-6 h-6 text-yellow-500"}),new_qa_question:u.jsx(Bp,{className:"w-6 h-6 text-cyan-500"}),new_shared_emotion:u.jsx(sl,{className:"w-6 h-6 text-pink-500"}),new_shared_reflection:u.jsx(Gp,{className:"w-6 h-6 text-purple-500"}),new_shared_trip:u.jsx(sl,{className:"w-6 h-6 text-blue-500"}),event_reminder:u.jsx(Mv,{className:"w-6 h-6 text-teal-500"}),daily_reflection_prompt:u.jsx(Gp,{className:"w-6 h-6 text-amber-500"}),goal_checkin:u.jsx(sl,{className:"w-6 h-6 text-lime-500"}),generic:u.jsx(sl,{className:"w-6 h-6 text-slate-500"})},Av=n=>{const e=new Date,o=new Date(n),l=Math.floor((e.getTime()-o.getTime())/1e3);if(l<60)return"ahora";const d=Math.floor(l/60);if(d<60)return`${d}m`;const f=Math.floor(d/60);return f<24?`${f}h`:`${Math.floor(f/24)}d`},_v=({notifications:n,onMarkAsRead:e,onMarkAllAsRead:o,onNotificationClick:l,isMuted:d,onToggleMute:f,onClose:m})=>u.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 sm:w-96 bg-white rounded-xl shadow-2xl border border-zinc-200 z-50 flex flex-col overflow-hidden animate-fade-in",children:[u.jsx("style",{children:`
                @keyframes fade-in {
                    0% { opacity: 0; transform: translateY(-10px); }
                    100% { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in { animation: fade-in 0.2s ease-out forwards; }
            `}),u.jsxs("div",{className:"p-3 border-b border-zinc-200 flex-shrink-0",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:"font-semibold text-zinc-800 text-lg",children:"Notificaciones"}),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsx("button",{onClick:f,title:d?"Activar notificaciones":"Silenciar notificaciones",className:`p-1.5 rounded-full ${d?"text-red-500 bg-red-100":"text-zinc-500 hover:bg-zinc-100"}`,children:u.jsx(Ev,{className:"w-5 h-5"})})})]}),n.some(x=>!x.read)&&u.jsx("button",{onClick:o,className:"text-xs font-medium text-teal-600 hover:underline mt-1",children:"Marcar todo como ledo"})]}),u.jsx("div",{className:"flex-grow overflow-y-auto max-h-96",children:n.length>0?u.jsx("ul",{children:n.map(x=>u.jsxs("li",{onClick:()=>{l(x),m()},className:`flex items-start p-3 space-x-3 cursor-pointer transition-colors ${x.read?"hover:bg-zinc-50":"bg-teal-50 hover:bg-teal-100"}`,children:[u.jsx("div",{className:"flex-shrink-0 mt-0.5",children:Fp[x.type]||Fp.generic}),u.jsxs("div",{className:"flex-grow",children:[u.jsx("p",{className:"font-semibold text-sm text-zinc-800",children:x.title}),u.jsx("p",{className:"text-sm text-zinc-600",children:x.message}),u.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:Av(x.timestamp)})]}),!x.read&&u.jsx("div",{className:"flex-shrink-0 mt-0.5",children:u.jsx("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full"})})]},x.id))}):u.jsxs("div",{className:"text-center p-12 text-zinc-500",children:[u.jsx("p",{className:"font-semibold",children:"Todo al da"}),u.jsx("p",{className:"text-sm mt-1",children:"No tienes notificaciones nuevas."})]})})]}),Dv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m-7.5-2.962A3.75 3.75 0 0 1 15 12a3.75 3.75 0 0 1-2.25-6.962m8.024 10.928A9 9 0 1 0 3 18.72m10.602 0A9.01 9.01 0 0 0 18 18.72m-7.5 0v-2.25m0 2.25a3.75 3.75 0 0 0 3.75 3.75M10.5 18.75a3.75 3.75 0 0 0-3.75 3.75m0 0a3.75 3.75 0 0 0 3.75-3.75M3 13.5A3.75 3.75 0 0 1 6.75 9.75a3.75 3.75 0 0 1 3.75 3.75m-3.75 0a3.75 3.75 0 0 0-3.75 3.75"})}),Rv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})}),kv=n=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z"})]}),Iv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),jv=n=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[u.jsx("path",{d:"M12 14.25c-2.43 0-4.68.62-6.53 1.69.58 1.13 1.34 2.14 2.26 3.06 1.32.96 2.82 1.5 4.38 1.5s3.06-.54 4.38-1.5c.92-.92 1.68-1.93 2.26-3.06C16.68 14.87 14.43 14.25 12 14.25Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14.25A5.25 5.25 0 0 0 17.25 9V6.75a5.25 5.25 0 0 0-5.25-5.25A5.25 5.25 0 0 0 6.75 6.75V9a5.25 5.25 0 0 0 5.25 5.25Z"})]}),Lv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})}),zv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),Uv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),Vv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),Pv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})}),qv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})}),Hv=({user:n,onLogout:e,onManagePairing:o,onManagePin:l,notifications:d,onMarkAsRead:f,onMarkAllAsRead:m,onNotificationClick:x,isMuted:v,onToggleMute:g,onNavigateToPlanner:y,onNavigateToTravelLog:C,onNavigateToGoals:S,onNavigateToHome:N,onNavigateToAcademic:w,activeSection:_,onStartTour:O})=>{const[E,P]=A.useState(!1),[L,I]=A.useState(!1),F=A.useRef(null),K=A.useRef(null),J=d.filter(oe=>!oe.read).length;return A.useEffect(()=>{const oe=$=>{F.current&&!F.current.contains($.target)&&P(!1),K.current&&!K.current.contains($.target)&&I(!1)};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[]),u.jsx("header",{className:"bg-white shadow-sm",children:u.jsxs("div",{className:"max-w-7xl mx-auto py-3 px-2 sm:px-6 lg:px-8 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 cursor-pointer group",onClick:y,title:"Ir al planificador",children:[u.jsx("img",{src:"https://i.postimg.cc/YhvKDdRc/Logo-for-Conecta-Mente-Clean-Sans-Serif-Abstract-Design.png",alt:"ConectaMente Logo",className:"h-10 sm:h-12 transition-transform duration-300 group-hover:scale-105"}),u.jsx("h1",{className:"hidden sm:block text-xl sm:text-2xl font-bold text-zinc-800 tracking-tight",children:"ConectaMente"})]}),u.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[u.jsxs("div",{id:"header-nav",className:"flex items-center flex-wrap justify-end gap-1 sm:gap-2",children:[u.jsxs("button",{id:"header-nav-home",onClick:N,className:`p-2 sm:px-3 sm:py-1.5 border rounded-md text-sm font-medium transition-colors flex items-center space-x-2 ${_==="home"?"bg-teal-100 text-teal-700 border-teal-200":"border-zinc-300 text-zinc-700 hover:bg-zinc-50"}`,children:[u.jsx(Iv,{className:"w-5 h-5 text-teal-500"}),u.jsx("span",{className:"hidden sm:inline",children:"Mi Hogar"})]}),u.jsxs("button",{id:"header-nav-goals",onClick:S,className:`p-2 sm:px-3 sm:py-1.5 border rounded-md text-sm font-medium transition-colors flex items-center space-x-2 ${_==="goals"?"bg-teal-100 text-teal-700 border-teal-200":"border-zinc-300 text-zinc-700 hover:bg-zinc-50"}`,children:[u.jsx(kv,{className:"w-5 h-5 text-teal-500"}),u.jsx("span",{className:"hidden sm:inline",children:"Metas"})]}),u.jsxs("button",{id:"header-nav-academic",onClick:w,className:`p-2 sm:px-3 sm:py-1.5 border rounded-md text-sm font-medium transition-colors flex items-center space-x-2 ${_==="academic"?"bg-teal-100 text-teal-700 border-teal-200":"border-zinc-300 text-zinc-700 hover:bg-zinc-50"}`,children:[u.jsx(jv,{className:"w-5 h-5 text-teal-500"}),u.jsx("span",{className:"hidden sm:inline",children:"Acadmico"})]}),u.jsxs("button",{id:"header-nav-travel",onClick:C,className:`p-2 sm:px-3 sm:py-1.5 border rounded-md text-sm font-medium transition-colors flex items-center space-x-2 ${_==="travel"?"bg-teal-100 text-teal-700 border-teal-200":"border-zinc-300 text-zinc-700 hover:bg-zinc-50"}`,children:[u.jsx(Rv,{className:"w-5 h-5 text-teal-500"}),u.jsx("span",{className:"hidden sm:inline",children:"Viajes"})]})]}),u.jsxs("div",{ref:F,className:"relative",children:[u.jsxs("button",{onClick:()=>P(oe=>!oe),className:"p-2 rounded-full text-zinc-500 hover:bg-zinc-100 hover:text-zinc-700 transition-colors","aria-label":"Ver notificaciones",children:[u.jsx(Lv,{className:"w-6 h-6"}),J>0&&u.jsx("span",{className:"absolute -top-0.5 -right-0.5 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-medium text-white",children:J})]}),E&&u.jsx(_v,{notifications:d,onMarkAsRead:f,onMarkAllAsRead:m,onNotificationClick:x,isMuted:v,onToggleMute:g,onClose:()=>P(!1)})]}),u.jsxs("div",{id:"user-menu",className:"relative",ref:K,children:[u.jsxs("button",{onClick:()=>I(oe=>!oe),className:"flex items-center space-x-2 p-2 rounded-full text-zinc-500 hover:bg-zinc-100 hover:text-zinc-700 transition-colors",children:[u.jsx(zv,{className:"w-6 h-6"}),u.jsx("span",{className:"text-sm font-medium text-zinc-600 hidden sm:block",children:n.name}),u.jsx(Uv,{className:"w-4 h-4 text-zinc-400"})]}),L&&u.jsxs("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-xl shadow-2xl border border-zinc-200 z-50 overflow-hidden animate-fade-in",children:[u.jsx("style",{children:`
                            @keyframes fade-in {
                                0% { opacity: 0; transform: translateY(-10px); }
                                100% { opacity: 1; transform: translateY(0); }
                            }
                            .animate-fade-in { animation: fade-in 0.2s ease-out forwards; }
                        `}),u.jsxs("div",{className:"p-2",children:[u.jsxs("button",{onClick:()=>{o(),I(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-100 rounded-md transition-colors",children:[u.jsx(Dv,{className:"w-5 h-5 text-zinc-500"}),u.jsx("span",{children:"Conexiones"})]}),u.jsxs("button",{onClick:()=>{l(),I(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-100 rounded-md transition-colors",children:[u.jsx(Vv,{className:"w-5 h-5 text-zinc-500"}),u.jsx("span",{children:"Cambiar PIN"})]}),u.jsxs("button",{onClick:()=>{O(),I(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-100 rounded-md transition-colors",children:[u.jsx(qv,{className:"w-5 h-5 text-zinc-500"}),u.jsx("span",{children:"Tour Guiado"})]}),u.jsx("div",{className:"my-1 h-px bg-zinc-100"}),u.jsxs("button",{onClick:e,className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[u.jsx(Pv,{className:"w-5 h-5"}),u.jsx("span",{children:"Cerrar Sesin"})]})]})]})]})]})]})})},Op=({length:n,value:e,onChange:o,error:l})=>{const d=A.useRef([]),f=e.split(""),m=(v,g)=>{var C;const y=v.target.value;if(/^[0-9]$/.test(y)||y===""){const S=[...f];for(;S.length<n;)S.push("");S[g]=y;const N=S.slice(0,n).join("");o(N),y&&g<n-1&&((C=d.current[g+1])==null||C.focus())}},x=(v,g)=>{var y;v.key==="Backspace"&&!f[g]&&g>0&&((y=d.current[g-1])==null||y.focus())};return A.useEffect(()=>{d.current=d.current.slice(0,n)},[n]),u.jsxs("div",{className:`flex justify-center gap-2 sm:gap-3 ${l?"animate-shake":""}`,children:[u.jsx("style",{children:`
            @keyframes shake {
                10%, 90% { transform: translate3d(-1px, 0, 0); }
                20%, 80% { transform: translate3d(2px, 0, 0); }
                30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
                40%, 60% { transform: translate3d(4px, 0, 0); }
            }
            .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }
        `}),Array.from({length:n}).map((v,g)=>u.jsx("input",{ref:y=>{d.current[g]=y},type:"tel",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:f[g]||"",onChange:y=>m(y,g),onKeyDown:y=>x(y,g),className:"w-12 h-14 sm:w-14 sm:h-16 text-center text-2xl sm:text-3xl font-bold border-2 border-zinc-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition"},g))]})},Bv=({users:n,onLogin:e,onCreateUser:o})=>{const[l,d]=A.useState("select_user"),[f,m]=A.useState(null),[x,v]=A.useState(""),[g,y]=A.useState(""),[C,S]=A.useState(""),[N,w]=A.useState(""),_=$=>{m($),S(""),v(""),$.pin?d("enter_pin"):d("set_pin")},O=()=>{m(null),S(""),v(""),y(""),w(""),d("select_user")},E=$=>{v($),S(""),l==="enter_pin"&&$.length===4&&setTimeout(()=>P($),100)},P=$=>{if(!f)return;e(f.id,$)||(S("PIN incorrecto. Por favor, intenta de nuevo."),v(""))},L=()=>{if(x.length!==4){S("El PIN debe tener 4 dgitos.");return}if(x!==g){S("Los PIN no coinciden.");return}e(f.id,x)},I=$=>{if($.preventDefault(),N.trim()){const re=o(N.trim());_(re)}},F=$=>u.jsxs("div",{className:"w-full max-w-sm",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-zinc-800",children:["Hola, ",f==null?void 0:f.name]}),u.jsx("p",{className:"text-zinc-600 mt-2",children:$?"Crea un PIN de 4 dgitos para proteger tu cuenta.":"Ingresa tu PIN para continuar."})]}),u.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-center text-sm font-medium text-zinc-700 mb-2",children:$?"Nuevo PIN":"Tu PIN"}),u.jsx(Op,{length:4,value:x,onChange:E,error:!!C})]}),$&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-center text-sm font-medium text-zinc-700 mb-2",children:"Confirmar PIN"}),u.jsx(Op,{length:4,value:g,onChange:y})]})]}),C&&u.jsx("p",{className:"text-red-600 text-sm mt-4 text-center",children:C}),u.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[u.jsx("button",{type:"button",onClick:O,className:"text-sm font-medium text-teal-600 hover:text-teal-800",children:"Volver"}),$&&u.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 bg-teal-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Guardar y Entrar"})]})]})]}),K=()=>u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("img",{src:"https://i.postimg.cc/YhvKDdRc/Logo-for-Conecta-Mente-Clean-Sans-Serif-Abstract-Design.png",alt:"ConectaMente Logo",className:"h-24 sm:h-32 w-auto mb-6 mx-auto shadow-lg rounded-full drop-shadow-lg"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-zinc-800",children:"Bienvenido/a a ConectaMente"}),u.jsx("p",{className:"text-zinc-600 mt-2",children:"Selecciona un perfil para continuar o crea uno nuevo."})]}),u.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[u.jsx("h2",{className:"text-lg font-semibold text-zinc-700 mb-4",children:"Perfiles Existentes"}),n.length>0?u.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.map($=>u.jsx("button",{onClick:()=>_($),className:"w-full p-4 bg-zinc-100 rounded-lg text-zinc-800 font-semibold hover:bg-teal-100 hover:text-teal-700 transition-colors",children:$.name},$.id))}):u.jsx("p",{className:"text-center text-sm text-zinc-500 py-4",children:"No hay perfiles. Crea el primero!"}),u.jsx("div",{className:"mt-8 pt-6 border-t border-zinc-200",children:u.jsx("button",{onClick:()=>d("create_user"),className:"w-full px-4 py-2 bg-teal-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-teal-700",children:"Crear Nuevo Perfil"})})]})]}),J=()=>u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-zinc-800",children:"Crear Perfil"}),u.jsx("p",{className:"text-zinc-600 mt-2",children:"Introduce tu nombre. Configurars tu PIN en el siguiente paso."})]}),u.jsx("div",{className:"bg-white p-8 rounded-xl shadow-md",children:u.jsxs("form",{onSubmit:I,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"new-name",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Tu nombre"}),u.jsx("input",{type:"text",id:"new-name",value:N,onChange:$=>w($.target.value),placeholder:"Nombre de usuario",className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500",autoFocus:!0})]}),u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsx("button",{type:"button",onClick:O,className:"text-sm font-medium text-teal-600 hover:text-teal-800",children:"Volver"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-teal-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-teal-700 disabled:bg-teal-300",disabled:!N.trim(),children:"Siguiente: Crear PIN"})]})]})})]}),oe=()=>{switch(l){case"enter_pin":return F(!1);case"set_pin":return F(!0);case"create_user":return J();case"select_user":default:return K()}};return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx("main",{className:"flex-grow flex flex-col justify-center items-center p-4",children:oe()}),u.jsxs("footer",{className:"flex-shrink-0",children:[u.jsx("svg",{className:"w-0 h-0 absolute",children:u.jsx("defs",{children:u.jsx("clipPath",{id:"torn-edge-clip",clipPathUnits:"objectBoundingBox",children:u.jsx("path",{d:"M0,0.1 C0.05,0.05, 0.1,0.15, 0.15,0.1 C0.2,0.02, 0.25,0.12, 0.3,0.1 C0.35,0.05, 0.4,0.15, 0.45,0.1 C0.5,0.05, 0.55,0.15, 0.6,0.1 C0.65,0.02, 0.7,0.12, 0.75,0.1 C0.8,0.05, 0.85,0.15, 0.9,0.1 C0.95,0.05, 1,0.15, 1,0.1 V1 H0 Z"})})})}),u.jsx("style",{children:`
          .text-shadow-subtle {
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
          }
          .torn-edge-clip {
            clip-path: url(#torn-edge-clip);
            filter: drop-shadow(0 -6px 4px rgba(0,0,0,0.05));
          }
        `}),u.jsx("div",{className:"torn-edge-clip bg-[#fdfaf6] pt-12 pb-6",children:u.jsxs("blockquote",{className:"max-w-prose mx-auto text-stone-700 font-handwriting text-lg sm:text-xl text-center text-shadow-subtle px-4",children:[u.jsx("p",{children:'"Nunca te olvides que solo existe el hoy. Por qu dejar todo para maana? Viv la vida que quers y que merecs. Por ende, una vida hermosa, llena de disfrute, felicidad y aprendizaje."'}),u.jsx("footer",{className:"text-right mt-2 font-bold",children:"- V.C"})]})})]})]})},Gv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),Fv=({isOpen:n,onClose:e,currentUser:o,pairedUser:l,users:d,requests:f,onSendRequest:m,onRespondToRequest:x,onUnpair:v})=>{if(!n)return null;const g=f.filter(N=>N.toUserId===o.id&&N.status==="pending"),y=f.filter(N=>N.fromUserId===o.id&&N.status==="pending"),C=d.filter(N=>N.id!==o.id&&!N.pairedWith&&!f.some(w=>w.fromUserId===o.id&&w.toUserId===N.id||w.fromUserId===N.id&&w.toUserId===o.id)),S=N=>{var w;return((w=d.find(_=>_.id===N))==null?void 0:w.name)||"Usuario desconocido"};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:N=>N.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Gestionar Conexiones"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-slate-100",children:u.jsx(Gv,{className:"w-6 h-6 text-slate-500"})})]}),u.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg mb-6",children:[u.jsx("h3",{className:"font-semibold text-slate-700",children:"Tu estado actual"}),l?u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsxs("p",{className:"text-slate-600",children:["Vinculado/a con ",u.jsx("span",{className:"font-bold text-indigo-600",children:l.name}),"."]}),u.jsx("button",{onClick:v,className:"px-3 py-1 bg-red-100 text-red-700 text-sm font-medium rounded-md hover:bg-red-200",children:"Desvincular"})]}):u.jsx("p",{className:"text-slate-600 mt-2",children:"No ests vinculado/a con nadie."})]}),g.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-semibold text-slate-700 mb-2",children:"Solicitudes Entrantes"}),u.jsx("ul",{className:"space-y-2",children:g.map(N=>u.jsxs("li",{className:"p-3 bg-indigo-50 rounded-md flex justify-between items-center",children:[u.jsxs("p",{className:"text-slate-800",children:[u.jsx("span",{className:"font-bold text-indigo-700",children:S(N.fromUserId)})," quiere vincularse contigo."]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>x(N.id,"accepted"),className:"px-3 py-1 bg-green-500 text-white text-sm font-medium rounded-md hover:bg-green-600",children:"Aceptar"}),u.jsx("button",{onClick:()=>x(N.id,"declined"),className:"px-3 py-1 bg-slate-200 text-slate-700 text-sm font-medium rounded-md hover:bg-slate-300",children:"Rechazar"})]})]},N.id))})]}),!l&&u.jsxs("div",{children:[y.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-semibold text-slate-700 mb-2",children:"Solicitudes Enviadas"}),u.jsx("ul",{className:"space-y-2",children:y.map(N=>u.jsx("li",{className:"p-3 bg-slate-100 rounded-md flex justify-between items-center",children:u.jsxs("p",{className:"text-slate-600",children:["Esperando respuesta de ",u.jsx("span",{className:"font-bold",children:S(N.toUserId)}),"."]})},N.id))})]}),C.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-slate-700 mb-2",children:"Vincular con un nuevo usuario"}),u.jsx("ul",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:C.map(N=>u.jsxs("li",{className:"p-3 bg-slate-100 rounded-md flex justify-between items-center",children:[u.jsx("p",{className:"text-slate-800 font-medium",children:N.name}),u.jsx("button",{onClick:()=>m(N.id),className:"px-3 py-1 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700",children:"Enviar Solicitud"})]},N.id))})]})]})]})})};let ir;const Ov=new Uint8Array(16);function Yv(){if(!ir&&(ir=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ir))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ir(Ov)}const yt=[];for(let n=0;n<256;++n)yt.push((n+256).toString(16).slice(1));function $v(n,e=0){return yt[n[e+0]]+yt[n[e+1]]+yt[n[e+2]]+yt[n[e+3]]+"-"+yt[n[e+4]]+yt[n[e+5]]+"-"+yt[n[e+6]]+yt[n[e+7]]+"-"+yt[n[e+8]]+yt[n[e+9]]+"-"+yt[n[e+10]]+yt[n[e+11]]+yt[n[e+12]]+yt[n[e+13]]+yt[n[e+14]]+yt[n[e+15]]}const Jv=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Yp={randomUUID:Jv};function Tn(n,e,o){if(Yp.randomUUID&&!n)return Yp.randomUUID();n=n||{};const l=n.random||(n.rng||Yv)();return l[6]=l[6]&15|64,l[8]=l[8]&63|128,$v(l)}const Kv=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),Zv=n=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})]}),Xv=(n,e)=>{const o=new Date(n+"T00:00:00"),l=new Date(e+"T00:00:00"),d={year:"numeric",month:"long",day:"numeric"};return`${o.toLocaleDateString("es-ES",d)} - ${l.toLocaleDateString("es-ES",d)}`},Qv=({note:n,onClose:e,author:o})=>{if(!n.tripContent)return null;const l=n.tripContent;return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[70] flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl flex flex-col scrapbook-background",onClick:d=>d.stopPropagation(),children:[u.jsxs("div",{className:"p-4 border-b border-zinc-200 flex justify-between items-center bg-white/50 flex-shrink-0",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800 font-handwriting",children:l.title}),u.jsxs("p",{className:"text-sm text-zinc-600",children:["Compartido por ",o.name]})]}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-zinc-100",children:u.jsx(Kv,{className:"w-6 h-6 text-zinc-500"})})]}),u.jsxs("div",{className:"flex-grow overflow-y-auto max-h-[80vh] p-6",children:[l.coverPhoto&&u.jsx("div",{className:"mb-4 shadow-lg rounded-sm p-2 bg-white transform -rotate-1",children:u.jsx("img",{src:l.coverPhoto,alt:l.title,className:"w-full h-64 object-cover rounded-sm"})}),u.jsxs("div",{className:"flex items-center text-zinc-600 mb-2",children:[u.jsx(Zv,{className:"w-5 h-5 mr-2"}),u.jsx("span",{children:l.destination})]}),u.jsx("p",{className:"text-sm text-zinc-500 mb-4",children:Xv(l.startDate,l.endDate)}),l.notes&&u.jsxs("blockquote",{className:"italic border-l-4 border-zinc-300 pl-4 py-2 my-4 bg-white/60 rounded-r-lg",children:['"',l.notes,'"']}),u.jsx("h3",{className:"text-xl font-semibold text-zinc-700 mt-6 mb-4 font-handwriting",children:"Recuerdos del Viaje"}),l.highlights.length>0?u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.highlights.map((d,f)=>u.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 items-start p-3 bg-white/80 shadow-md rounded-lg border border-zinc-200 transform ${f%2===0?"rotate-1":"-rotate-1"}`,children:[d.photo&&u.jsx("img",{src:d.photo,alt:d.title,className:"w-full sm:w-40 h-32 object-cover rounded-md flex-shrink-0"}),u.jsxs("div",{className:"flex-grow",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[d.emotion&&u.jsx("span",{className:"text-2xl",children:d.emotion}),u.jsx("h4",{className:"font-bold text-zinc-800",children:d.title})]}),u.jsx("p",{className:"text-xs text-zinc-500 mb-2",children:new Date(d.date+"T00:00:00").toLocaleDateString("es-ES",{month:"long",day:"numeric"})}),u.jsx("p",{className:"text-sm text-zinc-600 whitespace-pre-wrap",children:d.description})]})]},f))}):u.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No se compartieron recuerdos especficos."})]})]})})},$p=[{value:"happy",label:"Feliz",icon:"",bgColor:"bg-green-200"},{value:"content",label:"Contento",icon:"",bgColor:"bg-sky-200"},{value:"motivated",label:"Motivado",icon:"",bgColor:"bg-yellow-200"},{value:"love_you",label:"Te Amo",icon:"",bgColor:"bg-red-200"},{value:"hug",label:"Abrazo",icon:"",bgColor:"bg-pink-200"},{value:"kiss",label:"Beso",icon:"",bgColor:"bg-rose-200"},{value:"miss_you",label:"Te Extrao",icon:"",bgColor:"bg-purple-200"},{value:"sad",label:"Triste",icon:"",bgColor:"bg-blue-200"},{value:"tired",label:"Cansado",icon:"",bgColor:"bg-indigo-200"},{value:"grumpy",label:"Complicado",icon:"",bgColor:"bg-slate-300"},{value:"angry",label:"Enojado",icon:"",bgColor:"bg-orange-300"}],Wv=({currentUserState:n,partnerState:e,onStateSelect:o,onOpenLog:l})=>{const d=({state:f})=>{const m=f?$p.find(x=>x.value===f):null;return u.jsx("div",{className:`w-24 h-24 sm:w-28 sm:h-28 rounded-full flex items-center justify-center text-4xl sm:text-5xl shadow-inner transition-colors duration-300 ${m?m.bgColor:"bg-slate-200"}`,children:m?m.icon:"?"})};return u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:"Mi Energa de Hoy"}),u.jsx("button",{onClick:l,className:"text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors",children:"Ver Historial"})]}),u.jsx("p",{className:"text-sm text-slate-500 mb-6",children:'Elige un "Moji" que represente tu da.'}),u.jsxs("div",{className:"flex justify-center items-center gap-4 sm:gap-8 mb-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(d,{state:n}),u.jsx("p",{className:"font-semibold text-slate-700 mt-2",children:"T"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(d,{state:e}),u.jsx("p",{className:"font-semibold text-slate-700 mt-2",children:"Tu Pareja"})]})]}),u.jsx("div",{className:"flex flex-wrap justify-center gap-2 bg-slate-50 p-3 rounded-lg",children:$p.map(({value:f,label:m,icon:x})=>u.jsxs("button",{onClick:()=>o(f),className:`flex flex-col items-center p-2 rounded-lg transition-all duration-200 w-20 ${n===f?"bg-indigo-200 scale-110":"hover:bg-slate-200"}`,title:m,children:[u.jsx("span",{className:"text-3xl",children:x}),u.jsx("span",{className:"text-xs font-medium text-slate-700 mt-1 text-center",children:m})]},f))})]})},ey=({note:n})=>{const{subjectName:e,newStatus:o,finalGrade:l}=n.subjectUpdateContent,d=o==="aprobada";return u.jsx("div",{className:"mt-1",children:u.jsx("div",{className:`p-3 rounded-md border-l-4 ${d?"bg-green-50 border-green-400":"bg-red-50 border-red-400"}`,children:u.jsxs("p",{className:`text-sm ${d?"text-green-800":"text-red-800"}`,children:[d?"Ha aprobado ":"Necesita recursar ",u.jsx("strong",{className:"font-bold",children:e}),d&&l&&` con un ${l}!`]})})})},ty=({noteId:n,onAddReply:e,onCancel:o})=>{const[l,d]=A.useState(""),f=m=>{m.preventDefault(),l.trim()&&(e(n,l.trim()),d(""),o())};return u.jsxs("form",{onSubmit:f,className:"mt-2 flex items-center space-x-2",children:[u.jsx("input",{type:"text",value:l,onChange:m=>d(m.target.value),placeholder:"Escribe una respuesta...",autoFocus:!0,className:"w-full px-2 py-1 border border-slate-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"}),u.jsx("button",{type:"submit",className:"px-3 py-1 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700",children:"Enviar"})]})},ny=({currentUser:n,partner:e,qaSessions:o,setQaSessions:l,partnerNotes:d,setPartnerNotes:f,sharedEmotionStates:m,setSharedEmotionStates:x,onOpenEmotionLog:v,onAddReply:g})=>{const[y,C]=A.useState(""),[S,N]=A.useState(""),[w,_]=A.useState(""),[O,E]=A.useState(null),[P,L]=A.useState(null),I=new Date().toISOString().split("T")[0],F=A.useMemo(()=>m.find(se=>se.date===I),[m,I]),K=se=>{const R=m.findIndex(q=>q.date===I);R>-1?x(q=>{const ie=[...q];return ie[R]={...ie[R],emotions:{...ie[R].emotions,[n.id]:se}},ie}):x(q=>[...q,{date:I,emotions:{[n.id]:se}}])},J=A.useMemo(()=>o.find(se=>se.askerId===e.id&&!se.answer),[o,e.id]),oe=A.useMemo(()=>[...o].filter(se=>se.answer).sort((se,R)=>new Date(R.answeredAt).getTime()-new Date(se.answeredAt).getTime()),[o]),{mainNotes:$,repliesByNoteId:re}=A.useMemo(()=>{const se=[...d].sort((ce,ye)=>new Date(ce.timestamp).getTime()-new Date(ye.timestamp).getTime()),R=se.filter(ce=>!ce.replyToId),ie=se.filter(ce=>ce.replyToId).reduce((ce,ye)=>(ce[ye.replyToId]||(ce[ye.replyToId]=[]),ce[ye.replyToId].push(ye),ce),{});return{mainNotes:R.reverse(),repliesByNoteId:ie}},[d]),ue=se=>{if(se.preventDefault(),!y.trim())return;const R={id:Tn(),askerId:n.id,question:y.trim(),askedAt:new Date().toISOString()};l(q=>[R,...q]),C("")},te=se=>{S.trim()&&(l(R=>R.map(q=>q.id===se?{...q,answer:S.trim(),answeredAt:new Date().toISOString()}:q)),N(""))},ge=se=>{if(se.preventDefault(),!w.trim())return;const R={id:Tn(),authorId:n.id,text:w.trim(),timestamp:new Date().toISOString(),type:"note"};f(q=>[R,...q]),_("")},He=se=>se===n.id?n:e;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-1 space-y-8",children:u.jsx(Wv,{currentUserState:F==null?void 0:F.emotions[n.id],partnerState:F==null?void 0:F.emotions[e.id],onStateSelect:K,onOpenLog:v})}),u.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Preguntas y Respuestas"}),J?u.jsxs("div",{className:"p-4 bg-indigo-50 border-l-4 border-indigo-400 rounded-r-lg",children:[u.jsxs("p",{className:"font-semibold text-indigo-800",children:[e.name," te pregunta:"]}),u.jsxs("p",{className:"mt-2 text-indigo-900 italic",children:['"',J.question,'"']}),u.jsxs("div",{className:"mt-4 flex space-x-2",children:[u.jsx("input",{type:"text",value:S,onChange:se=>N(se.target.value),placeholder:"Tu respuesta...",className:"w-full px-3 py-2 border border-indigo-200 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),u.jsx("button",{onClick:()=>te(J.id),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Enviar"})]})]}):u.jsxs("form",{onSubmit:ue,children:[u.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:["Hazle una pregunta a ",e.name," para conectar."]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",value:y,onChange:se=>C(se.target.value),placeholder:"p. ej., Cul fue tu parte favorita del da?",className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Preguntar"})]})]}),oe.length>0&&u.jsxs("div",{className:"mt-6",children:[u.jsx("h4",{className:"font-medium text-slate-600 text-sm mb-2",children:"Conversaciones pasadas"}),u.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto pr-2",children:oe.map(se=>u.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-sm",children:[u.jsxs("p",{children:[u.jsxs("strong",{className:"text-slate-700",children:[He(se.askerId).name,":"]}),' "',se.question,'"']}),u.jsxs("p",{className:"mt-1 pl-4",children:[u.jsx("strong",{className:"text-slate-600",children:"R:"})," ",se.answer]})]},se.id))})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Notas y Recuerdos Compartidos"}),u.jsxs("form",{onSubmit:ge,className:"mb-6",children:[u.jsx("textarea",{value:w,onChange:se=>_(se.target.value),rows:2,placeholder:`Deja una nota para ${e.name}...`,className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"}),u.jsx("div",{className:"flex justify-end mt-2",children:u.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm font-medium",children:"Publicar Nota"})})]}),u.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:$.map(se=>{const R=He(se.authorId),q=R.id===n.id,ie=re[se.id]||[];return u.jsx("div",{className:`flex ${q?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:"w-full max-w-sm",children:[u.jsxs("div",{className:`p-3 rounded-lg ${q?"bg-indigo-100":"bg-slate-100"}`,children:[u.jsx("p",{className:"font-semibold text-sm text-slate-800",children:q?"T":R.name}),se.type==="reflection"&&se.reflectionContent?u.jsxs("div",{className:"mt-1",children:[u.jsx("p",{className:"text-sm text-slate-600",children:"Comparti una reflexin:"}),u.jsx("div",{className:"mt-1 p-2 bg-white/50 rounded-md border border-slate-200",children:u.jsxs("p",{className:"font-medium italic",children:['"',se.reflectionContent.dayTitle,'"']})})]}):se.type==="trip"&&se.tripContent?u.jsxs("div",{className:"mt-1",children:[u.jsx("p",{className:"text-sm text-slate-600",children:"Comparti un viaje:"}),u.jsxs("button",{onClick:()=>E(se),className:"mt-1 p-2 bg-white/50 rounded-md border border-slate-200 w-full text-left hover:bg-white",children:[u.jsxs("p",{className:"font-medium italic",children:['"',se.tripContent.title,'"']}),u.jsx("span",{className:"text-xs text-indigo-600",children:"Ver detalles"})]})]}):se.type==="subject_update"&&se.subjectUpdateContent?u.jsx(ey,{note:se}):u.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:se.text}),u.jsx("p",{className:"text-xs text-slate-400 text-right mt-1",children:new Date(se.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),ie.length>0&&u.jsx("div",{className:"pl-4 mt-2 space-y-2 border-l-2 border-slate-300",children:ie.map(ce=>{const ye=He(ce.authorId),k=ye.id===n.id;return u.jsxs("div",{className:`p-2 rounded-lg text-sm ${k?"bg-indigo-50":"bg-slate-50"}`,children:[u.jsxs("p",{className:"font-semibold text-xs text-slate-600",children:[ye.name," respondi:"]}),u.jsx("p",{className:"text-slate-700",children:ce.text})]},ce.id)})}),P===se.id?u.jsx(ty,{noteId:se.id,onAddReply:g,onCancel:()=>L(null)}):u.jsx("div",{className:"mt-1 text-right",children:u.jsx("button",{onClick:()=>L(se.id),className:"text-xs font-semibold text-indigo-600 hover:underline",children:"Responder"})})]})},se.id)})})]})]})]}),O&&u.jsx(Qv,{note:O,onClose:()=>E(null),author:He(O.authorId)})]})},Jp={motivated:{icon:"",text:"se siente motivado/a"},happy:{icon:"",text:"se siente feliz"},content:{icon:"",text:"est contento/a"},tired:{icon:"",text:"est un poco cansado/a"},grumpy:{icon:"",text:"tiene un da complicado"},sad:{icon:"",text:"se siente triste"},angry:{icon:"",text:"se siente enojado/a"},love_you:{icon:"",text:"te enva amor"},miss_you:{icon:"",text:"te extraa"},hug:{icon:"",text:"quiere un abrazo"},kiss:{icon:"",text:"quiere un beso"}},iy={note:{bg:"bg-yellow-200",text:"text-yellow-900",rotate:"transform -rotate-2"},emotion:{bg:"bg-pink-200",text:"text-pink-900",rotate:"transform rotate-1"},reflection:{bg:"bg-purple-200",text:"text-purple-900",rotate:"transform rotate-2"},trip:{bg:"bg-sky-200",text:"text-sky-900",rotate:"transform -rotate-1"},academic_summary:{bg:"bg-indigo-200",text:"text-indigo-900",rotate:"transform rotate-1"},subject_update:{bg:"bg-indigo-200",text:"text-indigo-900",rotate:"transform -rotate-2"}},oy=({partner:n,partnerNotes:e,sharedEmotionStates:o,onNavigate:l})=>{const d=A.useMemo(()=>{const m=e.filter(v=>v.authorId===n.id).map(v=>({id:v.id,type:v.type||"note",timestamp:v.timestamp,content:v.type==="reflection"&&v.reflectionContent?`Reflexin: "${v.reflectionContent.dayTitle||"..."}"`:v.type==="trip"&&v.tripContent?`Viaje a: "${v.tripContent.title}"`:`"${v.text}"`})),x=o.filter(v=>v.emotions[n.id]).map(v=>({id:v.date,type:"emotion",timestamp:new Date(v.date).toISOString(),content:`${Jp[v.emotions[n.id]].icon} ${Jp[v.emotions[n.id]].text}`}));return[...m,...x].sort((v,g)=>new Date(g.timestamp).getTime()-new Date(v.timestamp).getTime()).slice(0,3)},[n.id,e,o]),f=m=>{const x=new Date,v=new Date(m),g=Math.floor((x.getTime()-v.getTime())/1e3);if(g<60)return"ahora";const y=Math.floor(g/60);if(y<60)return`${y}m`;const C=Math.floor(y/60);return C<24?`${C}h`:`${Math.floor(C/24)}d`};return u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md scrapbook-background",children:[u.jsxs("h3",{className:"text-xl font-semibold text-slate-700 mb-4 font-handwriting",children:["Notas de ",n.name]}),d.length>0?u.jsxs("div",{className:"space-y-4",children:[d.map(m=>{const x=iy[m.type];return u.jsxs("div",{className:`p-4 rounded-md shadow-md ${x.bg} ${x.rotate}`,children:[u.jsx("p",{className:`text-md font-handwriting ${x.text} truncate`,children:m.content}),u.jsx("p",{className:`text-right text-xs mt-2 opacity-70 ${x.text}`,children:f(m.timestamp)})]},m.id)}),u.jsx("div",{className:"pt-3 text-center",children:u.jsx("button",{onClick:l,className:"text-sm font-semibold text-indigo-600 hover:text-indigo-800 transition-colors",children:"Ver historial completo "})})]}):u.jsxs("div",{className:"text-center text-sm text-slate-500 py-8 bg-slate-50/70 rounded-lg",children:["No hay actividad reciente de ",n.name,"."]})]})},ly=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),sy=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),ay=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.195.025.39.05.588.082a2.25 2.25 0 0 1 2.829 2.829.096.096 0 0 0 .082.082m0 0a2.25 2.25 0 1 0 2.186 0m-2.186 0a2.25 2.25 0 0 0-2.829-2.829.096.096 0 0 1-.082-.082m0 0a2.25 2.25 0 1 0 0-2.186m0 2.186c-.195-.025-.39-.05-.588-.082a2.25 2.25 0 0 1-2.829-2.829.096.096 0 0 0-.082-.082"})}),ry=[{emoji:"",label:"Contento"},{emoji:"",label:"Tranquilo"},{emoji:"",label:"Pensativo"},{emoji:"",label:"Productivo"},{emoji:"",label:"Complicado"}],uy=({journalEntries:n,currentJournalEntry:e,selectedDate:o,onSave:l,onOpenHistory:d,onOpenShareModal:f,partner:m})=>{const[x,v]=A.useState(""),[g,y]=A.useState(""),[C,S]=A.useState(""),[N,w]=A.useState(""),[_,O]=A.useState(!1),[E,P]=A.useState(!1);A.useEffect(()=>{v((e==null?void 0:e.positiveThought)||""),y((e==null?void 0:e.lessonLearned)||""),S((e==null?void 0:e.dayTitle)||""),w((e==null?void 0:e.emotionEmoji)||""),P(!1)},[e,o]);const L=()=>{(x.trim()||g.trim()||C.trim()||N)&&(l({date:o.toISOString().split("T")[0],positiveThought:x,lessonLearned:g,dayTitle:C,emotionEmoji:N}),O(!0),P(!1),setTimeout(()=>O(!1),2500))},I=oe=>{w(oe),E||P(!0)},F=oe=>$=>{oe($.target.value),E||P(!0)},K=_||!E,J=!e||E||!m;return u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ly,{className:"w-6 h-6 text-teal-500"}),u.jsx("h3",{className:"text-xl font-semibold text-zinc-700",children:"Mi Reflexin del Da"})]}),u.jsx("button",{onClick:d,className:"text-sm font-medium text-teal-600 hover:text-teal-800 transition-colors disabled:text-zinc-400 disabled:cursor-not-allowed",disabled:n.length===0,children:"Ver historial"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"positive-thought",className:"block text-sm font-medium text-zinc-600 mb-1",children:"Un pensamiento positivo o agradecimiento de hoy:"}),u.jsx("textarea",{id:"positive-thought",rows:3,value:x,onChange:F(v),className:"w-full px-3 py-2 border border-zinc-200 bg-stone-50 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-300 focus:border-teal-300 resize-none transition-colors",placeholder:"Qu te hizo sonrer hoy?"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"lesson-learned",className:"block text-sm font-medium text-zinc-600 mb-1",children:"Algo que aprend sobre m o sobre los dems:"}),u.jsx("textarea",{id:"lesson-learned",rows:3,value:g,onChange:F(y),className:"w-full px-3 py-2 border border-zinc-200 bg-stone-50 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-300 focus:border-teal-300 resize-none transition-colors",placeholder:"Una pequea o gran revelacin..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-zinc-600 mb-2",children:"Qu emocin representa mejor este da?"}),u.jsx("div",{className:"flex flex-wrap justify-around bg-stone-50/70 p-3 rounded-lg gap-2",children:ry.map(({emoji:oe,label:$})=>u.jsxs("button",{type:"button",onClick:()=>I(oe),className:`flex flex-col items-center p-2 rounded-lg transition-all duration-200 w-20 ${N===oe?"bg-teal-200 scale-110":"hover:bg-zinc-200"}`,"aria-label":`Seleccionar emocin: ${$}`,title:$,children:[u.jsx("span",{className:"text-3xl",children:oe}),u.jsx("span",{className:"text-xs font-medium text-zinc-700 mt-1",children:$})]},oe))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"day-title",className:"block text-sm font-medium text-zinc-600 mb-1",children:"Si tuvieras que ponerle un ttulo a tu da, cul sera?"}),u.jsx("input",{type:"text",id:"day-title",value:C,onChange:F(S),className:"w-full px-3 py-2 border border-zinc-200 bg-stone-50 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-300 focus:border-teal-300 transition-colors",placeholder:"p. ej., Un da de calma inesperada, Misin cumplida..."})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end items-stretch sm:items-center gap-3 pt-2",children:[u.jsxs("button",{onClick:()=>f(e),disabled:J,title:J?m?"Guarda tu reflexin para poder compartirla":"Conecta con una pareja para compartir":"Compartir reflexin",className:"flex items-center justify-center space-x-2 px-4 py-2 w-full sm:w-40 border border-zinc-300 bg-white rounded-md text-sm font-medium text-zinc-700 shadow-sm transition-colors duration-200 hover:bg-zinc-50 disabled:opacity-60 disabled:cursor-not-allowed",children:[u.jsx(ay,{className:"w-5 h-5"}),u.jsx("span",{children:"Compartir"})]}),u.jsx("button",{onClick:L,disabled:K,className:`flex items-center justify-center space-x-2 px-4 py-2 w-full sm:w-40 border border-transparent rounded-md text-sm font-medium text-white shadow-sm transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500
                    ${_?"bg-green-500":"bg-teal-600"}
                    ${K?"opacity-60 cursor-not-allowed":"hover:bg-teal-700"}
                `,children:_?u.jsxs(u.Fragment,{children:[u.jsx(sy,{className:"w-5 h-5"}),u.jsx("span",{children:"Guardado!"})]}):u.jsx("span",{children:"Guardar Reflexin"})})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let cy,dy;function fy(){return{geminiUrl:cy,vertexUrl:dy}}function my(n,e,o,l){var d,f;if(!(n!=null&&n.baseUrl)){const m=fy();return e?(d=m.vertexUrl)!==null&&d!==void 0?d:o:(f=m.geminiUrl)!==null&&f!==void 0?f:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lo{}function fe(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(l,d)=>{if(Object.prototype.hasOwnProperty.call(e,d)){const f=e[d];return f!=null?String(f):""}else throw new Error(`Key '${d}' not found in valueMap.`)})}function r(n,e,o){for(let f=0;f<e.length-1;f++){const m=e[f];if(m.endsWith("[]")){const x=m.slice(0,-2);if(!(x in n))if(Array.isArray(o))n[x]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[x])){const v=n[x];if(Array.isArray(o))for(let g=0;g<v.length;g++){const y=v[g];r(y,e.slice(f+1),o[g])}else for(const g of v)r(g,e.slice(f+1),o)}return}else if(m.endsWith("[0]")){const x=m.slice(0,-3);x in n||(n[x]=[{}]);const v=n[x];r(v[0],e.slice(f+1),o);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const l=e[e.length-1],d=n[l];if(d!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===d)return;if(typeof d=="object"&&typeof o=="object"&&d!==null&&o!==null)Object.assign(d,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[l]=o}function a(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return;const l=e[o];if(l.endsWith("[]")){const d=l.slice(0,-2);if(d in n){const f=n[d];return Array.isArray(f)?f.map(m=>a(m,e.slice(o+1))):void 0}else return}else n=n[l]}return n}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dd(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function py(n){const e={},o=a(n,["operationName"]);o!=null&&r(e,["operationName"],o);const l=a(n,["resourceName"]);return l!=null&&r(e,["_url","resourceName"],l),e}function hy(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const d=a(n,["done"]);d!=null&&r(e,["done"],d);const f=a(n,["error"]);f!=null&&r(e,["error"],f);const m=a(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],xy(m)),e}function gy(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const d=a(n,["done"]);d!=null&&r(e,["done"],d);const f=a(n,["error"]);f!=null&&r(e,["error"],f);const m=a(n,["response"]);return m!=null&&r(e,["response"],vy(m)),e}function xy(n){const e={},o=a(n,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>yy(m))),r(e,["generatedVideos"],f)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const d=a(n,["raiMediaFilteredReasons"]);return d!=null&&r(e,["raiMediaFilteredReasons"],d),e}function vy(n){const e={},o=a(n,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>Cy(m))),r(e,["generatedVideos"],f)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const d=a(n,["raiMediaFilteredReasons"]);return d!=null&&r(e,["raiMediaFilteredReasons"],d),e}function yy(n){const e={},o=a(n,["_self"]);return o!=null&&r(e,["video"],by(o)),e}function Cy(n){const e={},o=a(n,["_self"]);return o!=null&&r(e,["video"],Ny(o)),e}function Ty(n){const e={},o=a(n,["operationName"]);return o!=null&&r(e,["_url","operationName"],o),e}function Sy(n){const e={},o=a(n,["operationName"]);return o!=null&&r(e,["_url","operationName"],o),e}function by(n){const e={},o=a(n,["video","uri"]);o!=null&&r(e,["uri"],o);const l=a(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],dd(l));const d=a(n,["encoding"]);return d!=null&&r(e,["mimeType"],d),e}function Ny(n){const e={},o=a(n,["gcsUri"]);o!=null&&r(e,["uri"],o);const l=a(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],dd(l));const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Kp||(Kp={}));var Zp;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Zp||(Zp={}));var Nt;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Nt||(Nt={}));var Xp;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Xp||(Xp={}));var Qp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Qp||(Qp={}));var Wp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Wp||(Wp={}));var e0;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(e0||(e0={}));var t0;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(t0||(t0={}));var n0;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(n0||(n0={}));var i0;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(i0||(i0={}));var o0;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(o0||(o0={}));var l0;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(l0||(l0={}));var s0;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(s0||(s0={}));var a0;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(a0||(a0={}));var r0;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(r0||(r0={}));var ur;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ur||(ur={}));var u0;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(u0||(u0={}));var Wc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Wc||(Wc={}));var c0;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(c0||(c0={}));var d0;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(d0||(d0={}));var f0;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V"})(f0||(f0={}));var m0;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(m0||(m0={}));var p0;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(p0||(p0={}));var h0;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(h0||(h0={}));var g0;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(g0||(g0={}));var x0;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(x0||(x0={}));var v0;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(v0||(v0={}));var y0;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(y0||(y0={}));var C0;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(C0||(C0={}));var T0;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(T0||(T0={}));var S0;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(S0||(S0={}));var b0;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(b0||(b0={}));var N0;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(N0||(N0={}));var w0;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(w0||(w0={}));var E0;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(E0||(E0={}));var M0;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(M0||(M0={}));var A0;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(A0||(A0={}));var _0;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(_0||(_0={}));var D0;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(D0||(D0={}));var R0;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(R0||(R0={}));var k0;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(k0||(k0={}));var I0;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(I0||(I0={}));var j0;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(j0||(j0={}));var L0;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(L0||(L0={}));var z0;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(z0||(z0={}));var U0;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(U0||(U0={}));var V0;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(V0||(V0={}));var P0;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(P0||(P0={}));var ul;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(ul||(ul={}));class ed{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ns{get text(){var e,o,l,d,f,m,x,v;if(((d=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",y=!1;const C=[];for(const S of(v=(x=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||x===void 0?void 0:x.parts)!==null&&v!==void 0?v:[]){for(const[N,w]of Object.entries(S))N!=="text"&&N!=="thought"&&(w!==null||w!==void 0)&&C.push(N);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,g+=S.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?g:void 0}get data(){var e,o,l,d,f,m,x,v;if(((d=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const y=[];for(const C of(v=(x=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||x===void 0?void 0:x.parts)!==null&&v!==void 0?v:[]){for(const[S,N]of Object.entries(C))S!=="inlineData"&&(N!==null||N!==void 0)&&y.push(S);C.inlineData&&typeof C.inlineData.data=="string"&&(g+=atob(C.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,o,l,d,f,m,x,v;if(((d=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(v=(x=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||x===void 0?void 0:x.parts)===null||v===void 0?void 0:v.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,o,l,d,f,m,x,v,g;if(((d=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(v=(x=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||x===void 0?void 0:x.parts)===null||v===void 0?void 0:v.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((y==null?void 0:y.length)!==0)return(g=y==null?void 0:y[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,o,l,d,f,m,x,v,g;if(((d=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(v=(x=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||x===void 0?void 0:x.parts)===null||v===void 0?void 0:v.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((y==null?void 0:y.length)!==0)return(g=y==null?void 0:y[0])===null||g===void 0?void 0:g.output}}class q0{}class H0{}class wy{}class Ey{}class My{}class Ay{}class B0{}class G0{}class F0{}class _y{}class cr{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const l=new cr;let d;const f=e;return o?d=gy(f):d=hy(f),Object.assign(l,d),l}}class O0{}class Y0{}class $0{}class Dy{}class Ry{}class ky{}class J0{}class Iy{get text(){var e,o,l;let d="",f=!1;const m=[];for(const x of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[v,g]of Object.entries(x))v!=="text"&&v!=="thought"&&g!==null&&m.push(v);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;f=!0,d+=x.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,o,l;let d="";const f=[];for(const m of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[x,v]of Object.entries(m))x!=="inlineData"&&v!==null&&f.push(x);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}}class jy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Bh(n,e){const o=Ie(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Gh(n){return Array.isArray(n)?n.map(e=>dr(e)):[dr(n)]}function dr(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Fh(n){const e=dr(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Oh(n){const e=dr(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function K0(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Yh(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>K0(e)):[K0(n)]}function td(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Z0(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function X0(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function wt(n){if(n==null)throw new Error("ContentUnion is required");return td(n)?n:{role:"user",parts:Yh(n)}}function fd(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=wt(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const o=wt(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>wt(o)):[wt(e)]}function nn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Z0(n)||X0(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wt(n)]}const e=[],o=[],l=td(n[0]);for(const d of n){const f=td(d);if(f!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(d);else{if(Z0(d)||X0(d))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(d)}}return l||e.push({role:"user",parts:Yh(o)}),e}function Ly(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(Nt).includes(o[0].toUpperCase())?o[0].toUpperCase():Nt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(Nt).includes(l.toUpperCase())?l.toUpperCase():Nt.TYPE_UNSPECIFIED})}}function cl(n){const e={},o=["items"],l=["anyOf"],d=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,n=f[1]):f[1].type==="null"&&(e.nullable=!0,n=f[0])),n.type instanceof Array&&Ly(n.type,e);for(const[m,x]of Object.entries(n))if(x!=null)if(m=="type"){if(x==="null")throw new Error("type: null can not be the only possible type for the field.");if(x instanceof Array)continue;e.type=Object.values(Nt).includes(x.toUpperCase())?x.toUpperCase():Nt.TYPE_UNSPECIFIED}else if(o.includes(m))e[m]=cl(x);else if(l.includes(m)){const v=[];for(const g of x){if(g.type=="null"){e.nullable=!0;continue}v.push(cl(g))}e[m]=v}else if(d.includes(m)){const v={};for(const[g,y]of Object.entries(x))v[g]=cl(y);e[m]=v}else{if(m==="additionalProperties")continue;e[m]=x}return e}function md(n){return cl(n)}function pd(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function hd(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function ml(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=cl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=cl(e.response));return n}function pl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function zy(n,e,o,l=1){const d=!e.startsWith(`${o}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:d?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:d?`${o}/${e}`:e}function Qn(n,e){if(typeof e!="string")throw new Error("name must be a string");return zy(n,e,"cachedContents")}function $h(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function so(n){return dd(n)}function Uy(n){return n!=null&&typeof n=="object"&&"name"in n}function Vy(n){return n!=null&&typeof n=="object"&&"video"in n}function Py(n){return n!=null&&typeof n=="object"&&"uri"in n}function Jh(n){var e;let o;if(Uy(n)&&(o=n.name),!(Py(n)&&(o=n.uri,o===void 0))&&!(Vy(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const d=o.split("files/")[1].match(/[a-z0-9]+/);if(d===null)throw new Error(`Could not extract file name from URI ${o}`);o=d[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Kh(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function Zh(n){for(const e of["models","tunedModels","publisherModels"])if(qy(n,e))return n[e];return[]}function qy(n,e){return n!==null&&typeof n=="object"&&e in n}function Hy(n,e={}){const o=n,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function By(n,e={}){const o=[],l=new Set;for(const d of n){const f=d.name;if(l.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);l.add(f);const m=Hy(d,e);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function Xh(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,d=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(d>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||d!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function Gy(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Qh(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const d=o.inlinedResponses;if(!Array.isArray(d)||d.length===0)return n;let f=!1;for(const m of d){if(typeof m!="object"||m===null)continue;const v=m.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){f=!0;break}}return f&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function hl(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Wh(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fy(n){const e={},o=a(n,["responsesFile"]);o!=null&&r(e,["fileName"],o);const l=a(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>k1(m))),r(e,["inlinedResponses"],f)}const d=a(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>D1(m))),r(e,["inlinedEmbedContentResponses"],f)}return e}function Oy(n){const e={},o=a(n,["predictionsFormat"]);o!=null&&r(e,["format"],o);const l=a(n,["gcsDestination","outputUriPrefix"]);l!=null&&r(e,["gcsUri"],l);const d=a(n,["bigqueryDestination","outputUri"]);return d!=null&&r(e,["bigqueryUri"],d),e}function Yy(n){const e={},o=a(n,["format"]);o!=null&&r(e,["predictionsFormat"],o);const l=a(n,["gcsUri"]);l!=null&&r(e,["gcsDestination","outputUriPrefix"],l);const d=a(n,["bigqueryUri"]);if(d!=null&&r(e,["bigqueryDestination","outputUri"],d),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function rl(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["metadata","displayName"]);l!=null&&r(e,["displayName"],l);const d=a(n,["metadata","state"]);d!=null&&r(e,["state"],Wh(d));const f=a(n,["metadata","createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["metadata","endTime"]);m!=null&&r(e,["endTime"],m);const x=a(n,["metadata","updateTime"]);x!=null&&r(e,["updateTime"],x);const v=a(n,["metadata","model"]);v!=null&&r(e,["model"],v);const g=a(n,["metadata","output"]);return g!=null&&r(e,["dest"],Fy(Qh(g))),e}function nd(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const d=a(n,["state"]);d!=null&&r(e,["state"],Wh(d));const f=a(n,["error"]);f!=null&&r(e,["error"],tg(f));const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const x=a(n,["startTime"]);x!=null&&r(e,["startTime"],x);const v=a(n,["endTime"]);v!=null&&r(e,["endTime"],v);const g=a(n,["updateTime"]);g!=null&&r(e,["updateTime"],g);const y=a(n,["model"]);y!=null&&r(e,["model"],y);const C=a(n,["inputConfig"]);C!=null&&r(e,["src"],$y(C));const S=a(n,["outputConfig"]);return S!=null&&r(e,["dest"],Oy(Qh(S))),e}function $y(n){const e={},o=a(n,["instancesFormat"]);o!=null&&r(e,["format"],o);const l=a(n,["gcsSource","uris"]);l!=null&&r(e,["gcsUri"],l);const d=a(n,["bigquerySource","inputUri"]);return d!=null&&r(e,["bigqueryUri"],d),e}function Jy(n,e){const o={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=a(e,["fileName"]);l!=null&&r(o,["fileName"],l);const d=a(e,["inlinedRequests"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>R1(n,m))),r(o,["requests","requests"],f)}return o}function Ky(n){const e={},o=a(n,["format"]);o!=null&&r(e,["instancesFormat"],o);const l=a(n,["gcsUri"]);l!=null&&r(e,["gcsSource","uris"],l);const d=a(n,["bigqueryUri"]);if(d!=null&&r(e,["bigquerySource","inputUri"],d),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Zy(n){const e={},o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Xy(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Qy(n,e){const o={},l=a(e,["name"]);return l!=null&&r(o,["_url","name"],hl(n,l)),o}function Wy(n,e){const o={},l=a(e,["name"]);return l!=null&&r(o,["_url","name"],hl(n,l)),o}function e1(n){const e={},o=a(n,["content"]);o!=null&&r(e,["content"],o1(o));const l=a(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],t1(l));const d=a(n,["tokenCount"]);d!=null&&r(e,["tokenCount"],d);const f=a(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],e2(m));const x=a(n,["avgLogprobs"]);x!=null&&r(e,["avgLogprobs"],x);const v=a(n,["groundingMetadata"]);v!=null&&r(e,["groundingMetadata"],v);const g=a(n,["index"]);g!=null&&r(e,["index"],g);const y=a(n,["logprobsResult"]);y!=null&&r(e,["logprobsResult"],y);const C=a(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function t1(n){const e={},o=a(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function n1(n){const e={},o=a(n,["environment"]);o!=null&&r(e,["environment"],o);const l=a(n,["excludedPredefinedFunctions"]);return l!=null&&r(e,["excludedPredefinedFunctions"],l),e}function i1(n){const e={},o=a(n,["values"]);return o!=null&&r(e,["values"],o),e}function o1(n){const e={},o=a(n,["parts"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>B1(f))),r(e,["parts"],d)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function eg(n){const e={},o=a(n,["parts"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>G1(f))),r(e,["parts"],d)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function l1(n,e){const o={},l=a(n,["displayName"]);if(e!==void 0&&l!=null&&r(e,["batch","displayName"],l),a(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function s1(n,e){const o={},l=a(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const d=a(n,["dest"]);return e!==void 0&&d!=null&&r(e,["outputConfig"],Yy(Gy(d))),o}function Jc(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["src"]);d!=null&&r(o,["batch","inputConfig"],Jy(n,Xh(n,d)));const f=a(e,["config"]);return f!=null&&l1(f,o),o}function a1(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["model"],Ie(n,l));const d=a(e,["src"]);d!=null&&r(o,["inputConfig"],Ky(Xh(n,d)));const f=a(e,["config"]);return f!=null&&s1(f,o),o}function r1(n,e){const o={},l=a(n,["displayName"]);return e!==void 0&&l!=null&&r(e,["batch","displayName"],l),o}function Kc(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["src"]);d!=null&&r(o,["batch","inputConfig"],g1(n,d));const f=a(e,["config"]);return f!=null&&r1(f,o),o}function u1(n,e){const o={},l=a(e,["name"]);return l!=null&&r(o,["_url","name"],hl(n,l)),o}function c1(n,e){const o={},l=a(e,["name"]);return l!=null&&r(o,["_url","name"],hl(n,l)),o}function d1(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const d=a(n,["done"]);d!=null&&r(e,["done"],d);const f=a(n,["error"]);return f!=null&&r(e,["error"],gd(f)),e}function f1(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const d=a(n,["done"]);d!=null&&r(e,["done"],d);const f=a(n,["error"]);return f!=null&&r(e,["error"],tg(f)),e}function m1(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function p1(n,e){const o={},l=a(e,["contents"]);l!=null&&r(o,["requests[]","request","content"],fd(n,l));const d=a(e,["config"]);return d!=null&&r(o,["config"],h1(d,o)),o}function h1(n,e){const o={},l=a(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const d=a(n,["title"]);e!==void 0&&d!=null&&r(e,["requests[]","title"],d);const f=a(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&r(e,["requests[]","outputDimensionality"],f),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function g1(n,e){const o={},l=a(e,["fileName"]);l!=null&&r(o,["file_name"],l);const d=a(e,["inlinedRequests"]);return d!=null&&r(o,["requests"],p1(n,d)),o}function x1(n){const e={},o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function v1(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function y1(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const d=a(n,["name"]);return d!=null&&r(e,["name"],d),e}function C1(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const d=a(n,["name"]);return d!=null&&r(e,["name"],d),e}function T1(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function S1(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const d=a(n,["name"]);d!=null&&r(e,["name"],d);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const x=a(n,["response"]);x!=null&&r(e,["response"],x);const v=a(n,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function b1(n,e,o){const l={},d=a(e,["systemInstruction"]);o!==void 0&&d!=null&&r(o,["systemInstruction"],eg(wt(d)));const f=a(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=a(e,["topP"]);m!=null&&r(l,["topP"],m);const x=a(e,["topK"]);x!=null&&r(l,["topK"],x);const v=a(e,["candidateCount"]);v!=null&&r(l,["candidateCount"],v);const g=a(e,["maxOutputTokens"]);g!=null&&r(l,["maxOutputTokens"],g);const y=a(e,["stopSequences"]);y!=null&&r(l,["stopSequences"],y);const C=a(e,["responseLogprobs"]);C!=null&&r(l,["responseLogprobs"],C);const S=a(e,["logprobs"]);S!=null&&r(l,["logprobs"],S);const N=a(e,["presencePenalty"]);N!=null&&r(l,["presencePenalty"],N);const w=a(e,["frequencyPenalty"]);w!=null&&r(l,["frequencyPenalty"],w);const _=a(e,["seed"]);_!=null&&r(l,["seed"],_);const O=a(e,["responseMimeType"]);O!=null&&r(l,["responseMimeType"],O);const E=a(e,["responseSchema"]);E!=null&&r(l,["responseSchema"],$1(md(E)));const P=a(e,["responseJsonSchema"]);if(P!=null&&r(l,["responseJsonSchema"],P),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=a(e,["safetySettings"]);if(o!==void 0&&L!=null){let te=L;Array.isArray(te)&&(te=te.map(ge=>Y1(ge))),r(o,["safetySettings"],te)}const I=a(e,["tools"]);if(o!==void 0&&I!=null){let te=pl(I);Array.isArray(te)&&(te=te.map(ge=>W1(ml(ge)))),r(o,["tools"],te)}const F=a(e,["toolConfig"]);if(o!==void 0&&F!=null&&r(o,["toolConfig"],Q1(F)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=a(e,["cachedContent"]);o!==void 0&&K!=null&&r(o,["cachedContent"],Qn(n,K));const J=a(e,["responseModalities"]);J!=null&&r(l,["responseModalities"],J);const oe=a(e,["mediaResolution"]);oe!=null&&r(l,["mediaResolution"],oe);const $=a(e,["speechConfig"]);if($!=null&&r(l,["speechConfig"],Z1(pd($))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=a(e,["thinkingConfig"]);re!=null&&r(l,["thinkingConfig"],X1(re));const ue=a(e,["imageConfig"]);return ue!=null&&r(l,["imageConfig"],_1(ue)),l}function N1(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["candidates"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(g=>e1(g))),r(e,["candidates"],v)}const d=a(n,["modelVersion"]);d!=null&&r(e,["modelVersion"],d);const f=a(n,["promptFeedback"]);f!=null&&r(e,["promptFeedback"],f);const m=a(n,["responseId"]);m!=null&&r(e,["responseId"],m);const x=a(n,["usageMetadata"]);return x!=null&&r(e,["usageMetadata"],x),e}function w1(n,e){const o={},l=a(e,["name"]);return l!=null&&r(o,["_url","name"],hl(n,l)),o}function E1(n,e){const o={},l=a(e,["name"]);return l!=null&&r(o,["_url","name"],hl(n,l)),o}function M1(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],m1(o)),e}function A1(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],I1(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function _1(n){const e={},o=a(n,["aspectRatio"]);return o!=null&&r(e,["aspectRatio"],o),e}function D1(n){const e={},o=a(n,["response"]);o!=null&&r(e,["response"],J1(o));const l=a(n,["error"]);return l!=null&&r(e,["error"],gd(l)),e}function R1(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["request","model"],Ie(n,l));const d=a(e,["contents"]);if(d!=null){let m=nn(d);Array.isArray(m)&&(m=m.map(x=>eg(x))),r(o,["request","contents"],m)}const f=a(e,["config"]);return f!=null&&r(o,["request","generationConfig"],b1(n,f,o)),o}function k1(n){const e={},o=a(n,["response"]);o!=null&&r(e,["response"],N1(o));const l=a(n,["error"]);return l!=null&&r(e,["error"],gd(l)),e}function I1(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function gd(n){const e={},o=a(n,["details"]);o!=null&&r(e,["details"],o);const l=a(n,["code"]);l!=null&&r(e,["code"],l);const d=a(n,["message"]);return d!=null&&r(e,["message"],d),e}function tg(n){const e={},o=a(n,["details"]);o!=null&&r(e,["details"],o);const l=a(n,["code"]);l!=null&&r(e,["code"],l);const d=a(n,["message"]);return d!=null&&r(e,["message"],d),e}function j1(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function L1(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const d=a(n,["pageToken"]);if(e!==void 0&&d!=null&&r(e,["_query","pageToken"],d),a(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function z1(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const d=a(n,["pageToken"]);e!==void 0&&d!=null&&r(e,["_query","pageToken"],d);const f=a(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function U1(n){const e={},o=a(n,["config"]);return o!=null&&L1(o,e),e}function V1(n){const e={},o=a(n,["config"]);return o!=null&&z1(o,e),e}function P1(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const d=a(n,["operations"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>rl(m))),r(e,["batchJobs"],f)}return e}function q1(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const d=a(n,["batchPredictionJobs"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>nd(m))),r(e,["batchJobs"],f)}return e}function H1(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>K1(d))),r(e,["speakerVoiceConfigs"],l)}return e}function B1(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],i2(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const d=a(n,["inlineData"]);d!=null&&r(e,["inlineData"],Zy(d));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],x1(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const x=a(n,["functionCall"]);x!=null&&r(e,["functionCall"],y1(x));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const g=a(n,["executableCode"]);g!=null&&r(e,["executableCode"],g);const y=a(n,["functionResponse"]);y!=null&&r(e,["functionResponse"],y);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function G1(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],o2(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const d=a(n,["inlineData"]);d!=null&&r(e,["inlineData"],Xy(d));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],v1(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const x=a(n,["functionCall"]);x!=null&&r(e,["functionCall"],C1(x));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const g=a(n,["executableCode"]);g!=null&&r(e,["executableCode"],g);const y=a(n,["functionResponse"]);y!=null&&r(e,["functionResponse"],y);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function F1(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function O1(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],j1(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function Y1(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(n,["category"]);o!=null&&r(e,["category"],o);const l=a(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function $1(n){const e={},o=a(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=a(n,["default"]);l!=null&&r(e,["default"],l);const d=a(n,["description"]);d!=null&&r(e,["description"],d);const f=a(n,["enum"]);f!=null&&r(e,["enum"],f);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const x=a(n,["format"]);x!=null&&r(e,["format"],x);const v=a(n,["items"]);v!=null&&r(e,["items"],v);const g=a(n,["maxItems"]);g!=null&&r(e,["maxItems"],g);const y=a(n,["maxLength"]);y!=null&&r(e,["maxLength"],y);const C=a(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=a(n,["maximum"]);S!=null&&r(e,["maximum"],S);const N=a(n,["minItems"]);N!=null&&r(e,["minItems"],N);const w=a(n,["minLength"]);w!=null&&r(e,["minLength"],w);const _=a(n,["minProperties"]);_!=null&&r(e,["minProperties"],_);const O=a(n,["minimum"]);O!=null&&r(e,["minimum"],O);const E=a(n,["nullable"]);E!=null&&r(e,["nullable"],E);const P=a(n,["pattern"]);P!=null&&r(e,["pattern"],P);const L=a(n,["properties"]);L!=null&&r(e,["properties"],L);const I=a(n,["propertyOrdering"]);I!=null&&r(e,["propertyOrdering"],I);const F=a(n,["required"]);F!=null&&r(e,["required"],F);const K=a(n,["title"]);K!=null&&r(e,["title"],K);const J=a(n,["type"]);return J!=null&&r(e,["type"],J),e}function J1(n){const e={},o=a(n,["embedding"]);o!=null&&r(e,["embedding"],i1(o));const l=a(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function K1(n){const e={},o=a(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],ng(l)),e}function Z1(n){const e={},o=a(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],ng(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],H1(l));const d=a(n,["languageCode"]);return d!=null&&r(e,["languageCode"],d),e}function X1(n){const e={},o=a(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function Q1(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],T1(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],O1(l)),e}function W1(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(g=>S1(g))),r(e,["functionDeclarations"],v)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],A1(l));const d=a(n,["googleSearchRetrieval"]);if(d!=null&&r(e,["googleSearchRetrieval"],M1(d)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],t2());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],n1(m));const x=a(n,["codeExecution"]);return x!=null&&r(e,["codeExecution"],x),e}function e2(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>n2(d))),r(e,["urlMetadata"],l)}return e}function t2(){return{}}function n2(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function i2(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const d=a(n,["startOffset"]);return d!=null&&r(e,["startOffset"],d),e}function o2(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const d=a(n,["startOffset"]);return d!=null&&r(e,["startOffset"],d),e}function ng(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],F1(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oo;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(oo||(oo={}));class As{constructor(e,o,l,d){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,d)}init(e,o,l){var d,f;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!l||Object.keys(l).length===0?m={config:{}}:typeof l=="object"?m=Object.assign({},l):m=l,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(d=m.config)===null||d===void 0?void 0:d.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l2 extends lo{constructor(e){super(),this.apiClient=e,this.create=async o=>{var l,d;if(this.apiClient.isVertexAI())return o.config=this.formatDestination(o.src,o.config),this.createInternal(o);const f=o.src;if(!(Array.isArray(o.src)||f.inlinedRequests!==void 0))return this.createInternal(o);const x=this.createInlinedGenerateContentRequest(o),v=x.path,g=x.body,y=Jc(this.apiClient,o)._query||{};return this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=o.config)===null||d===void 0?void 0:d.abortSignal}).then(S=>S.json()).then(S=>rl(S))},this.createEmbeddings=async o=>{var l,d;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(o.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(o);const x=this.createInlinedEmbedContentRequest(o),v=x.path,g=x.body,y=Kc(this.apiClient,o)._query||{};return this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(d=o.config)===null||d===void 0?void 0:d.abortSignal}).then(S=>S.json()).then(S=>rl(S))},this.list=async(o={})=>new As(oo.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o)}createInlinedGenerateContentRequest(e){const o=Jc(this.apiClient,e),l=o._url,d=fe("{model}:batchGenerateContent",l),x=o.batch.inputConfig.requests,v=x.requests,g=[];for(const y of v){const C=Object.assign({},y);if(C.systemInstruction){const S=C.systemInstruction;delete C.systemInstruction;const N=C.request;N.systemInstruction=S,C.request=N}g.push(C)}return x.requests=g,delete o.config,delete o._url,delete o._query,{path:d,body:o}}createInlinedEmbedContentRequest(e){const o=Kc(this.apiClient,e),l=o._url,d=fe("{model}:asyncBatchEmbedContent",l),x=o.batch.inputConfig.requests,v=x.requests,g=[];delete x.config;for(const y of v){const C=Object.assign({},y),S=C.request;for(const N in C)N!=="request"&&(S[N]=C[N],delete C[N]);g.push(C)}return x.requests=g,delete o.config,delete o._url,delete o._query,{path:d,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const l=o?Object.assign({},o):{},d=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${d}`),l.dest===void 0){const f=this.getGcsUri(e),m=this.getBigqueryUri(e);if(f)f.endsWith(".jsonl")?l.dest=`${f.slice(0,-6)}/dest`:l.dest=`${f}_dest_${d}`;else if(m)l.dest=`${m}_dest_${d}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=a1(this.apiClient,e);return x=fe("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),m.then(y=>nd(y))}else{const g=Jc(this.apiClient,e);return x=fe("{model}:batchGenerateContent",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),m.then(y=>rl(y))}}async createEmbeddingsInternal(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=Kc(this.apiClient,e);return f=fe("{model}:asyncBatchEmbedContent",x._url),m=x._query,delete x._url,delete x._query,d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>rl(v))}}async get(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=E1(this.apiClient,e);return x=fe("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),m.then(y=>nd(y))}else{const g=w1(this.apiClient,e);return x=fe("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),m.then(y=>rl(y))}}async cancel(e){var o,l,d,f;let m="",x={};if(this.apiClient.isVertexAI()){const v=Wy(this.apiClient,e);m=fe("batchPredictionJobs/{name}:cancel",v._url),x=v._query,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const v=Qy(this.apiClient,e);m=fe("batches/{name}:cancel",v._url),x=v._query,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=V1(e);return x=fe("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=q1(y),S=new J0;return Object.assign(S,C),S})}else{const g=U1(e);return x=fe("batches",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=P1(y),S=new J0;return Object.assign(S,C),S})}}async delete(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=c1(this.apiClient,e);return x=fe("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>f1(y))}else{const g=u1(this.apiClient,e);return x=fe("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>d1(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s2(n){const e={},o=a(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function a2(n){const e={},o=a(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],s2(o));const l=a(n,["authType"]);l!=null&&r(e,["authType"],l);const d=a(n,["googleServiceAccountConfig"]);d!=null&&r(e,["googleServiceAccountConfig"],d);const f=a(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const x=a(n,["oidcConfig"]);return x!=null&&r(e,["oidcConfig"],x),e}function r2(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function u2(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function ar(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const d=a(n,["model"]);d!=null&&r(e,["model"],d);const f=a(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const x=a(n,["expireTime"]);x!=null&&r(e,["expireTime"],x);const v=a(n,["usageMetadata"]);return v!=null&&r(e,["usageMetadata"],v),e}function rr(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const d=a(n,["model"]);d!=null&&r(e,["model"],d);const f=a(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const x=a(n,["expireTime"]);x!=null&&r(e,["expireTime"],x);const v=a(n,["usageMetadata"]);return v!=null&&r(e,["usageMetadata"],v),e}function c2(n){const e={},o=a(n,["environment"]);o!=null&&r(e,["environment"],o);const l=a(n,["excludedPredefinedFunctions"]);return l!=null&&r(e,["excludedPredefinedFunctions"],l),e}function d2(n){const e={},o=a(n,["environment"]);o!=null&&r(e,["environment"],o);const l=a(n,["excludedPredefinedFunctions"]);return l!=null&&r(e,["excludedPredefinedFunctions"],l),e}function Q0(n){const e={},o=a(n,["parts"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>J2(f))),r(e,["parts"],d)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function W0(n){const e={},o=a(n,["parts"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>K2(f))),r(e,["parts"],d)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function f2(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const d=a(n,["expireTime"]);e!==void 0&&d!=null&&r(e,["expireTime"],d);const f=a(n,["displayName"]);e!==void 0&&f!=null&&r(e,["displayName"],f);const m=a(n,["contents"]);if(e!==void 0&&m!=null){let y=nn(m);Array.isArray(y)&&(y=y.map(C=>Q0(C))),r(e,["contents"],y)}const x=a(n,["systemInstruction"]);e!==void 0&&x!=null&&r(e,["systemInstruction"],Q0(wt(x)));const v=a(n,["tools"]);if(e!==void 0&&v!=null){let y=v;Array.isArray(y)&&(y=y.map(C=>eC(C))),r(e,["tools"],y)}const g=a(n,["toolConfig"]);if(e!==void 0&&g!=null&&r(e,["toolConfig"],Q2(g)),a(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function m2(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const d=a(n,["expireTime"]);e!==void 0&&d!=null&&r(e,["expireTime"],d);const f=a(n,["displayName"]);e!==void 0&&f!=null&&r(e,["displayName"],f);const m=a(n,["contents"]);if(e!==void 0&&m!=null){let C=nn(m);Array.isArray(C)&&(C=C.map(S=>W0(S))),r(e,["contents"],C)}const x=a(n,["systemInstruction"]);e!==void 0&&x!=null&&r(e,["systemInstruction"],W0(wt(x)));const v=a(n,["tools"]);if(e!==void 0&&v!=null){let C=v;Array.isArray(C)&&(C=C.map(S=>tC(S))),r(e,["tools"],C)}const g=a(n,["toolConfig"]);e!==void 0&&g!=null&&r(e,["toolConfig"],W2(g));const y=a(n,["kmsKeyName"]);return e!==void 0&&y!=null&&r(e,["encryption_spec","kmsKeyName"],y),o}function p2(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["model"],Bh(n,l));const d=a(e,["config"]);return d!=null&&f2(d,o),o}function h2(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["model"],Bh(n,l));const d=a(e,["config"]);return d!=null&&m2(d,o),o}function g2(n,e){const o={},l=a(e,["name"]);return l!=null&&r(o,["_url","name"],Qn(n,l)),o}function x2(n,e){const o={},l=a(e,["name"]);return l!=null&&r(o,["_url","name"],Qn(n,l)),o}function v2(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function y2(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function C2(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function T2(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function S2(n){const e={},o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function b2(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function N2(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function w2(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const d=a(n,["name"]);return d!=null&&r(e,["name"],d),e}function E2(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const d=a(n,["name"]);return d!=null&&r(e,["name"],d),e}function M2(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function A2(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function _2(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const d=a(n,["name"]);d!=null&&r(e,["name"],d);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const x=a(n,["response"]);x!=null&&r(e,["response"],x);const v=a(n,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function D2(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(n,["description"]);o!=null&&r(e,["description"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const f=a(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const x=a(n,["responseJsonSchema"]);return x!=null&&r(e,["responseJsonSchema"],x),e}function R2(n,e){const o={},l=a(e,["name"]);return l!=null&&r(o,["_url","name"],Qn(n,l)),o}function k2(n,e){const o={},l=a(e,["name"]);return l!=null&&r(o,["_url","name"],Qn(n,l)),o}function I2(n){const e={},o=a(n,["authConfig"]);return o!=null&&r(e,["authConfig"],a2(o)),e}function j2(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],C2(o)),e}function L2(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],T2(o)),e}function z2(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],V2(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function U2(n){const e={},o=a(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],P2(o));const l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function V2(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function P2(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function q2(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function H2(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function B2(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const d=a(n,["pageToken"]);return e!==void 0&&d!=null&&r(e,["_query","pageToken"],d),o}function G2(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const d=a(n,["pageToken"]);return e!==void 0&&d!=null&&r(e,["_query","pageToken"],d),o}function F2(n){const e={},o=a(n,["config"]);return o!=null&&B2(o,e),e}function O2(n){const e={},o=a(n,["config"]);return o!=null&&G2(o,e),e}function Y2(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const d=a(n,["cachedContents"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>ar(m))),r(e,["cachedContents"],f)}return e}function $2(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const d=a(n,["cachedContents"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>rr(m))),r(e,["cachedContents"],f)}return e}function J2(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],rC(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const d=a(n,["inlineData"]);d!=null&&r(e,["inlineData"],r2(d));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],b2(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const x=a(n,["functionCall"]);x!=null&&r(e,["functionCall"],w2(x));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const g=a(n,["executableCode"]);g!=null&&r(e,["executableCode"],g);const y=a(n,["functionResponse"]);y!=null&&r(e,["functionResponse"],y);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function K2(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],uC(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const d=a(n,["inlineData"]);d!=null&&r(e,["inlineData"],u2(d));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],N2(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const x=a(n,["functionCall"]);x!=null&&r(e,["functionCall"],E2(x));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const g=a(n,["executableCode"]);g!=null&&r(e,["executableCode"],g);const y=a(n,["functionResponse"]);y!=null&&r(e,["functionResponse"],y);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function Z2(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],q2(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function X2(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],H2(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function Q2(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],M2(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],Z2(l)),e}function W2(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],A2(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],X2(l)),e}function eC(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(g=>_2(g))),r(e,["functionDeclarations"],v)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],z2(l));const d=a(n,["googleSearchRetrieval"]);if(d!=null&&r(e,["googleSearchRetrieval"],j2(d)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],sC());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],c2(m));const x=a(n,["codeExecution"]);return x!=null&&r(e,["codeExecution"],x),e}function tC(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>D2(S))),r(e,["functionDeclarations"],C)}const l=a(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const d=a(n,["googleSearch"]);d!=null&&r(e,["googleSearch"],U2(d));const f=a(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],L2(f));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],S2(m));const x=a(n,["googleMaps"]);x!=null&&r(e,["googleMaps"],I2(x)),a(n,["urlContext"])!=null&&r(e,["urlContext"],aC());const g=a(n,["computerUse"]);g!=null&&r(e,["computerUse"],d2(g));const y=a(n,["codeExecution"]);return y!=null&&r(e,["codeExecution"],y),e}function nC(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const d=a(n,["expireTime"]);return e!==void 0&&d!=null&&r(e,["expireTime"],d),o}function iC(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const d=a(n,["expireTime"]);return e!==void 0&&d!=null&&r(e,["expireTime"],d),o}function oC(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Qn(n,l));const d=a(e,["config"]);return d!=null&&nC(d,o),o}function lC(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Qn(n,l));const d=a(e,["config"]);return d!=null&&iC(d,o),o}function sC(){return{}}function aC(){return{}}function rC(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const d=a(n,["startOffset"]);return d!=null&&r(e,["startOffset"],d),e}function uC(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const d=a(n,["startOffset"]);return d!=null&&r(e,["startOffset"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cC extends lo{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new As(oo.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=h2(this.apiClient,e);return x=fe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),m.then(y=>rr(y))}else{const g=p2(this.apiClient,e);return x=fe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),m.then(y=>ar(y))}}async get(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=k2(this.apiClient,e);return x=fe("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),m.then(y=>rr(y))}else{const g=R2(this.apiClient,e);return x=fe("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),m.then(y=>ar(y))}}async delete(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=x2(this.apiClient,e);return x=fe("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=y2(y),S=new Y0;return Object.assign(S,C),S})}else{const g=g2(this.apiClient,e);return x=fe("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=v2(y),S=new Y0;return Object.assign(S,C),S})}}async update(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=lC(this.apiClient,e);return x=fe("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),m.then(y=>rr(y))}else{const g=oC(this.apiClient,e);return x=fe("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),m.then(y=>ar(y))}}async listInternal(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=O2(e);return x=fe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=$2(y),S=new $0;return Object.assign(S,C),S})}else{const g=F2(e);return x=fe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=Y2(y),S=new $0;return Object.assign(S,C),S})}}}function eh(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $e(n){return this instanceof $e?(this.v=n,this):new $e(n)}function dl(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,e||[]),d,f=[];return d=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),x("next"),x("throw"),x("return",m),d[Symbol.asyncIterator]=function(){return this},d;function m(N){return function(w){return Promise.resolve(w).then(N,C)}}function x(N,w){l[N]&&(d[N]=function(_){return new Promise(function(O,E){f.push([N,_,O,E])>1||v(N,_)})},w&&(d[N]=w(d[N])))}function v(N,w){try{g(l[N](w))}catch(_){S(f[0][3],_)}}function g(N){N.value instanceof $e?Promise.resolve(N.value.v).then(y,C):S(f[0][2],N)}function y(N){v("next",N)}function C(N){v("throw",N)}function S(N,w){N(w),f.shift(),f.length&&v(f[0][0],f[0][1])}}function Ms(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof eh=="function"?eh(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(f){o[f]=n[f]&&function(m){return new Promise(function(x,v){m=n[f](m),d(x,v,m.done,m.value)})}}function d(f,m,x,v){Promise.resolve(v).then(function(g){f({value:g,done:x})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:ig(o)}function ig(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function fC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function th(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let l=0;for(;l<o;)if(n[l].role==="user")e.push(n[l]),l++;else{const d=[];let f=!0;for(;l<o&&n[l].role==="model";)d.push(n[l]),f&&!ig(n[l])&&(f=!1),l++;f?e.push(...d):e.pop()}return e}class mC{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new pC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class pC{constructor(e,o,l,d={},f=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=d,this.history=f,this.sendPromise=Promise.resolve(),fC(f)}async sendMessage(e){var o;await this.sendPromise;const l=wt(e.message),d=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,m,x;const v=await d,g=(m=(f=v.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,y=v.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let S=[];y!=null&&(S=(x=y.slice(C))!==null&&x!==void 0?x:[]);const N=g?[g]:[];this.recordHistory(l,N,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),d}async sendMessageStream(e){var o;await this.sendPromise;const l=wt(e.message),d=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=d.then(()=>{}).catch(()=>{});const f=await d;return this.processStreamResponse(f,l)}getHistory(e=!1){const o=e?th(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var l,d;return dl(this,arguments,function*(){var m,x,v,g;const y=[];try{for(var C=!0,S=Ms(e),N;N=yield $e(S.next()),m=N.done,!m;C=!0){g=N.value,C=!1;const w=g;if(dC(w)){const _=(d=(l=w.candidates)===null||l===void 0?void 0:l[0])===null||d===void 0?void 0:d.content;_!==void 0&&y.push(_)}yield yield $e(w)}}catch(w){x={error:w}}finally{try{!C&&!m&&(v=S.return)&&(yield $e(v.call(S)))}finally{if(x)throw x.error}}this.recordHistory(o,y)})}recordHistory(e,o,l){let d=[];o.length>0&&o.every(f=>f.role!==void 0)?d=o:d.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...th(l)):this.history.push(e),this.history.push(...d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,fr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hC(n){const e={},o=a(n,["file"]);return o!=null&&r(e,["file"],TC(o)),e}function gC(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function xC(n){const e={},o=a(n,["name"]);return o!=null&&r(e,["_url","file"],Jh(o)),e}function vC(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function id(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const d=a(n,["mimeType"]);d!=null&&r(e,["mimeType"],d);const f=a(n,["sizeBytes"]);f!=null&&r(e,["sizeBytes"],f);const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const x=a(n,["expirationTime"]);x!=null&&r(e,["expirationTime"],x);const v=a(n,["updateTime"]);v!=null&&r(e,["updateTime"],v);const g=a(n,["sha256Hash"]);g!=null&&r(e,["sha256Hash"],g);const y=a(n,["uri"]);y!=null&&r(e,["uri"],y);const C=a(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const S=a(n,["state"]);S!=null&&r(e,["state"],S);const N=a(n,["source"]);N!=null&&r(e,["source"],N);const w=a(n,["videoMetadata"]);w!=null&&r(e,["videoMetadata"],w);const _=a(n,["error"]);return _!=null&&r(e,["error"],yC(_)),e}function yC(n){const e={},o=a(n,["details"]);o!=null&&r(e,["details"],o);const l=a(n,["message"]);l!=null&&r(e,["message"],l);const d=a(n,["code"]);return d!=null&&r(e,["code"],d),e}function CC(n){const e={},o=a(n,["details"]);o!=null&&r(e,["details"],o);const l=a(n,["message"]);l!=null&&r(e,["message"],l);const d=a(n,["code"]);return d!=null&&r(e,["code"],d),e}function TC(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const d=a(n,["mimeType"]);d!=null&&r(e,["mimeType"],d);const f=a(n,["sizeBytes"]);f!=null&&r(e,["sizeBytes"],f);const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const x=a(n,["expirationTime"]);x!=null&&r(e,["expirationTime"],x);const v=a(n,["updateTime"]);v!=null&&r(e,["updateTime"],v);const g=a(n,["sha256Hash"]);g!=null&&r(e,["sha256Hash"],g);const y=a(n,["uri"]);y!=null&&r(e,["uri"],y);const C=a(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const S=a(n,["state"]);S!=null&&r(e,["state"],S);const N=a(n,["source"]);N!=null&&r(e,["source"],N);const w=a(n,["videoMetadata"]);w!=null&&r(e,["videoMetadata"],w);const _=a(n,["error"]);return _!=null&&r(e,["error"],CC(_)),e}function SC(n){const e={},o=a(n,["name"]);return o!=null&&r(e,["_url","file"],Jh(o)),e}function bC(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const d=a(n,["pageToken"]);return e!==void 0&&d!=null&&r(e,["_query","pageToken"],d),o}function NC(n){const e={},o=a(n,["config"]);return o!=null&&bC(o,e),e}function wC(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const d=a(n,["files"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>id(m))),r(e,["files"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EC extends lo{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new As(oo.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>id(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=NC(e);return f=fe("files",x._url),m=x._query,delete x._url,delete x._query,d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),d.then(v=>{const g=wC(v),y=new Dy;return Object.assign(y,g),y})}}async createInternal(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=hC(e);return f=fe("upload/v1beta/files",x._url),m=x._query,delete x._url,delete x._query,d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>{const g=gC(v),y=new Ry;return Object.assign(y,g),y})}}async get(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=SC(e);return f=fe("files/{file}",x._url),m=x._query,delete x._url,delete x._query,d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>id(v))}}async delete(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=xC(e);return f=fe("files/{file}",x._url),m=x._query,delete x._url,delete x._query,d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),d.then(v=>{const g=vC(v),y=new ky;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MC(){return{}}function AC(){return{}}function _C(){return{}}function DC(){return{}}function RC(n){const e={},o=a(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function kC(n){const e={},o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);l!=null&&r(e,["mimeType"],l);const d=a(n,["sourceMetadata"]);return d!=null&&r(e,["sourceMetadata"],N5(d)),e}function nh(){return{}}function ih(){return{}}function IC(n){const e={},o=a(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],RC(o));const l=a(n,["authType"]);l!=null&&r(e,["authType"],l);const d=a(n,["googleServiceAccountConfig"]);d!=null&&r(e,["googleServiceAccountConfig"],d);const f=a(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const x=a(n,["oidcConfig"]);return x!=null&&r(e,["oidcConfig"],x),e}function jC(n){const e={},o=a(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const d=a(n,["endOfSpeechSensitivity"]);d!=null&&r(e,["endOfSpeechSensitivity"],d);const f=a(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function LC(n){const e={},o=a(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const d=a(n,["endOfSpeechSensitivity"]);d!=null&&r(e,["endOfSpeechSensitivity"],d);const f=a(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function zC(n){const e={},o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function UC(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function VC(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function PC(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function qC(n){const e={},o=a(n,["environment"]);o!=null&&r(e,["environment"],o);const l=a(n,["excludedPredefinedFunctions"]);return l!=null&&r(e,["excludedPredefinedFunctions"],l),e}function HC(n){const e={},o=a(n,["environment"]);o!=null&&r(e,["environment"],o);const l=a(n,["excludedPredefinedFunctions"]);return l!=null&&r(e,["excludedPredefinedFunctions"],l),e}function BC(n){const e={},o=a(n,["parts"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>B5(f))),r(e,["parts"],d)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function GC(n){const e={},o=a(n,["parts"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>G5(f))),r(e,["parts"],d)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function FC(n){const e={},o=a(n,["parts"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>F5(f))),r(e,["parts"],d)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function OC(n){const e={},o=a(n,["parts"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>O5(f))),r(e,["parts"],d)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function YC(n){const e={},o=a(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=a(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],eT(l)),e}function $C(n){const e={},o=a(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=a(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],tT(l)),e}function JC(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function KC(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function ZC(n){const e={},o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function XC(n){const e={},o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function QC(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function WC(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function e5(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function og(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const d=a(n,["name"]);return d!=null&&r(e,["name"],d),e}function lg(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const d=a(n,["name"]);return d!=null&&r(e,["name"],d),e}function t5(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const d=a(n,["name"]);return d!=null&&r(e,["name"],d),e}function n5(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const d=a(n,["name"]);return d!=null&&r(e,["name"],d),e}function i5(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const d=a(n,["name"]);d!=null&&r(e,["name"],d);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const x=a(n,["response"]);x!=null&&r(e,["response"],x);const v=a(n,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function o5(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(n,["description"]);o!=null&&r(e,["description"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const f=a(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const x=a(n,["responseJsonSchema"]);return x!=null&&r(e,["responseJsonSchema"],x),e}function l5(n){const e={},o=a(n,["authConfig"]);return o!=null&&r(e,["authConfig"],IC(o)),e}function s5(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],JC(o)),e}function a5(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],KC(o)),e}function r5(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],c5(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function u5(n){const e={},o=a(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],d5(o));const l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function c5(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function d5(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function f5(n,e){const o={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const d=a(n,["responseModalities"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","responseModalities"],d);const f=a(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const x=a(n,["topK"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","topK"],x);const v=a(n,["maxOutputTokens"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","maxOutputTokens"],v);const g=a(n,["mediaResolution"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","mediaResolution"],g);const y=a(n,["seed"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","seed"],y);const C=a(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],iT(hd(C)));const S=a(n,["thinkingConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","thinkingConfig"],lT(S));const N=a(n,["enableAffectiveDialog"]);e!==void 0&&N!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],N);const w=a(n,["systemInstruction"]);e!==void 0&&w!=null&&r(e,["setup","systemInstruction"],FC(wt(w)));const _=a(n,["tools"]);if(e!==void 0&&_!=null){let K=pl(_);Array.isArray(K)&&(K=K.map(J=>aT(ml(J)))),r(e,["setup","tools"],K)}const O=a(n,["sessionResumption"]);e!==void 0&&O!=null&&r(e,["setup","sessionResumption"],Q5(O));const E=a(n,["inputAudioTranscription"]);e!==void 0&&E!=null&&r(e,["setup","inputAudioTranscription"],nh());const P=a(n,["outputAudioTranscription"]);e!==void 0&&P!=null&&r(e,["setup","outputAudioTranscription"],nh());const L=a(n,["realtimeInputConfig"]);e!==void 0&&L!=null&&r(e,["setup","realtimeInputConfig"],Z5(L));const I=a(n,["contextWindowCompression"]);e!==void 0&&I!=null&&r(e,["setup","contextWindowCompression"],YC(I));const F=a(n,["proactivity"]);return e!==void 0&&F!=null&&r(e,["setup","proactivity"],J5(F)),o}function m5(n,e){const o={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const d=a(n,["responseModalities"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","responseModalities"],d);const f=a(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const x=a(n,["topK"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","topK"],x);const v=a(n,["maxOutputTokens"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","maxOutputTokens"],v);const g=a(n,["mediaResolution"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","mediaResolution"],g);const y=a(n,["seed"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","seed"],y);const C=a(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],oT(hd(C)));const S=a(n,["thinkingConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","thinkingConfig"],sT(S));const N=a(n,["enableAffectiveDialog"]);e!==void 0&&N!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],N);const w=a(n,["systemInstruction"]);e!==void 0&&w!=null&&r(e,["setup","systemInstruction"],OC(wt(w)));const _=a(n,["tools"]);if(e!==void 0&&_!=null){let K=pl(_);Array.isArray(K)&&(K=K.map(J=>rT(ml(J)))),r(e,["setup","tools"],K)}const O=a(n,["sessionResumption"]);e!==void 0&&O!=null&&r(e,["setup","sessionResumption"],W5(O));const E=a(n,["inputAudioTranscription"]);e!==void 0&&E!=null&&r(e,["setup","inputAudioTranscription"],ih());const P=a(n,["outputAudioTranscription"]);e!==void 0&&P!=null&&r(e,["setup","outputAudioTranscription"],ih());const L=a(n,["realtimeInputConfig"]);e!==void 0&&L!=null&&r(e,["setup","realtimeInputConfig"],X5(L));const I=a(n,["contextWindowCompression"]);e!==void 0&&I!=null&&r(e,["setup","contextWindowCompression"],$C(I));const F=a(n,["proactivity"]);return e!==void 0&&F!=null&&r(e,["setup","proactivity"],K5(F)),o}function p5(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["setup","model"],Ie(n,l));const d=a(e,["config"]);return d!=null&&r(o,["config"],f5(d,o)),o}function h5(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["setup","model"],Ie(n,l));const d=a(e,["config"]);return d!=null&&r(o,["config"],m5(d,o)),o}function g5(n){const e={},o=a(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>CT(d))),r(e,["weightedPrompts"],l)}return e}function sg(n){const e={},o=a(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>cg(d))),r(e,["weightedPrompts"],l)}return e}function od(n){const e={},o=a(n,["setup"]);o!=null&&r(e,["setup"],ag(o));const l=a(n,["clientContent"]);l!=null&&r(e,["clientContent"],sg(l));const d=a(n,["musicGenerationConfig"]);d!=null&&r(e,["musicGenerationConfig"],rg(d));const f=a(n,["playbackControl"]);return f!=null&&r(e,["playbackControl"],f),e}function ag(n){const e={},o=a(n,["model"]);return o!=null&&r(e,["model"],o),e}function x5(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["filteredReason"]);return l!=null&&r(e,["filteredReason"],l),e}function v5(n){const e={},o=a(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=a(n,["topK"]);l!=null&&r(e,["topK"],l);const d=a(n,["seed"]);d!=null&&r(e,["seed"],d);const f=a(n,["guidance"]);f!=null&&r(e,["guidance"],f);const m=a(n,["bpm"]);m!=null&&r(e,["bpm"],m);const x=a(n,["density"]);x!=null&&r(e,["density"],x);const v=a(n,["brightness"]);v!=null&&r(e,["brightness"],v);const g=a(n,["scale"]);g!=null&&r(e,["scale"],g);const y=a(n,["muteBass"]);y!=null&&r(e,["muteBass"],y);const C=a(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const S=a(n,["onlyBassAndDrums"]);S!=null&&r(e,["onlyBassAndDrums"],S);const N=a(n,["musicGenerationMode"]);return N!=null&&r(e,["musicGenerationMode"],N),e}function rg(n){const e={},o=a(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=a(n,["topK"]);l!=null&&r(e,["topK"],l);const d=a(n,["seed"]);d!=null&&r(e,["seed"],d);const f=a(n,["guidance"]);f!=null&&r(e,["guidance"],f);const m=a(n,["bpm"]);m!=null&&r(e,["bpm"],m);const x=a(n,["density"]);x!=null&&r(e,["density"],x);const v=a(n,["brightness"]);v!=null&&r(e,["brightness"],v);const g=a(n,["scale"]);g!=null&&r(e,["scale"],g);const y=a(n,["muteBass"]);y!=null&&r(e,["muteBass"],y);const C=a(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const S=a(n,["onlyBassAndDrums"]);S!=null&&r(e,["onlyBassAndDrums"],S);const N=a(n,["musicGenerationMode"]);return N!=null&&r(e,["musicGenerationMode"],N),e}function y5(n){const e={},o=a(n,["audioChunks"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>kC(d))),r(e,["audioChunks"],l)}return e}function C5(n){const e={};a(n,["setupComplete"])!=null&&r(e,["setupComplete"],T5());const l=a(n,["serverContent"]);l!=null&&r(e,["serverContent"],y5(l));const d=a(n,["filteredPrompt"]);return d!=null&&r(e,["filteredPrompt"],x5(d)),e}function T5(){return{}}function S5(n){const e={},o=a(n,["musicGenerationConfig"]);return o!=null&&r(e,["musicGenerationConfig"],rg(o)),e}function b5(n){const e={},o=a(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>cg(d))),r(e,["weightedPrompts"],l)}return e}function N5(n){const e={},o=a(n,["clientContent"]);o!=null&&r(e,["clientContent"],g5(o));const l=a(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],v5(l)),e}function w5(n){const e={},o=a(n,["media"]);if(o!=null){let g=Gh(o);Array.isArray(g)&&(g=g.map(y=>y)),r(e,["mediaChunks"],g)}const l=a(n,["audio"]);l!=null&&r(e,["audio"],Oh(l));const d=a(n,["audioStreamEnd"]);d!=null&&r(e,["audioStreamEnd"],d);const f=a(n,["video"]);f!=null&&r(e,["video"],Fh(f));const m=a(n,["text"]);return m!=null&&r(e,["text"],m),a(n,["activityStart"])!=null&&r(e,["activityStart"],_C()),a(n,["activityEnd"])!=null&&r(e,["activityEnd"],MC()),e}function E5(n){const e={},o=a(n,["media"]);if(o!=null){let g=Gh(o);Array.isArray(g)&&(g=g.map(y=>y)),r(e,["mediaChunks"],g)}const l=a(n,["audio"]);l!=null&&r(e,["audio"],Oh(l));const d=a(n,["audioStreamEnd"]);d!=null&&r(e,["audioStreamEnd"],d);const f=a(n,["video"]);f!=null&&r(e,["video"],Fh(f));const m=a(n,["text"]);return m!=null&&r(e,["text"],m),a(n,["activityStart"])!=null&&r(e,["activityStart"],DC()),a(n,["activityEnd"])!=null&&r(e,["activityEnd"],AC()),e}function M5(n){const e={},o=a(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],BC(o));const l=a(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const d=a(n,["interrupted"]);d!=null&&r(e,["interrupted"],d);const f=a(n,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const m=a(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const x=a(n,["inputTranscription"]);x!=null&&r(e,["inputTranscription"],oh(x));const v=a(n,["outputTranscription"]);v!=null&&r(e,["outputTranscription"],oh(v));const g=a(n,["urlContextMetadata"]);g!=null&&r(e,["urlContextMetadata"],uT(g));const y=a(n,["turnCompleteReason"]);y!=null&&r(e,["turnCompleteReason"],y);const C=a(n,["waitingForInput"]);return C!=null&&r(e,["waitingForInput"],C),e}function A5(n){const e={},o=a(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],GC(o));const l=a(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const d=a(n,["interrupted"]);d!=null&&r(e,["interrupted"],d);const f=a(n,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const m=a(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const x=a(n,["inputTranscription"]);x!=null&&r(e,["inputTranscription"],lh(x));const v=a(n,["outputTranscription"]);v!=null&&r(e,["outputTranscription"],lh(v));const g=a(n,["turnCompleteReason"]);g!=null&&r(e,["turnCompleteReason"],g);const y=a(n,["waitingForInput"]);return y!=null&&r(e,["waitingForInput"],y),e}function _5(n){const e={},o=a(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function D5(n){const e={},o=a(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function R5(n){const e={};a(n,["setupComplete"])!=null&&r(e,["setupComplete"],L5());const l=a(n,["serverContent"]);l!=null&&r(e,["serverContent"],M5(l));const d=a(n,["toolCall"]);d!=null&&r(e,["toolCall"],P5(d));const f=a(n,["toolCallCancellation"]);f!=null&&r(e,["toolCallCancellation"],U5(f));const m=a(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],mT(m));const x=a(n,["goAway"]);x!=null&&r(e,["goAway"],_5(x));const v=a(n,["sessionResumptionUpdate"]);return v!=null&&r(e,["sessionResumptionUpdate"],I5(v)),e}function k5(n){const e={},o=a(n,["setupComplete"]);o!=null&&r(e,["setupComplete"],z5(o));const l=a(n,["serverContent"]);l!=null&&r(e,["serverContent"],A5(l));const d=a(n,["toolCall"]);d!=null&&r(e,["toolCall"],q5(d));const f=a(n,["toolCallCancellation"]);f!=null&&r(e,["toolCallCancellation"],V5(f));const m=a(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],pT(m));const x=a(n,["goAway"]);x!=null&&r(e,["goAway"],D5(x));const v=a(n,["sessionResumptionUpdate"]);return v!=null&&r(e,["sessionResumptionUpdate"],j5(v)),e}function I5(n){const e={},o=a(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=a(n,["resumable"]);l!=null&&r(e,["resumable"],l);const d=a(n,["lastConsumedClientMessageIndex"]);return d!=null&&r(e,["lastConsumedClientMessageIndex"],d),e}function j5(n){const e={},o=a(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=a(n,["resumable"]);l!=null&&r(e,["resumable"],l);const d=a(n,["lastConsumedClientMessageIndex"]);return d!=null&&r(e,["lastConsumedClientMessageIndex"],d),e}function L5(){return{}}function z5(n){const e={},o=a(n,["sessionId"]);return o!=null&&r(e,["sessionId"],o),e}function U5(n){const e={},o=a(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function V5(n){const e={},o=a(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function P5(n){const e={},o=a(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>og(d))),r(e,["functionCalls"],l)}return e}function q5(n){const e={},o=a(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>lg(d))),r(e,["functionCalls"],l)}return e}function or(n){const e={},o=a(n,["modality"]);o!=null&&r(e,["modality"],o);const l=a(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function lr(n){const e={},o=a(n,["modality"]);o!=null&&r(e,["modality"],o);const l=a(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function H5(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>nT(d))),r(e,["speakerVoiceConfigs"],l)}return e}function B5(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],hT(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const d=a(n,["inlineData"]);d!=null&&r(e,["inlineData"],zC(d));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],XC(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const x=a(n,["functionCall"]);x!=null&&r(e,["functionCall"],og(x));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const g=a(n,["executableCode"]);g!=null&&r(e,["executableCode"],g);const y=a(n,["functionResponse"]);y!=null&&r(e,["functionResponse"],y);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function G5(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],gT(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const d=a(n,["inlineData"]);d!=null&&r(e,["inlineData"],UC(d));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],QC(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const x=a(n,["functionCall"]);x!=null&&r(e,["functionCall"],lg(x));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const g=a(n,["executableCode"]);g!=null&&r(e,["executableCode"],g);const y=a(n,["functionResponse"]);y!=null&&r(e,["functionResponse"],y);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function F5(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],xT(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const d=a(n,["inlineData"]);d!=null&&r(e,["inlineData"],VC(d));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],WC(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const x=a(n,["functionCall"]);x!=null&&r(e,["functionCall"],t5(x));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const g=a(n,["executableCode"]);g!=null&&r(e,["executableCode"],g);const y=a(n,["functionResponse"]);y!=null&&r(e,["functionResponse"],y);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function O5(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],vT(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const d=a(n,["inlineData"]);d!=null&&r(e,["inlineData"],PC(d));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],e5(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const x=a(n,["functionCall"]);x!=null&&r(e,["functionCall"],n5(x));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const g=a(n,["executableCode"]);g!=null&&r(e,["executableCode"],g);const y=a(n,["functionResponse"]);y!=null&&r(e,["functionResponse"],y);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function Y5(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function $5(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function J5(n){const e={},o=a(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function K5(n){const e={},o=a(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function Z5(n){const e={},o=a(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],jC(o));const l=a(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const d=a(n,["turnCoverage"]);return d!=null&&r(e,["turnCoverage"],d),e}function X5(n){const e={},o=a(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],LC(o));const l=a(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const d=a(n,["turnCoverage"]);return d!=null&&r(e,["turnCoverage"],d),e}function Q5(n){const e={},o=a(n,["handle"]);if(o!=null&&r(e,["handle"],o),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function W5(n){const e={},o=a(n,["handle"]);o!=null&&r(e,["handle"],o);const l=a(n,["transparent"]);return l!=null&&r(e,["transparent"],l),e}function eT(n){const e={},o=a(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function tT(n){const e={},o=a(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function nT(n){const e={},o=a(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],ug(l)),e}function iT(n){const e={},o=a(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],ug(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],H5(l));const d=a(n,["languageCode"]);return d!=null&&r(e,["languageCode"],d),e}function oT(n){const e={},o=a(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],yT(o)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function lT(n){const e={},o=a(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function sT(n){const e={},o=a(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function aT(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(g=>i5(g))),r(e,["functionDeclarations"],v)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],r5(l));const d=a(n,["googleSearchRetrieval"]);if(d!=null&&r(e,["googleSearchRetrieval"],s5(d)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],cT());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],qC(m));const x=a(n,["codeExecution"]);return x!=null&&r(e,["codeExecution"],x),e}function rT(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>o5(S))),r(e,["functionDeclarations"],C)}const l=a(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const d=a(n,["googleSearch"]);d!=null&&r(e,["googleSearch"],u5(d));const f=a(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],a5(f));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],ZC(m));const x=a(n,["googleMaps"]);x!=null&&r(e,["googleMaps"],l5(x)),a(n,["urlContext"])!=null&&r(e,["urlContext"],dT());const g=a(n,["computerUse"]);g!=null&&r(e,["computerUse"],HC(g));const y=a(n,["codeExecution"]);return y!=null&&r(e,["codeExecution"],y),e}function oh(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function lh(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function uT(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>fT(d))),r(e,["urlMetadata"],l)}return e}function cT(){return{}}function dT(){return{}}function fT(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function mT(n){const e={},o=a(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=a(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const d=a(n,["responseTokenCount"]);d!=null&&r(e,["responseTokenCount"],d);const f=a(n,["toolUsePromptTokenCount"]);f!=null&&r(e,["toolUsePromptTokenCount"],f);const m=a(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const x=a(n,["totalTokenCount"]);x!=null&&r(e,["totalTokenCount"],x);const v=a(n,["promptTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(N=>or(N))),r(e,["promptTokensDetails"],S)}const g=a(n,["cacheTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(N=>or(N))),r(e,["cacheTokensDetails"],S)}const y=a(n,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(N=>or(N))),r(e,["responseTokensDetails"],S)}const C=a(n,["toolUsePromptTokensDetails"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(N=>or(N))),r(e,["toolUsePromptTokensDetails"],S)}return e}function pT(n){const e={},o=a(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=a(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const d=a(n,["candidatesTokenCount"]);d!=null&&r(e,["responseTokenCount"],d);const f=a(n,["toolUsePromptTokenCount"]);f!=null&&r(e,["toolUsePromptTokenCount"],f);const m=a(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const x=a(n,["totalTokenCount"]);x!=null&&r(e,["totalTokenCount"],x);const v=a(n,["promptTokensDetails"]);if(v!=null){let N=v;Array.isArray(N)&&(N=N.map(w=>lr(w))),r(e,["promptTokensDetails"],N)}const g=a(n,["cacheTokensDetails"]);if(g!=null){let N=g;Array.isArray(N)&&(N=N.map(w=>lr(w))),r(e,["cacheTokensDetails"],N)}const y=a(n,["candidatesTokensDetails"]);if(y!=null){let N=y;Array.isArray(N)&&(N=N.map(w=>lr(w))),r(e,["responseTokensDetails"],N)}const C=a(n,["toolUsePromptTokensDetails"]);if(C!=null){let N=C;Array.isArray(N)&&(N=N.map(w=>lr(w))),r(e,["toolUsePromptTokensDetails"],N)}const S=a(n,["trafficType"]);return S!=null&&r(e,["trafficType"],S),e}function hT(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const d=a(n,["startOffset"]);return d!=null&&r(e,["startOffset"],d),e}function gT(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const d=a(n,["startOffset"]);return d!=null&&r(e,["startOffset"],d),e}function xT(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const d=a(n,["startOffset"]);return d!=null&&r(e,["startOffset"],d),e}function vT(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const d=a(n,["startOffset"]);return d!=null&&r(e,["startOffset"],d),e}function ug(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],Y5(o)),e}function yT(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],$5(o)),e}function CT(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function cg(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["weight"]);return l!=null&&r(e,["weight"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TT(n){const e={},o=a(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function ST(n){const e={},o=a(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],TT(o));const l=a(n,["authType"]);l!=null&&r(e,["authType"],l);const d=a(n,["googleServiceAccountConfig"]);d!=null&&r(e,["googleServiceAccountConfig"],d);const f=a(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const x=a(n,["oidcConfig"]);return x!=null&&r(e,["oidcConfig"],x),e}function bT(n){const e={},o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function NT(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function wT(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function ET(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function MT(n){const e={},o=a(n,["content"]);o!=null&&r(e,["content"],PT(o));const l=a(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],DT(l));const d=a(n,["tokenCount"]);d!=null&&r(e,["tokenCount"],d);const f=a(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],lN(m));const x=a(n,["avgLogprobs"]);x!=null&&r(e,["avgLogprobs"],x);const v=a(n,["groundingMetadata"]);v!=null&&r(e,["groundingMetadata"],v);const g=a(n,["index"]);g!=null&&r(e,["index"],g);const y=a(n,["logprobsResult"]);y!=null&&r(e,["logprobsResult"],y);const C=a(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function AT(n){const e={},o=a(n,["content"]);o!=null&&r(e,["content"],qT(o));const l=a(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],RT(l));const d=a(n,["finishMessage"]);d!=null&&r(e,["finishMessage"],d);const f=a(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],sN(m));const x=a(n,["avgLogprobs"]);x!=null&&r(e,["avgLogprobs"],x);const v=a(n,["groundingMetadata"]);v!=null&&r(e,["groundingMetadata"],v);const g=a(n,["index"]);g!=null&&r(e,["index"],g);const y=a(n,["logprobsResult"]);y!=null&&r(e,["logprobsResult"],y);const C=a(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function _T(n){const e={},o=a(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=a(n,["epoch"]);l!=null&&r(e,["epoch"],l);const d=a(n,["step"]);return d!=null&&r(e,["step"],d),e}function DT(n){const e={},o=a(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function RT(n){const e={},o=a(n,["citations"]);return o!=null&&r(e,["citations"],o),e}function kT(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["contents"]);if(d!=null){let f=nn(d);Array.isArray(f)&&(f=f.map(m=>gl(m))),r(o,["contents"],f)}return o}function IT(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["tokensInfo"]);return l!=null&&r(e,["tokensInfo"],l),e}function jT(n){const e={},o=a(n,["environment"]);o!=null&&r(e,["environment"],o);const l=a(n,["excludedPredefinedFunctions"]);return l!=null&&r(e,["excludedPredefinedFunctions"],l),e}function LT(n){const e={},o=a(n,["environment"]);o!=null&&r(e,["environment"],o);const l=a(n,["excludedPredefinedFunctions"]);return l!=null&&r(e,["excludedPredefinedFunctions"],l),e}function zT(n){const e={},o=a(n,["values"]);return o!=null&&r(e,["values"],o),e}function UT(n){const e={},o=a(n,["values"]);o!=null&&r(e,["values"],o);const l=a(n,["statistics"]);return l!=null&&r(e,["statistics"],VT(l)),e}function VT(n){const e={},o=a(n,["truncated"]);o!=null&&r(e,["truncated"],o);const l=a(n,["token_count"]);return l!=null&&r(e,["tokenCount"],l),e}function PT(n){const e={},o=a(n,["parts"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>xb(f))),r(e,["parts"],d)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function qT(n){const e={},o=a(n,["parts"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>vb(f))),r(e,["parts"],d)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function mr(n){const e={},o=a(n,["parts"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>yb(f))),r(e,["parts"],d)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function gl(n){const e={},o=a(n,["parts"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>Cb(f))),r(e,["parts"],d)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function HT(n){const e={},o=a(n,["controlType"]);o!=null&&r(e,["controlType"],o);const l=a(n,["enableControlImageComputation"]);return l!=null&&r(e,["computeControl"],l),e}function BT(n){const e={};if(a(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function GT(n,e){const o={},l=a(n,["systemInstruction"]);e!==void 0&&l!=null&&r(e,["systemInstruction"],gl(wt(l)));const d=a(n,["tools"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(x=>hg(x))),r(e,["tools"],m)}const f=a(n,["generationConfig"]);return e!==void 0&&f!=null&&r(e,["generationConfig"],f),o}function FT(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["contents"]);if(d!=null){let m=nn(d);Array.isArray(m)&&(m=m.map(x=>mr(x))),r(o,["contents"],m)}const f=a(e,["config"]);return f!=null&&BT(f),o}function OT(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["contents"]);if(d!=null){let m=nn(d);Array.isArray(m)&&(m=m.map(x=>gl(x))),r(o,["contents"],m)}const f=a(e,["config"]);return f!=null&&GT(f,o),o}function YT(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["totalTokens"]);l!=null&&r(e,["totalTokens"],l);const d=a(n,["cachedContentTokenCount"]);return d!=null&&r(e,["cachedContentTokenCount"],d),e}function $T(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["totalTokens"]);return l!=null&&r(e,["totalTokens"],l),e}function JT(n,e){const o={},l=a(e,["model"]);return l!=null&&r(o,["_url","name"],Ie(n,l)),o}function KT(n,e){const o={},l=a(e,["model"]);return l!=null&&r(o,["_url","name"],Ie(n,l)),o}function ZT(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function XT(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function QT(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function WT(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function eS(n,e){const o={},l=a(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const d=a(n,["negativePrompt"]);e!==void 0&&d!=null&&r(e,["parameters","negativePrompt"],d);const f=a(n,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const m=a(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const x=a(n,["guidanceScale"]);e!==void 0&&x!=null&&r(e,["parameters","guidanceScale"],x);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["parameters","seed"],v);const g=a(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const y=a(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const C=a(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const S=a(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const N=a(n,["language"]);e!==void 0&&N!=null&&r(e,["parameters","language"],N);const w=a(n,["outputMimeType"]);e!==void 0&&w!=null&&r(e,["parameters","outputOptions","mimeType"],w);const _=a(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&r(e,["parameters","outputOptions","compressionQuality"],_);const O=a(n,["addWatermark"]);e!==void 0&&O!=null&&r(e,["parameters","addWatermark"],O);const E=a(n,["editMode"]);e!==void 0&&E!=null&&r(e,["parameters","editMode"],E);const P=a(n,["baseSteps"]);return e!==void 0&&P!=null&&r(e,["parameters","editConfig","baseSteps"],P),o}function tS(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["prompt"]);d!=null&&r(o,["instances[0]","prompt"],d);const f=a(e,["referenceImages"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(v=>Ab(v))),r(o,["instances[0]","referenceImages"],x)}const m=a(e,["config"]);return m!=null&&eS(m,o),o}function nS(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>pr(f))),r(e,["generatedImages"],d)}return e}function iS(n,e){const o={},l=a(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const d=a(n,["title"]);e!==void 0&&d!=null&&r(e,["requests[]","title"],d);const f=a(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&r(e,["requests[]","outputDimensionality"],f),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function oS(n,e){const o={},l=a(n,["taskType"]);e!==void 0&&l!=null&&r(e,["instances[]","task_type"],l);const d=a(n,["title"]);e!==void 0&&d!=null&&r(e,["instances[]","title"],d);const f=a(n,["outputDimensionality"]);e!==void 0&&f!=null&&r(e,["parameters","outputDimensionality"],f);const m=a(n,["mimeType"]);e!==void 0&&m!=null&&r(e,["instances[]","mimeType"],m);const x=a(n,["autoTruncate"]);return e!==void 0&&x!=null&&r(e,["parameters","autoTruncate"],x),o}function lS(){return{}}function sS(n){const e={},o=a(n,["billableCharacterCount"]);return o!=null&&r(e,["billableCharacterCount"],o),e}function aS(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["contents"]);d!=null&&r(o,["requests[]","content"],fd(n,d));const f=a(e,["config"]);f!=null&&iS(f,o);const m=a(e,["model"]);return m!==void 0&&r(o,["requests[]","model"],Ie(n,m)),o}function rS(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["contents"]);d!=null&&r(o,["instances[]","content"],fd(n,d));const f=a(e,["config"]);return f!=null&&oS(f,o),o}function uS(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["embeddings"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>zT(m))),r(e,["embeddings"],f)}return a(n,["metadata"])!=null&&r(e,["metadata"],lS()),e}function cS(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions[]","embeddings"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>UT(m))),r(e,["embeddings"],f)}const d=a(n,["metadata"]);return d!=null&&r(e,["metadata"],sS(d)),e}function dS(n){const e={},o=a(n,["endpoint"]);o!=null&&r(e,["name"],o);const l=a(n,["deployedModelId"]);return l!=null&&r(e,["deployedModelId"],l),e}function fS(n){const e={},o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function mS(n){const e={},o=a(n,["label"]);o!=null&&r(e,["label"],o);const l=a(n,["score"]);return l!=null&&r(e,["score"],l),e}function pS(n){const e={},o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function hS(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function gS(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function xS(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function vS(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const d=a(n,["name"]);return d!=null&&r(e,["name"],d),e}function yS(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const d=a(n,["name"]);return d!=null&&r(e,["name"],d),e}function CS(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const d=a(n,["name"]);return d!=null&&r(e,["name"],d),e}function TS(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const d=a(n,["name"]);return d!=null&&r(e,["name"],d),e}function SS(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function bS(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function NS(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const d=a(n,["name"]);d!=null&&r(e,["name"],d);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const x=a(n,["response"]);x!=null&&r(e,["response"],x);const v=a(n,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function wS(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(n,["description"]);o!=null&&r(e,["description"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const f=a(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const x=a(n,["responseJsonSchema"]);return x!=null&&r(e,["responseJsonSchema"],x),e}function ES(n,e,o){const l={},d=a(e,["systemInstruction"]);o!==void 0&&d!=null&&r(o,["systemInstruction"],mr(wt(d)));const f=a(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=a(e,["topP"]);m!=null&&r(l,["topP"],m);const x=a(e,["topK"]);x!=null&&r(l,["topK"],x);const v=a(e,["candidateCount"]);v!=null&&r(l,["candidateCount"],v);const g=a(e,["maxOutputTokens"]);g!=null&&r(l,["maxOutputTokens"],g);const y=a(e,["stopSequences"]);y!=null&&r(l,["stopSequences"],y);const C=a(e,["responseLogprobs"]);C!=null&&r(l,["responseLogprobs"],C);const S=a(e,["logprobs"]);S!=null&&r(l,["logprobs"],S);const N=a(e,["presencePenalty"]);N!=null&&r(l,["presencePenalty"],N);const w=a(e,["frequencyPenalty"]);w!=null&&r(l,["frequencyPenalty"],w);const _=a(e,["seed"]);_!=null&&r(l,["seed"],_);const O=a(e,["responseMimeType"]);O!=null&&r(l,["responseMimeType"],O);const E=a(e,["responseSchema"]);E!=null&&r(l,["responseSchema"],Ib(md(E)));const P=a(e,["responseJsonSchema"]);if(P!=null&&r(l,["responseJsonSchema"],P),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=a(e,["safetySettings"]);if(o!==void 0&&L!=null){let te=L;Array.isArray(te)&&(te=te.map(ge=>Rb(ge))),r(o,["safetySettings"],te)}const I=a(e,["tools"]);if(o!==void 0&&I!=null){let te=pl(I);Array.isArray(te)&&(te=te.map(ge=>Kb(ml(ge)))),r(o,["tools"],te)}const F=a(e,["toolConfig"]);if(o!==void 0&&F!=null&&r(o,["toolConfig"],$b(F)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=a(e,["cachedContent"]);o!==void 0&&K!=null&&r(o,["cachedContent"],Qn(n,K));const J=a(e,["responseModalities"]);J!=null&&r(l,["responseModalities"],J);const oe=a(e,["mediaResolution"]);oe!=null&&r(l,["mediaResolution"],oe);const $=a(e,["speechConfig"]);if($!=null&&r(l,["speechConfig"],Hb(pd($))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=a(e,["thinkingConfig"]);re!=null&&r(l,["thinkingConfig"],Ob(re));const ue=a(e,["imageConfig"]);return ue!=null&&r(l,["imageConfig"],tb(ue)),l}function MS(n,e,o){const l={},d=a(e,["systemInstruction"]);o!==void 0&&d!=null&&r(o,["systemInstruction"],gl(wt(d)));const f=a(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=a(e,["topP"]);m!=null&&r(l,["topP"],m);const x=a(e,["topK"]);x!=null&&r(l,["topK"],x);const v=a(e,["candidateCount"]);v!=null&&r(l,["candidateCount"],v);const g=a(e,["maxOutputTokens"]);g!=null&&r(l,["maxOutputTokens"],g);const y=a(e,["stopSequences"]);y!=null&&r(l,["stopSequences"],y);const C=a(e,["responseLogprobs"]);C!=null&&r(l,["responseLogprobs"],C);const S=a(e,["logprobs"]);S!=null&&r(l,["logprobs"],S);const N=a(e,["presencePenalty"]);N!=null&&r(l,["presencePenalty"],N);const w=a(e,["frequencyPenalty"]);w!=null&&r(l,["frequencyPenalty"],w);const _=a(e,["seed"]);_!=null&&r(l,["seed"],_);const O=a(e,["responseMimeType"]);O!=null&&r(l,["responseMimeType"],O);const E=a(e,["responseSchema"]);E!=null&&r(l,["responseSchema"],jb(md(E)));const P=a(e,["responseJsonSchema"]);P!=null&&r(l,["responseJsonSchema"],P);const L=a(e,["routingConfig"]);L!=null&&r(l,["routingConfig"],L);const I=a(e,["modelSelectionConfig"]);I!=null&&r(l,["modelConfig"],hb(I));const F=a(e,["safetySettings"]);if(o!==void 0&&F!=null){let R=F;Array.isArray(R)&&(R=R.map(q=>kb(q))),r(o,["safetySettings"],R)}const K=a(e,["tools"]);if(o!==void 0&&K!=null){let R=pl(K);Array.isArray(R)&&(R=R.map(q=>hg(ml(q)))),r(o,["tools"],R)}const J=a(e,["toolConfig"]);o!==void 0&&J!=null&&r(o,["toolConfig"],Jb(J));const oe=a(e,["labels"]);o!==void 0&&oe!=null&&r(o,["labels"],oe);const $=a(e,["cachedContent"]);o!==void 0&&$!=null&&r(o,["cachedContent"],Qn(n,$));const re=a(e,["responseModalities"]);re!=null&&r(l,["responseModalities"],re);const ue=a(e,["mediaResolution"]);ue!=null&&r(l,["mediaResolution"],ue);const te=a(e,["speechConfig"]);te!=null&&r(l,["speechConfig"],Bb(pd(te)));const ge=a(e,["audioTimestamp"]);ge!=null&&r(l,["audioTimestamp"],ge);const He=a(e,["thinkingConfig"]);He!=null&&r(l,["thinkingConfig"],Yb(He));const se=a(e,["imageConfig"]);return se!=null&&r(l,["imageConfig"],nb(se)),l}function sh(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["contents"]);if(d!=null){let m=nn(d);Array.isArray(m)&&(m=m.map(x=>mr(x))),r(o,["contents"],m)}const f=a(e,["config"]);return f!=null&&r(o,["generationConfig"],ES(n,f,o)),o}function ah(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["contents"]);if(d!=null){let m=nn(d);Array.isArray(m)&&(m=m.map(x=>gl(x))),r(o,["contents"],m)}const f=a(e,["config"]);return f!=null&&r(o,["generationConfig"],MS(n,f,o)),o}function rh(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["candidates"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(g=>MT(g))),r(e,["candidates"],v)}const d=a(n,["modelVersion"]);d!=null&&r(e,["modelVersion"],d);const f=a(n,["promptFeedback"]);f!=null&&r(e,["promptFeedback"],f);const m=a(n,["responseId"]);m!=null&&r(e,["responseId"],m);const x=a(n,["usageMetadata"]);return x!=null&&r(e,["usageMetadata"],x),e}function uh(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["candidates"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>AT(y))),r(e,["candidates"],g)}const d=a(n,["createTime"]);d!=null&&r(e,["createTime"],d);const f=a(n,["modelVersion"]);f!=null&&r(e,["modelVersion"],f);const m=a(n,["promptFeedback"]);m!=null&&r(e,["promptFeedback"],m);const x=a(n,["responseId"]);x!=null&&r(e,["responseId"],x);const v=a(n,["usageMetadata"]);return v!=null&&r(e,["usageMetadata"],v),e}function AS(n,e){const o={};if(a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=a(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const d=a(n,["aspectRatio"]);e!==void 0&&d!=null&&r(e,["parameters","aspectRatio"],d);const f=a(n,["guidanceScale"]);if(e!==void 0&&f!=null&&r(e,["parameters","guidanceScale"],f),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=a(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&r(e,["parameters","safetySetting"],m);const x=a(n,["personGeneration"]);e!==void 0&&x!=null&&r(e,["parameters","personGeneration"],x);const v=a(n,["includeSafetyAttributes"]);e!==void 0&&v!=null&&r(e,["parameters","includeSafetyAttributes"],v);const g=a(n,["includeRaiReason"]);e!==void 0&&g!=null&&r(e,["parameters","includeRaiReason"],g);const y=a(n,["language"]);e!==void 0&&y!=null&&r(e,["parameters","language"],y);const C=a(n,["outputMimeType"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","mimeType"],C);const S=a(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&r(e,["parameters","outputOptions","compressionQuality"],S),a(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const N=a(n,["imageSize"]);if(e!==void 0&&N!=null&&r(e,["parameters","sampleImageSize"],N),a(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function _S(n,e){const o={},l=a(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const d=a(n,["negativePrompt"]);e!==void 0&&d!=null&&r(e,["parameters","negativePrompt"],d);const f=a(n,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const m=a(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const x=a(n,["guidanceScale"]);e!==void 0&&x!=null&&r(e,["parameters","guidanceScale"],x);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["parameters","seed"],v);const g=a(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const y=a(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const C=a(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const S=a(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const N=a(n,["language"]);e!==void 0&&N!=null&&r(e,["parameters","language"],N);const w=a(n,["outputMimeType"]);e!==void 0&&w!=null&&r(e,["parameters","outputOptions","mimeType"],w);const _=a(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&r(e,["parameters","outputOptions","compressionQuality"],_);const O=a(n,["addWatermark"]);e!==void 0&&O!=null&&r(e,["parameters","addWatermark"],O);const E=a(n,["imageSize"]);e!==void 0&&E!=null&&r(e,["parameters","sampleImageSize"],E);const P=a(n,["enhancePrompt"]);return e!==void 0&&P!=null&&r(e,["parameters","enhancePrompt"],P),o}function DS(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["prompt"]);d!=null&&r(o,["instances[0]","prompt"],d);const f=a(e,["config"]);return f!=null&&AS(f,o),o}function RS(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["prompt"]);d!=null&&r(o,["instances[0]","prompt"],d);const f=a(e,["config"]);return f!=null&&_S(f,o),o}function kS(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>FS(m))),r(e,["generatedImages"],f)}const d=a(n,["positivePromptSafetyAttributes"]);return d!=null&&r(e,["positivePromptSafetyAttributes"],mg(d)),e}function IS(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>pr(m))),r(e,["generatedImages"],f)}const d=a(n,["positivePromptSafetyAttributes"]);return d!=null&&r(e,["positivePromptSafetyAttributes"],pg(d)),e}function jS(n,e){const o={},l=a(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l),a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const d=a(n,["durationSeconds"]);if(e!==void 0&&d!=null&&r(e,["parameters","durationSeconds"],d),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=a(n,["aspectRatio"]);e!==void 0&&f!=null&&r(e,["parameters","aspectRatio"],f);const m=a(n,["resolution"]);e!==void 0&&m!=null&&r(e,["parameters","resolution"],m);const x=a(n,["personGeneration"]);if(e!==void 0&&x!=null&&r(e,["parameters","personGeneration"],x),a(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=a(n,["negativePrompt"]);e!==void 0&&v!=null&&r(e,["parameters","negativePrompt"],v);const g=a(n,["enhancePrompt"]);if(e!==void 0&&g!=null&&r(e,["parameters","enhancePrompt"],g),a(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(a(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function LS(n,e){const o={},l=a(n,["numberOfVideos"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const d=a(n,["outputGcsUri"]);e!==void 0&&d!=null&&r(e,["parameters","storageUri"],d);const f=a(n,["fps"]);e!==void 0&&f!=null&&r(e,["parameters","fps"],f);const m=a(n,["durationSeconds"]);e!==void 0&&m!=null&&r(e,["parameters","durationSeconds"],m);const x=a(n,["seed"]);e!==void 0&&x!=null&&r(e,["parameters","seed"],x);const v=a(n,["aspectRatio"]);e!==void 0&&v!=null&&r(e,["parameters","aspectRatio"],v);const g=a(n,["resolution"]);e!==void 0&&g!=null&&r(e,["parameters","resolution"],g);const y=a(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const C=a(n,["pubsubTopic"]);e!==void 0&&C!=null&&r(e,["parameters","pubsubTopic"],C);const S=a(n,["negativePrompt"]);e!==void 0&&S!=null&&r(e,["parameters","negativePrompt"],S);const N=a(n,["enhancePrompt"]);e!==void 0&&N!=null&&r(e,["parameters","enhancePrompt"],N);const w=a(n,["generateAudio"]);e!==void 0&&w!=null&&r(e,["parameters","generateAudio"],w);const _=a(n,["lastFrame"]);e!==void 0&&_!=null&&r(e,["instances[0]","lastFrame"],mn(_));const O=a(n,["referenceImages"]);if(e!==void 0&&O!=null){let L=O;Array.isArray(L)&&(L=L.map(I=>pN(I))),r(e,["instances[0]","referenceImages"],L)}const E=a(n,["mask"]);e!==void 0&&E!=null&&r(e,["instances[0]","mask"],mN(E));const P=a(n,["compressionQuality"]);return e!==void 0&&P!=null&&r(e,["parameters","compressionQuality"],P),o}function zS(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const d=a(n,["done"]);d!=null&&r(e,["done"],d);const f=a(n,["error"]);f!=null&&r(e,["error"],f);const m=a(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],qS(m)),e}function US(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const d=a(n,["done"]);d!=null&&r(e,["done"],d);const f=a(n,["error"]);f!=null&&r(e,["error"],f);const m=a(n,["response"]);return m!=null&&r(e,["response"],HS(m)),e}function VS(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["prompt"]);d!=null&&r(o,["instances[0]","prompt"],d);const f=a(e,["image"]);if(f!=null&&r(o,["instances[0]","image"],fg(f)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=a(e,["source"]);m!=null&&BS(m,o);const x=a(e,["config"]);return x!=null&&jS(x,o),o}function PS(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["prompt"]);d!=null&&r(o,["instances[0]","prompt"],d);const f=a(e,["image"]);f!=null&&r(o,["instances[0]","image"],mn(f));const m=a(e,["video"]);m!=null&&r(o,["instances[0]","video"],gg(m));const x=a(e,["source"]);x!=null&&GS(x,o);const v=a(e,["config"]);return v!=null&&LS(v,o),o}function qS(n){const e={},o=a(n,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>YS(m))),r(e,["generatedVideos"],f)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const d=a(n,["raiMediaFilteredReasons"]);return d!=null&&r(e,["raiMediaFilteredReasons"],d),e}function HS(n){const e={},o=a(n,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>$S(m))),r(e,["generatedVideos"],f)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const d=a(n,["raiMediaFilteredReasons"]);return d!=null&&r(e,["raiMediaFilteredReasons"],d),e}function BS(n,e){const o={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const d=a(n,["image"]);if(e!==void 0&&d!=null&&r(e,["instances[0]","image"],fg(d)),a(n,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return o}function GS(n,e){const o={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const d=a(n,["image"]);e!==void 0&&d!=null&&r(e,["instances[0]","image"],mn(d));const f=a(n,["video"]);return e!==void 0&&f!=null&&r(e,["instances[0]","video"],gg(f)),o}function FS(n){const e={},o=a(n,["_self"]);o!=null&&r(e,["image"],ib(o));const l=a(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const d=a(n,["_self"]);return d!=null&&r(e,["safetyAttributes"],mg(d)),e}function pr(n){const e={},o=a(n,["_self"]);o!=null&&r(e,["image"],dg(o));const l=a(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const d=a(n,["_self"]);d!=null&&r(e,["safetyAttributes"],pg(d));const f=a(n,["prompt"]);return f!=null&&r(e,["enhancedPrompt"],f),e}function OS(n){const e={},o=a(n,["_self"]);o!=null&&r(e,["mask"],dg(o));const l=a(n,["labels"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>mS(f))),r(e,["labels"],d)}return e}function YS(n){const e={},o=a(n,["_self"]);return o!=null&&r(e,["video"],dN(o)),e}function $S(n){const e={},o=a(n,["_self"]);return o!=null&&r(e,["video"],fN(o)),e}function JS(n,e){const o={},l=a(e,["model"]);return l!=null&&r(o,["_url","name"],Ie(n,l)),o}function KS(n,e){const o={},l=a(e,["model"]);return l!=null&&r(o,["_url","name"],Ie(n,l)),o}function ZS(n){const e={},o=a(n,["authConfig"]);return o!=null&&r(e,["authConfig"],ST(o)),e}function XS(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],QT(o)),e}function QS(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],WT(o)),e}function WS(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],ob(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function eb(n){const e={},o=a(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],lb(o));const l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function tb(n){const e={},o=a(n,["aspectRatio"]);return o!=null&&r(e,["aspectRatio"],o),e}function nb(n){const e={},o=a(n,["aspectRatio"]);return o!=null&&r(e,["aspectRatio"],o),e}function ib(n){const e={},o=a(n,["bytesBase64Encoded"]);o!=null&&r(e,["imageBytes"],so(o));const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function dg(n){const e={},o=a(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=a(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],so(l));const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function fg(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=a(n,["imageBytes"]);o!=null&&r(e,["bytesBase64Encoded"],so(o));const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function mn(n){const e={},o=a(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=a(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],so(l));const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function ob(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function lb(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function sb(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function ab(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function rb(n,e,o){const l={},d=a(e,["pageSize"]);o!==void 0&&d!=null&&r(o,["_query","pageSize"],d);const f=a(e,["pageToken"]);o!==void 0&&f!=null&&r(o,["_query","pageToken"],f);const m=a(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const x=a(e,["queryBase"]);return o!==void 0&&x!=null&&r(o,["_url","models_url"],Kh(n,x)),l}function ub(n,e,o){const l={},d=a(e,["pageSize"]);o!==void 0&&d!=null&&r(o,["_query","pageSize"],d);const f=a(e,["pageToken"]);o!==void 0&&f!=null&&r(o,["_query","pageToken"],f);const m=a(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const x=a(e,["queryBase"]);return o!==void 0&&x!=null&&r(o,["_url","models_url"],Kh(n,x)),l}function cb(n,e){const o={},l=a(e,["config"]);return l!=null&&rb(n,l,o),o}function db(n,e){const o={},l=a(e,["config"]);return l!=null&&ub(n,l,o),o}function fb(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const d=a(n,["_self"]);if(d!=null){let f=Zh(d);Array.isArray(f)&&(f=f.map(m=>ld(m))),r(e,["models"],f)}return e}function mb(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const d=a(n,["_self"]);if(d!=null){let f=Zh(d);Array.isArray(f)&&(f=f.map(m=>sd(m))),r(e,["models"],f)}return e}function pb(n){const e={},o=a(n,["maskMode"]);o!=null&&r(e,["maskMode"],o);const l=a(n,["segmentationClasses"]);l!=null&&r(e,["maskClasses"],l);const d=a(n,["maskDilation"]);return d!=null&&r(e,["dilation"],d),e}function ld(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const d=a(n,["description"]);d!=null&&r(e,["description"],d);const f=a(n,["version"]);f!=null&&r(e,["version"],f);const m=a(n,["_self"]);m!=null&&r(e,["tunedModelInfo"],Zb(m));const x=a(n,["inputTokenLimit"]);x!=null&&r(e,["inputTokenLimit"],x);const v=a(n,["outputTokenLimit"]);v!=null&&r(e,["outputTokenLimit"],v);const g=a(n,["supportedGenerationMethods"]);return g!=null&&r(e,["supportedActions"],g),e}function sd(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const d=a(n,["description"]);d!=null&&r(e,["description"],d);const f=a(n,["versionId"]);f!=null&&r(e,["version"],f);const m=a(n,["deployedModels"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(S=>dS(S))),r(e,["endpoints"],C)}const x=a(n,["labels"]);x!=null&&r(e,["labels"],x);const v=a(n,["_self"]);v!=null&&r(e,["tunedModelInfo"],Xb(v));const g=a(n,["defaultCheckpointId"]);g!=null&&r(e,["defaultCheckpointId"],g);const y=a(n,["checkpoints"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(S=>_T(S))),r(e,["checkpoints"],C)}return e}function hb(n){const e={},o=a(n,["featureSelectionPreference"]);return o!=null&&r(e,["featureSelectionPreference"],o),e}function gb(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>qb(d))),r(e,["speakerVoiceConfigs"],l)}return e}function xb(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],hN(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const d=a(n,["inlineData"]);d!=null&&r(e,["inlineData"],bT(d));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],pS(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const x=a(n,["functionCall"]);x!=null&&r(e,["functionCall"],vS(x));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const g=a(n,["executableCode"]);g!=null&&r(e,["executableCode"],g);const y=a(n,["functionResponse"]);y!=null&&r(e,["functionResponse"],y);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function vb(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],gN(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const d=a(n,["inlineData"]);d!=null&&r(e,["inlineData"],NT(d));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],hS(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const x=a(n,["functionCall"]);x!=null&&r(e,["functionCall"],yS(x));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const g=a(n,["executableCode"]);g!=null&&r(e,["executableCode"],g);const y=a(n,["functionResponse"]);y!=null&&r(e,["functionResponse"],y);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function yb(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],xN(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const d=a(n,["inlineData"]);d!=null&&r(e,["inlineData"],wT(d));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],gS(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const x=a(n,["functionCall"]);x!=null&&r(e,["functionCall"],CS(x));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const g=a(n,["executableCode"]);g!=null&&r(e,["executableCode"],g);const y=a(n,["functionResponse"]);y!=null&&r(e,["functionResponse"],y);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function Cb(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],vN(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const d=a(n,["inlineData"]);d!=null&&r(e,["inlineData"],ET(d));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],xS(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const x=a(n,["functionCall"]);x!=null&&r(e,["functionCall"],TS(x));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const g=a(n,["executableCode"]);g!=null&&r(e,["executableCode"],g);const y=a(n,["functionResponse"]);y!=null&&r(e,["functionResponse"],y);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function Tb(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Sb(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function bb(n){const e={},o=a(n,["productImage"]);return o!=null&&r(e,["image"],mn(o)),e}function Nb(n,e){const o={},l=a(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const d=a(n,["baseSteps"]);e!==void 0&&d!=null&&r(e,["parameters","editConfig","baseSteps"],d);const f=a(n,["outputGcsUri"]);e!==void 0&&f!=null&&r(e,["parameters","storageUri"],f);const m=a(n,["seed"]);e!==void 0&&m!=null&&r(e,["parameters","seed"],m);const x=a(n,["safetyFilterLevel"]);e!==void 0&&x!=null&&r(e,["parameters","safetySetting"],x);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const g=a(n,["addWatermark"]);e!==void 0&&g!=null&&r(e,["parameters","addWatermark"],g);const y=a(n,["outputMimeType"]);e!==void 0&&y!=null&&r(e,["parameters","outputOptions","mimeType"],y);const C=a(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","compressionQuality"],C);const S=a(n,["enhancePrompt"]);return e!==void 0&&S!=null&&r(e,["parameters","enhancePrompt"],S),o}function wb(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["source"]);d!=null&&Mb(d,o);const f=a(e,["config"]);return f!=null&&Nb(f,o),o}function Eb(n){const e={},o=a(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>pr(d))),r(e,["generatedImages"],l)}return e}function Mb(n,e){const o={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const d=a(n,["personImage"]);e!==void 0&&d!=null&&r(e,["instances[0]","personImage","image"],mn(d));const f=a(n,["productImages"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(x=>bb(x))),r(e,["instances[0]","productImages"],m)}return o}function Ab(n){const e={},o=a(n,["referenceImage"]);o!=null&&r(e,["referenceImage"],mn(o));const l=a(n,["referenceId"]);l!=null&&r(e,["referenceId"],l);const d=a(n,["referenceType"]);d!=null&&r(e,["referenceType"],d);const f=a(n,["maskImageConfig"]);f!=null&&r(e,["maskImageConfig"],pb(f));const m=a(n,["controlImageConfig"]);m!=null&&r(e,["controlImageConfig"],HT(m));const x=a(n,["styleImageConfig"]);x!=null&&r(e,["styleImageConfig"],Gb(x));const v=a(n,["subjectImageConfig"]);return v!=null&&r(e,["subjectImageConfig"],Fb(v)),e}function _b(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],sb(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function Db(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],ab(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function mg(n){const e={},o=a(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=a(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const d=a(n,["contentType"]);return d!=null&&r(e,["contentType"],d),e}function pg(n){const e={},o=a(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=a(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const d=a(n,["contentType"]);return d!=null&&r(e,["contentType"],d),e}function Rb(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(n,["category"]);o!=null&&r(e,["category"],o);const l=a(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function kb(n){const e={},o=a(n,["method"]);o!=null&&r(e,["method"],o);const l=a(n,["category"]);l!=null&&r(e,["category"],l);const d=a(n,["threshold"]);return d!=null&&r(e,["threshold"],d),e}function Ib(n){const e={},o=a(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=a(n,["default"]);l!=null&&r(e,["default"],l);const d=a(n,["description"]);d!=null&&r(e,["description"],d);const f=a(n,["enum"]);f!=null&&r(e,["enum"],f);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const x=a(n,["format"]);x!=null&&r(e,["format"],x);const v=a(n,["items"]);v!=null&&r(e,["items"],v);const g=a(n,["maxItems"]);g!=null&&r(e,["maxItems"],g);const y=a(n,["maxLength"]);y!=null&&r(e,["maxLength"],y);const C=a(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=a(n,["maximum"]);S!=null&&r(e,["maximum"],S);const N=a(n,["minItems"]);N!=null&&r(e,["minItems"],N);const w=a(n,["minLength"]);w!=null&&r(e,["minLength"],w);const _=a(n,["minProperties"]);_!=null&&r(e,["minProperties"],_);const O=a(n,["minimum"]);O!=null&&r(e,["minimum"],O);const E=a(n,["nullable"]);E!=null&&r(e,["nullable"],E);const P=a(n,["pattern"]);P!=null&&r(e,["pattern"],P);const L=a(n,["properties"]);L!=null&&r(e,["properties"],L);const I=a(n,["propertyOrdering"]);I!=null&&r(e,["propertyOrdering"],I);const F=a(n,["required"]);F!=null&&r(e,["required"],F);const K=a(n,["title"]);K!=null&&r(e,["title"],K);const J=a(n,["type"]);return J!=null&&r(e,["type"],J),e}function jb(n){const e={},o=a(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=a(n,["default"]);l!=null&&r(e,["default"],l);const d=a(n,["description"]);d!=null&&r(e,["description"],d);const f=a(n,["enum"]);f!=null&&r(e,["enum"],f);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const x=a(n,["format"]);x!=null&&r(e,["format"],x);const v=a(n,["items"]);v!=null&&r(e,["items"],v);const g=a(n,["maxItems"]);g!=null&&r(e,["maxItems"],g);const y=a(n,["maxLength"]);y!=null&&r(e,["maxLength"],y);const C=a(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=a(n,["maximum"]);S!=null&&r(e,["maximum"],S);const N=a(n,["minItems"]);N!=null&&r(e,["minItems"],N);const w=a(n,["minLength"]);w!=null&&r(e,["minLength"],w);const _=a(n,["minProperties"]);_!=null&&r(e,["minProperties"],_);const O=a(n,["minimum"]);O!=null&&r(e,["minimum"],O);const E=a(n,["nullable"]);E!=null&&r(e,["nullable"],E);const P=a(n,["pattern"]);P!=null&&r(e,["pattern"],P);const L=a(n,["properties"]);L!=null&&r(e,["properties"],L);const I=a(n,["propertyOrdering"]);I!=null&&r(e,["propertyOrdering"],I);const F=a(n,["required"]);F!=null&&r(e,["required"],F);const K=a(n,["title"]);K!=null&&r(e,["title"],K);const J=a(n,["type"]);return J!=null&&r(e,["type"],J),e}function Lb(n){const e={},o=a(n,["image"]);return o!=null&&r(e,["image"],mn(o)),e}function zb(n,e){const o={},l=a(n,["mode"]);e!==void 0&&l!=null&&r(e,["parameters","mode"],l);const d=a(n,["maxPredictions"]);e!==void 0&&d!=null&&r(e,["parameters","maxPredictions"],d);const f=a(n,["confidenceThreshold"]);e!==void 0&&f!=null&&r(e,["parameters","confidenceThreshold"],f);const m=a(n,["maskDilation"]);e!==void 0&&m!=null&&r(e,["parameters","maskDilation"],m);const x=a(n,["binaryColorThreshold"]);return e!==void 0&&x!=null&&r(e,["parameters","binaryColorThreshold"],x),o}function Ub(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["source"]);d!=null&&Pb(d,o);const f=a(e,["config"]);return f!=null&&zb(f,o),o}function Vb(n){const e={},o=a(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>OS(d))),r(e,["generatedMasks"],l)}return e}function Pb(n,e){const o={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const d=a(n,["image"]);e!==void 0&&d!=null&&r(e,["instances[0]","image"],mn(d));const f=a(n,["scribbleImage"]);return e!==void 0&&f!=null&&r(e,["instances[0]","scribble"],Lb(f)),o}function qb(n){const e={},o=a(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],xg(l)),e}function Hb(n){const e={},o=a(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],xg(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],gb(l));const d=a(n,["languageCode"]);return d!=null&&r(e,["languageCode"],d),e}function Bb(n){const e={},o=a(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],yN(o)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function Gb(n){const e={},o=a(n,["styleDescription"]);return o!=null&&r(e,["styleDescription"],o),e}function Fb(n){const e={},o=a(n,["subjectType"]);o!=null&&r(e,["subjectType"],o);const l=a(n,["subjectDescription"]);return l!=null&&r(e,["subjectDescription"],l),e}function Ob(n){const e={},o=a(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function Yb(n){const e={},o=a(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function $b(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],SS(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],_b(l)),e}function Jb(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],bS(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],Db(l)),e}function Kb(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(g=>NS(g))),r(e,["functionDeclarations"],v)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],WS(l));const d=a(n,["googleSearchRetrieval"]);if(d!=null&&r(e,["googleSearchRetrieval"],XS(d)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],aN());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],jT(m));const x=a(n,["codeExecution"]);return x!=null&&r(e,["codeExecution"],x),e}function hg(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>wS(S))),r(e,["functionDeclarations"],C)}const l=a(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const d=a(n,["googleSearch"]);d!=null&&r(e,["googleSearch"],eb(d));const f=a(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],QS(f));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],fS(m));const x=a(n,["googleMaps"]);x!=null&&r(e,["googleMaps"],ZS(x)),a(n,["urlContext"])!=null&&r(e,["urlContext"],rN());const g=a(n,["computerUse"]);g!=null&&r(e,["computerUse"],LT(g));const y=a(n,["codeExecution"]);return y!=null&&r(e,["codeExecution"],y),e}function Zb(n){const e={},o=a(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=a(n,["createTime"]);l!=null&&r(e,["createTime"],l);const d=a(n,["updateTime"]);return d!=null&&r(e,["updateTime"],d),e}function Xb(n){const e={},o=a(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&r(e,["baseModel"],o);const l=a(n,["createTime"]);l!=null&&r(e,["createTime"],l);const d=a(n,["updateTime"]);return d!=null&&r(e,["updateTime"],d),e}function Qb(n,e){const o={},l=a(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const d=a(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const f=a(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&r(e,["defaultCheckpointId"],f),o}function Wb(n,e){const o={},l=a(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const d=a(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const f=a(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&r(e,["defaultCheckpointId"],f),o}function eN(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],Ie(n,l));const d=a(e,["config"]);return d!=null&&Qb(d,o),o}function tN(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["config"]);return d!=null&&Wb(d,o),o}function nN(n,e){const o={},l=a(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const d=a(n,["includeRaiReason"]);e!==void 0&&d!=null&&r(e,["parameters","includeRaiReason"],d);const f=a(n,["outputMimeType"]);e!==void 0&&f!=null&&r(e,["parameters","outputOptions","mimeType"],f);const m=a(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&r(e,["parameters","outputOptions","compressionQuality"],m);const x=a(n,["enhanceInputImage"]);e!==void 0&&x!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],x);const v=a(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const g=a(n,["numberOfImages"]);e!==void 0&&g!=null&&r(e,["parameters","sampleCount"],g);const y=a(n,["mode"]);return e!==void 0&&y!=null&&r(e,["parameters","mode"],y),o}function iN(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Ie(n,l));const d=a(e,["image"]);d!=null&&r(o,["instances[0]","image"],mn(d));const f=a(e,["upscaleFactor"]);f!=null&&r(o,["parameters","upscaleConfig","upscaleFactor"],f);const m=a(e,["config"]);return m!=null&&nN(m,o),o}function oN(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>pr(f))),r(e,["generatedImages"],d)}return e}function lN(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>uN(d))),r(e,["urlMetadata"],l)}return e}function sN(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>cN(d))),r(e,["urlMetadata"],l)}return e}function aN(){return{}}function rN(){return{}}function uN(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function cN(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function dN(n){const e={},o=a(n,["video","uri"]);o!=null&&r(e,["uri"],o);const l=a(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],so(l));const d=a(n,["encoding"]);return d!=null&&r(e,["mimeType"],d),e}function fN(n){const e={},o=a(n,["gcsUri"]);o!=null&&r(e,["uri"],o);const l=a(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],so(l));const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function mN(n){const e={},o=a(n,["image"]);o!=null&&r(e,["_self"],mn(o));const l=a(n,["maskMode"]);return l!=null&&r(e,["maskMode"],l),e}function pN(n){const e={},o=a(n,["image"]);o!=null&&r(e,["image"],mn(o));const l=a(n,["referenceType"]);return l!=null&&r(e,["referenceType"],l),e}function hN(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const d=a(n,["startOffset"]);return d!=null&&r(e,["startOffset"],d),e}function gN(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const d=a(n,["startOffset"]);return d!=null&&r(e,["startOffset"],d),e}function xN(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const d=a(n,["startOffset"]);return d!=null&&r(e,["startOffset"],d),e}function vN(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const d=a(n,["startOffset"]);return d!=null&&r(e,["startOffset"],d),e}function gg(n){const e={},o=a(n,["uri"]);o!=null&&r(e,["gcsUri"],o);const l=a(n,["videoBytes"]);l!=null&&r(e,["bytesBase64Encoded"],so(l));const d=a(n,["mimeType"]);return d!=null&&r(e,["mimeType"],d),e}function xg(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],Tb(o)),e}function yN(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],Sb(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CN="Content-Type",TN="X-Server-Timeout",SN="User-Agent",ad="x-goog-api-client",bN="1.22.0",NN=`google-genai-sdk/${bN}`,wN="v1beta1",EN="v1beta",ch=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class MN{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const d={};this.clientOptions.vertexai?(d.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:wN,d.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(d.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:EN,d.baseUrl="https://generativelanguage.googleapis.com/"),d.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=d,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(d,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const d=[this.getRequestUrlInternal(o)];return l&&d.push(this.getBaseResourcePath()),e!==""&&d.push(e),new URL(`${d.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),d=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[m,x]of Object.entries(e.queryParams))d.searchParams.append(m,String(x));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.unaryApiCall(d,f,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[d,f]of Object.entries(o))typeof f=="object"?l[d]=Object.assign(Object.assign({},l[d]),f):f!==void 0&&(l[d]=f);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),d=this.constructUrl(e.path,o,l);(!d.searchParams.has("alt")||d.searchParams.get("alt")!=="sse")&&d.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.streamApiCall(d,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l){if(o&&o.timeout||l){const d=new AbortController,f=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const m=setTimeout(()=>d.abort(),o.timeout);m&&typeof m.unref=="function"&&m.unref()}l&&l.addEventListener("abort",()=>{d.abort()}),e.signal=f}return o&&o.extraBody!==null&&AN(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async d=>(await dh(d),new ed(d))).catch(d=>{throw d instanceof Error?d:new Error(JSON.stringify(d))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async d=>(await dh(d),this.processStreamResponse(d))).catch(d=>{throw d instanceof Error?d:new Error(JSON.stringify(d))})}processStreamResponse(e){var o;return dl(this,arguments,function*(){const d=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),f=new TextDecoder("utf-8");if(!d)throw new Error("Response body is empty");try{let m="";for(;;){const{done:x,value:v}=yield $e(d.read());if(x){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=f.decode(v,{stream:!0});try{const C=JSON.parse(g);if("error"in C){const S=JSON.parse(JSON.stringify(C.error)),N=S.status,w=S.code,_=`got status: ${N}. ${JSON.stringify(C)}`;if(w>=400&&w<600)throw new fr({message:_,status:w})}}catch(C){if(C.name==="ApiError")throw C}m+=g;let y=m.match(ch);for(;y;){const C=y[1];try{const S=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield $e(new ed(S)),m=m.slice(y[0].length),y=m.match(ch)}catch(S){throw new Error(`exception parsing stream chunk ${C}. ${S}`)}}}}finally{d.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=NN+" "+this.clientOptions.userAgentExtra;return e[SN]=o,e[ad]=o,e[CN]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[l,d]of Object.entries(e.headers))o.append(l,d);e.timeout&&e.timeout>0&&o.append(TN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var l;const d={};o!=null&&(d.mimeType=o.mimeType,d.name=o.name,d.displayName=o.displayName),d.name&&!d.name.startsWith("files/")&&(d.name=`files/${d.name}`);const f=this.clientOptions.uploader,m=await f.stat(e);d.sizeBytes=String(m.size);const x=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:m.type;if(x===void 0||x==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");d.mimeType=x;const v=await this.fetchUploadUrl(d,o);return f.upload(e,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var l;let d={};o!=null&&o.httpOptions?d=o.httpOptions:d={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},m=await this.request({path:fe("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:d});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function dh(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const d=JSON.stringify(l);throw o>=400&&o<600?new fr({message:d,status:o}):new Error(d)}}function AN(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(f,m){const x=Object.assign({},f);for(const v in m)if(Object.prototype.hasOwnProperty.call(m,v)){const g=m[v],y=x[v];g&&typeof g=="object"&&!Array.isArray(g)&&y&&typeof y=="object"&&!Array.isArray(y)?x[v]=l(y,g):(y&&g&&typeof y!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof y}, New type: ${typeof g}. Overwriting.`),x[v]=g)}return x}const d=l(o,e);n.body=JSON.stringify(d)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _N="mcp_used/unknown";let DN=!1;function vg(n){for(const e of n)if(RN(e)||typeof e=="object"&&"inputSchema"in e)return!0;return DN}function yg(n){var e;const o=(e=n[ad])!==null&&e!==void 0?e:"";n[ad]=(o+` ${_N}`).trimStart()}function RN(n){return n!==null&&typeof n=="object"&&n instanceof xd}function kN(n,e=100){return dl(this,arguments,function*(){let l,d=0;for(;d<e;){const f=yield $e(n.listTools({cursor:l}));for(const m of f.tools)yield yield $e(m),d++;if(!f.nextCursor)break;l=f.nextCursor}})}class xd{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new xd(e,o)}async initialize(){var e,o,l,d;if(this.mcpTools.length>0)return;const f={},m=[];for(const y of this.mcpClients)try{for(var x=!0,v=(o=void 0,Ms(kN(y))),g;g=await v.next(),e=g.done,!e;x=!0){d=g.value,x=!1;const C=d;m.push(C);const S=C.name;if(f[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);f[S]=y}}catch(C){o={error:C}}finally{try{!x&&!e&&(l=v.return)&&await l.call(v)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),By(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const d=this.functionNameToMcpClient[l.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await d.callTool({name:l.name,arguments:l.args},void 0,f);o.push({functionResponse:{name:l.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function IN(n,e,o){const l=new jy;let d;o.data instanceof Blob?d=JSON.parse(await o.data.text()):d=JSON.parse(o.data);const f=C5(d);Object.assign(l,f),e(l)}class jN{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=UN(this.apiClient.getDefaultHeaders()),x=this.apiClient.getApiKey(),v=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${x}`;let g=()=>{};const y=new Promise(L=>{g=L}),C=e.callbacks,S=function(){g({})},N=this.apiClient,w={onopen:S,onmessage:L=>{IN(N,C.onmessage,L)},onerror:(o=C==null?void 0:C.onerror)!==null&&o!==void 0?o:function(L){},onclose:(l=C==null?void 0:C.onclose)!==null&&l!==void 0?l:function(L){}},_=this.webSocketFactory.create(v,zN(m),w);_.connect(),await y;const O=Ie(this.apiClient,e.model),E=ag({model:O}),P=od({setup:E});return _.send(JSON.stringify(P)),new LN(_,this.apiClient)}}class LN{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=b5(e),l=sg(o);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=S5(e),l=od(o);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const o=od({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(ul.PLAY)}pause(){this.sendPlaybackControl(ul.PAUSE)}stop(){this.sendPlaybackControl(ul.STOP)}resetContext(){this.sendPlaybackControl(ul.RESET_CONTEXT)}close(){this.conn.close()}}function zN(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function UN(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function PN(n,e,o){const l=new Iy;let d;o.data instanceof Blob?d=await o.data.text():o.data instanceof ArrayBuffer?d=new TextDecoder().decode(o.data):d=o.data;const f=JSON.parse(d);if(n.isVertexAI()){const m=k5(f);Object.assign(l,m)}else{const m=R5(f);Object.assign(l,m)}e(l)}class qN{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new jN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,d,f,m,x;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let y;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&vg(e.config.tools)&&yg(C);const S=FN(C);if(this.apiClient.isVertexAI())y=`${v}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const $=this.apiClient.getApiKey();let re="BidiGenerateContent",ue="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",ue="access_token"),y=`${v}/ws/google.ai.generativelanguage.${g}.GenerativeService.${re}?${ue}=${$}`}let N=()=>{};const w=new Promise($=>{N=$}),_=e.callbacks,O=function(){var $;($=_==null?void 0:_.onopen)===null||$===void 0||$.call(_),N({})},E=this.apiClient,P={onopen:O,onmessage:$=>{PN(E,_.onmessage,$)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function($){},onclose:(l=_==null?void 0:_.onclose)!==null&&l!==void 0?l:function($){}},L=this.webSocketFactory.create(y,GN(S),P);L.connect(),await w;let I=Ie(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const $=this.apiClient.getProject(),re=this.apiClient.getLocation();I=`projects/${$}/locations/${re}/`+I}let F={};this.apiClient.isVertexAI()&&((d=e.config)===null||d===void 0?void 0:d.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ur.AUDIO]}:e.config.responseModalities=[ur.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(x=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&x!==void 0?x:[],J=[];for(const $ of K)if(this.isCallableTool($)){const re=$;J.push(await re.tool())}else J.push($);J.length>0&&(e.config.tools=J);const oe={model:I,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=h5(this.apiClient,oe):F=p5(this.apiClient,oe),delete F.config,L.send(JSON.stringify(F)),new BN(L,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const HN={turnComplete:!0};class BN{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=nn(o.turns),e.isVertexAI()?l=l.map(d=>gl(d)):l=l.map(d=>mr(d))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const f of l){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(VN)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},HN),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:E5(e)}:o={realtimeInput:w5(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function GN(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function FN(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fh=10;function mh(n){var e,o,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let d=!1;for(const m of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(fl(m)){d=!0;break}if(!d)return!0;const f=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function fl(n){return"callTool"in n&&typeof n.callTool=="function"}function ON(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(d=>fl(d)))!==null&&l!==void 0?l:!1}function YN(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(d=>!fl(d)))!==null&&l!==void 0?l:!1}function ph(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $N extends lo{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,d,f,m,x;const v=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!ON(o)||mh(o.config))return await this.generateContentInternal(v);if(YN(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,y;const C=nn(v.contents),S=(f=(d=(l=v.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||d===void 0?void 0:d.maximumRemoteCalls)!==null&&f!==void 0?f:fh;let N=0;for(;N<S&&(g=await this.generateContentInternal(v),!(!g.functionCalls||g.functionCalls.length===0));){const w=g.candidates[0].content,_=[];for(const O of(x=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&x!==void 0?x:[])if(fl(O)){const P=await O.callTool(g.functionCalls);_.push(...P)}N++,y={role:"user",parts:_},v.contents=nn(v.contents),v.contents.push(w),v.contents.push(y),ph(v.config)&&(C.push(w),C.push(y))}return ph(v.config)&&(g.automaticFunctionCallingHistory=C),g},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),mh(o.config)){const l=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var d;let f;const m=[];if(l!=null&&l.generatedImages)for(const v of l.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((d=v==null?void 0:v.safetyAttributes)===null||d===void 0?void 0:d.contentType)==="Positive Prompt"?f=v==null?void 0:v.safetyAttributes:m.push(v);let x;return f?x={generatedImages:m,positivePromptSafetyAttributes:f,sdkHttpResponse:l.sdkHttpResponse}:x={generatedImages:m,sdkHttpResponse:l.sdkHttpResponse},x}),this.list=async o=>{var l;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((l=m.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new As(oo.PAGED_ITEM_MODELS,x=>this.listInternal(x),await this.listInternal(m),m)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(d=>d.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const d={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(d)},this.generateVideos=async o=>{if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,d;const f=(o=e.config)===null||o===void 0?void 0:o.tools;if(!f)return e;const m=await Promise.all(f.map(async v=>fl(v)?await v.tool():v)),x={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(x.config.tools=m,e.config&&e.config.tools&&vg(e.config.tools)){const v=(d=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&d!==void 0?d:{};let g=Object.assign({},v);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),yg(g),x.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return x}async initAfcToolsMap(e){var o,l,d;const f=new Map;for(const m of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(fl(m)){const x=m,v=await x.tool();for(const g of(d=v.functionDeclarations)!==null&&d!==void 0?d:[]){if(!g.name)throw new Error("Function declaration name is required.");if(f.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);f.set(g.name,x)}}return f}async processAfcStream(e){var o,l,d;const f=(d=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&d!==void 0?d:fh;let m=!1,x=0;const v=await this.initAfcToolsMap(e);return(function(g,y,C){var S,N;return dl(this,arguments,function*(){for(var w,_,O,E;x<f;){m&&(x++,m=!1);const F=yield $e(g.processParamsMaybeAddMcpUsage(C)),K=yield $e(g.generateContentStreamInternal(F)),J=[],oe=[];try{for(var P=!0,L=(_=void 0,Ms(K)),I;I=yield $e(L.next()),w=I.done,!w;P=!0){E=I.value,P=!1;const $=E;if(yield yield $e($),$.candidates&&(!((S=$.candidates[0])===null||S===void 0)&&S.content)){oe.push($.candidates[0].content);for(const re of(N=$.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(x<f&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(re.functionCall.name)){const ue=yield $e(y.get(re.functionCall.name).callTool([re.functionCall]));J.push(...ue)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch($){_={error:$}}finally{try{!P&&!w&&(O=L.return)&&(yield $e(O.call(L)))}finally{if(_)throw _.error}}if(J.length>0){m=!0;const $=new Ns;$.candidates=[{content:{role:"user",parts:J}}],yield yield $e($);const re=[];re.push(...oe),re.push({role:"user",parts:J});const ue=nn(C.contents).concat(re);C.contents=ue}else break}})})(this,v,e)}async generateContentInternal(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=ah(this.apiClient,e);return x=fe("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=uh(y),S=new Ns;return Object.assign(S,C),S})}else{const g=sh(this.apiClient,e);return x=fe("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=rh(y),S=new Ns;return Object.assign(S,C),S})}}async generateContentStreamInternal(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=ah(this.apiClient,e);return x=fe("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(C){return dl(this,arguments,function*(){var S,N,w,_;try{for(var O=!0,E=Ms(C),P;P=yield $e(E.next()),S=P.done,!S;O=!0){_=P.value,O=!1;const L=_,I=uh(yield $e(L.json()));I.sdkHttpResponse={headers:L.headers};const F=new Ns;Object.assign(F,I),yield yield $e(F)}}catch(L){N={error:L}}finally{try{!O&&!S&&(w=E.return)&&(yield $e(w.call(E)))}finally{if(N)throw N.error}}})})}else{const g=sh(this.apiClient,e);return x=fe("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(C){return dl(this,arguments,function*(){var S,N,w,_;try{for(var O=!0,E=Ms(C),P;P=yield $e(E.next()),S=P.done,!S;O=!0){_=P.value,O=!1;const L=_,I=rh(yield $e(L.json()));I.sdkHttpResponse={headers:L.headers};const F=new Ns;Object.assign(F,I),yield yield $e(F)}}catch(L){N={error:L}}finally{try{!O&&!S&&(w=E.return)&&(yield $e(w.call(E)))}finally{if(N)throw N.error}}})})}}async embedContent(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=rS(this.apiClient,e);return x=fe("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=cS(y),S=new q0;return Object.assign(S,C),S})}else{const g=aS(this.apiClient,e);return x=fe("{model}:batchEmbedContents",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=uS(y),S=new q0;return Object.assign(S,C),S})}}async generateImagesInternal(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=RS(this.apiClient,e);return x=fe("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=IS(y),S=new H0;return Object.assign(S,C),S})}else{const g=DS(this.apiClient,e);return x=fe("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=kS(y),S=new H0;return Object.assign(S,C),S})}}async editImageInternal(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI()){const x=tS(this.apiClient,e);return f=fe("{model}:predict",x._url),m=x._query,delete x._url,delete x._query,d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),d.then(v=>{const g=nS(v),y=new wy;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI()){const x=iN(this.apiClient,e);return f=fe("{model}:predict",x._url),m=x._query,delete x._url,delete x._query,d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),d.then(v=>{const g=oN(v),y=new Ey;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI()){const x=wb(this.apiClient,e);return f=fe("{model}:predict",x._url),m=x._query,delete x._url,delete x._query,d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>{const g=Eb(v),y=new My;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI()){const x=Ub(this.apiClient,e);return f=fe("{model}:predict",x._url),m=x._query,delete x._url,delete x._query,d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>{const g=Vb(v),y=new Ay;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=KS(this.apiClient,e);return x=fe("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),m.then(y=>sd(y))}else{const g=JS(this.apiClient,e);return x=fe("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),m.then(y=>ld(y))}}async listInternal(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=db(this.apiClient,e);return x=fe("{models_url}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=mb(y),S=new B0;return Object.assign(S,C),S})}else{const g=cb(this.apiClient,e);return x=fe("{models_url}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=fb(y),S=new B0;return Object.assign(S,C),S})}}async update(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=tN(this.apiClient,e);return x=fe("{model}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),m.then(y=>sd(y))}else{const g=eN(this.apiClient,e);return x=fe("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),m.then(y=>ld(y))}}async delete(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=KT(this.apiClient,e);return x=fe("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=XT(y),S=new G0;return Object.assign(S,C),S})}else{const g=JT(this.apiClient,e);return x=fe("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=ZT(y),S=new G0;return Object.assign(S,C),S})}}async countTokens(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=OT(this.apiClient,e);return x=fe("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=$T(y),S=new F0;return Object.assign(S,C),S})}else{const g=FT(this.apiClient,e);return x=fe("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=YT(y),S=new F0;return Object.assign(S,C),S})}}async computeTokens(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI()){const x=kT(this.apiClient,e);return f=fe("{model}:computeTokens",x._url),m=x._query,delete x._url,delete x._query,d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),d.then(v=>{const g=IT(v),y=new _y;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=PS(this.apiClient,e);return x=fe("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),m.then(y=>{const C=US(y),S=new cr;return Object.assign(S,C),S})}else{const g=VS(this.apiClient,e);return x=fe("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),m.then(y=>{const C=zS(y),S=new cr;return Object.assign(S,C),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JN extends lo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const d=o.name.split("/operations/")[0];let f;l&&"httpOptions"in l&&(f=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:d,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const d=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:d,isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const d=o.name.split("/operations/")[0];let f;l&&"httpOptions"in l&&(f=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:d,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const d=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:d,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=Sy(e);return x=fe("{operationName}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),m}else{const g=Ty(e);return x=fe("{operationName}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),m}}async fetchPredictVideosOperationInternal(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI()){const x=py(e);return f=fe("{resourceName}:fetchPredictOperation",x._url),m=x._query,delete x._url,delete x._query,d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hh(){return{}}function KN(n){const e={},o=a(n,["name"]);return o!=null&&r(e,["name"],o),e}function ZN(n){const e={},o=a(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const d=a(n,["endOfSpeechSensitivity"]);d!=null&&r(e,["endOfSpeechSensitivity"],d);const f=a(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function XN(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function QN(n){const e={},o=a(n,["environment"]);o!=null&&r(e,["environment"],o);const l=a(n,["excludedPredefinedFunctions"]);return l!=null&&r(e,["excludedPredefinedFunctions"],l),e}function WN(n){const e={},o=a(n,["parts"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>mw(f))),r(e,["parts"],d)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function ew(n){const e={},o=a(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=a(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],vw(l)),e}function tw(n,e,o){const l={},d=a(e,["expireTime"]);o!==void 0&&d!=null&&r(o,["expireTime"],d);const f=a(e,["newSessionExpireTime"]);o!==void 0&&f!=null&&r(o,["newSessionExpireTime"],f);const m=a(e,["uses"]);o!==void 0&&m!=null&&r(o,["uses"],m);const x=a(e,["liveConnectConstraints"]);o!==void 0&&x!=null&&r(o,["bidiGenerateContentSetup"],dw(n,x));const v=a(e,["lockAdditionalFields"]);return o!==void 0&&v!=null&&r(o,["fieldMask"],v),l}function nw(n,e){const o={},l=a(e,["config"]);return l!=null&&r(o,["config"],tw(n,l,o)),o}function iw(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function ow(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function lw(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const d=a(n,["name"]);return d!=null&&r(e,["name"],d),e}function sw(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const d=a(n,["name"]);d!=null&&r(e,["name"],d);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const x=a(n,["response"]);x!=null&&r(e,["response"],x);const v=a(n,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function aw(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],iw(o)),e}function rw(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],uw(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function uw(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function cw(n,e){const o={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const d=a(n,["responseModalities"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","responseModalities"],d);const f=a(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const x=a(n,["topK"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","topK"],x);const v=a(n,["maxOutputTokens"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","maxOutputTokens"],v);const g=a(n,["mediaResolution"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","mediaResolution"],g);const y=a(n,["seed"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","seed"],y);const C=a(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],Cw(hd(C)));const S=a(n,["thinkingConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","thinkingConfig"],Tw(S));const N=a(n,["enableAffectiveDialog"]);e!==void 0&&N!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],N);const w=a(n,["systemInstruction"]);e!==void 0&&w!=null&&r(e,["setup","systemInstruction"],WN(wt(w)));const _=a(n,["tools"]);if(e!==void 0&&_!=null){let K=pl(_);Array.isArray(K)&&(K=K.map(J=>Sw(ml(J)))),r(e,["setup","tools"],K)}const O=a(n,["sessionResumption"]);e!==void 0&&O!=null&&r(e,["setup","sessionResumption"],xw(O));const E=a(n,["inputAudioTranscription"]);e!==void 0&&E!=null&&r(e,["setup","inputAudioTranscription"],hh());const P=a(n,["outputAudioTranscription"]);e!==void 0&&P!=null&&r(e,["setup","outputAudioTranscription"],hh());const L=a(n,["realtimeInputConfig"]);e!==void 0&&L!=null&&r(e,["setup","realtimeInputConfig"],gw(L));const I=a(n,["contextWindowCompression"]);e!==void 0&&I!=null&&r(e,["setup","contextWindowCompression"],ew(I));const F=a(n,["proactivity"]);return e!==void 0&&F!=null&&r(e,["setup","proactivity"],hw(F)),o}function dw(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["setup","model"],Ie(n,l));const d=a(e,["config"]);return d!=null&&r(o,["config"],cw(d,o)),o}function fw(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>yw(d))),r(e,["speakerVoiceConfigs"],l)}return e}function mw(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],Nw(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const d=a(n,["inlineData"]);d!=null&&r(e,["inlineData"],XN(d));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],ow(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const x=a(n,["functionCall"]);x!=null&&r(e,["functionCall"],lw(x));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const g=a(n,["executableCode"]);g!=null&&r(e,["executableCode"],g);const y=a(n,["functionResponse"]);y!=null&&r(e,["functionResponse"],y);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function pw(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function hw(n){const e={},o=a(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function gw(n){const e={},o=a(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],ZN(o));const l=a(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const d=a(n,["turnCoverage"]);return d!=null&&r(e,["turnCoverage"],d),e}function xw(n){const e={},o=a(n,["handle"]);if(o!=null&&r(e,["handle"],o),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function vw(n){const e={},o=a(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function yw(n){const e={},o=a(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Cg(l)),e}function Cw(n){const e={},o=a(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Cg(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],fw(l));const d=a(n,["languageCode"]);return d!=null&&r(e,["languageCode"],d),e}function Tw(n){const e={},o=a(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function Sw(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(g=>sw(g))),r(e,["functionDeclarations"],v)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],rw(l));const d=a(n,["googleSearchRetrieval"]);if(d!=null&&r(e,["googleSearchRetrieval"],aw(d)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],bw());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],QN(m));const x=a(n,["codeExecution"]);return x!=null&&r(e,["codeExecution"],x),e}function bw(){return{}}function Nw(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const d=a(n,["startOffset"]);return d!=null&&r(e,["startOffset"],d),e}function Cg(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],pw(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ww(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const l=n[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const d=Object.keys(l).map(f=>`${o}.${f}`);e.push(...d)}else e.push(o)}return e.join(",")}function Ew(n,e){let o=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const f=l.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,o=f):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const d=n.fieldMask;if(o){const f=ww(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&d!==null&&Array.isArray(d)&&d.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let x=[];d.length>0&&(x=d.map(g=>m.includes(g)?`generationConfig.${g}`:g));const v=[];f&&v.push(f),x.length>0&&v.push(...x),v.length>0?n.fieldMask=v.join(","):delete n.fieldMask}else delete n.fieldMask}else d!==null&&Array.isArray(d)&&d.length>0?n.fieldMask=d.join(","):delete n.fieldMask;return n}class Mw extends lo{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const x=nw(this.apiClient,e);f=fe("auth_tokens",x._url),m=x._query,delete x.config,delete x._url,delete x._query;const v=Ew(x,e.config);return d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),d.then(g=>KN(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aw(n){const e={},o=a(n,["name"]);return o!=null&&r(e,["_url","name"],o),e}function _w(n){const e={},o=a(n,["name"]);return o!=null&&r(e,["_url","name"],o),e}function Dw(n,e){const o={};if(a(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=a(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&r(e,["displayName"],l),a(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=a(n,["epochCount"]);e!==void 0&&d!=null&&r(e,["tuningTask","hyperparameters","epochCount"],d);const f=a(n,["learningRateMultiplier"]);if(f!=null&&r(o,["tuningTask","hyperparameters","learningRateMultiplier"],f),a(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=a(n,["batchSize"]);e!==void 0&&m!=null&&r(e,["tuningTask","hyperparameters","batchSize"],m);const x=a(n,["learningRate"]);if(e!==void 0&&x!=null&&r(e,["tuningTask","hyperparameters","learningRate"],x),a(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return o}function Rw(n,e){const o={},l=a(n,["validationDataset"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec"],Kw(l,o));const d=a(n,["tunedModelDisplayName"]);e!==void 0&&d!=null&&r(e,["tunedModelDisplayName"],d);const f=a(n,["description"]);e!==void 0&&f!=null&&r(e,["description"],f);const m=a(n,["epochCount"]);e!==void 0&&m!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const x=a(n,["learningRateMultiplier"]);e!==void 0&&x!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x);const v=a(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v);const g=a(n,["adapterSize"]);if(e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g),a(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const y=a(n,["labels"]);return e!==void 0&&y!=null&&r(e,["labels"],y),o}function kw(n){const e={},o=a(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=a(n,["preTunedModel"]);l!=null&&r(e,["preTunedModel"],l);const d=a(n,["trainingDataset"]);d!=null&&r(e,["tuningTask","trainingData"],Ow(d));const f=a(n,["config"]);return f!=null&&Dw(f,e),e}function Iw(n){const e={},o=a(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=a(n,["preTunedModel"]);l!=null&&r(e,["preTunedModel"],l);const d=a(n,["trainingDataset"]);d!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],Yw(d,e));const f=a(n,["config"]);return f!=null&&Rw(f,e),e}function jw(n){const e={},o=a(n,["name"]);return o!=null&&r(e,["_url","name"],o),e}function Lw(n){const e={},o=a(n,["name"]);return o!=null&&r(e,["_url","name"],o),e}function zw(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const d=a(n,["pageToken"]);e!==void 0&&d!=null&&r(e,["_query","pageToken"],d);const f=a(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function Uw(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const d=a(n,["pageToken"]);e!==void 0&&d!=null&&r(e,["_query","pageToken"],d);const f=a(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function Vw(n){const e={},o=a(n,["config"]);return o!=null&&zw(o,e),e}function Pw(n){const e={},o=a(n,["config"]);return o!=null&&Uw(o,e),e}function qw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const d=a(n,["tunedModels"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>Tg(m))),r(e,["tuningJobs"],f)}return e}function Hw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const d=a(n,["tuningJobs"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>rd(m))),r(e,["tuningJobs"],f)}return e}function Bw(n){const e={},o=a(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=a(n,["epoch"]);l!=null&&r(e,["epoch"],l);const d=a(n,["step"]);d!=null&&r(e,["step"],d);const f=a(n,["endpoint"]);return f!=null&&r(e,["endpoint"],f),e}function Gw(n){const e={},o=a(n,["name"]);o!=null&&r(e,["model"],o);const l=a(n,["name"]);return l!=null&&r(e,["endpoint"],l),e}function Fw(n){const e={},o=a(n,["model"]);o!=null&&r(e,["model"],o);const l=a(n,["endpoint"]);l!=null&&r(e,["endpoint"],l);const d=a(n,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>Bw(m))),r(e,["checkpoints"],f)}return e}function Ow(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=a(n,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>$w(d))),r(e,["examples","examples"],l)}return e}function Yw(n,e){const o={},l=a(n,["gcsUri"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],l);const d=a(n,["vertexDatasetResource"]);if(e!==void 0&&d!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],d),a(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function $w(n){const e={},o=a(n,["textInput"]);o!=null&&r(e,["textInput"],o);const l=a(n,["output"]);return l!=null&&r(e,["output"],l),e}function Tg(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const d=a(n,["state"]);d!=null&&r(e,["state"],$h(d));const f=a(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["tuningTask","startTime"]);m!=null&&r(e,["startTime"],m);const x=a(n,["tuningTask","completeTime"]);x!=null&&r(e,["endTime"],x);const v=a(n,["updateTime"]);v!=null&&r(e,["updateTime"],v);const g=a(n,["description"]);g!=null&&r(e,["description"],g);const y=a(n,["baseModel"]);y!=null&&r(e,["baseModel"],y);const C=a(n,["_self"]);C!=null&&r(e,["tunedModel"],Gw(C));const S=a(n,["customBaseModel"]);S!=null&&r(e,["customBaseModel"],S);const N=a(n,["experiment"]);N!=null&&r(e,["experiment"],N);const w=a(n,["labels"]);w!=null&&r(e,["labels"],w);const _=a(n,["outputUri"]);_!=null&&r(e,["outputUri"],_);const O=a(n,["pipelineJob"]);O!=null&&r(e,["pipelineJob"],O);const E=a(n,["serviceAccount"]);E!=null&&r(e,["serviceAccount"],E);const P=a(n,["tunedModelDisplayName"]);P!=null&&r(e,["tunedModelDisplayName"],P);const L=a(n,["veoTuningSpec"]);return L!=null&&r(e,["veoTuningSpec"],L),e}function rd(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const d=a(n,["state"]);d!=null&&r(e,["state"],$h(d));const f=a(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["startTime"]);m!=null&&r(e,["startTime"],m);const x=a(n,["endTime"]);x!=null&&r(e,["endTime"],x);const v=a(n,["updateTime"]);v!=null&&r(e,["updateTime"],v);const g=a(n,["error"]);g!=null&&r(e,["error"],g);const y=a(n,["description"]);y!=null&&r(e,["description"],y);const C=a(n,["baseModel"]);C!=null&&r(e,["baseModel"],C);const S=a(n,["tunedModel"]);S!=null&&r(e,["tunedModel"],Fw(S));const N=a(n,["preTunedModel"]);N!=null&&r(e,["preTunedModel"],N);const w=a(n,["supervisedTuningSpec"]);w!=null&&r(e,["supervisedTuningSpec"],w);const _=a(n,["tuningDataStats"]);_!=null&&r(e,["tuningDataStats"],_);const O=a(n,["encryptionSpec"]);O!=null&&r(e,["encryptionSpec"],O);const E=a(n,["partnerModelTuningSpec"]);E!=null&&r(e,["partnerModelTuningSpec"],E);const P=a(n,["customBaseModel"]);P!=null&&r(e,["customBaseModel"],P);const L=a(n,["experiment"]);L!=null&&r(e,["experiment"],L);const I=a(n,["labels"]);I!=null&&r(e,["labels"],I);const F=a(n,["outputUri"]);F!=null&&r(e,["outputUri"],F);const K=a(n,["pipelineJob"]);K!=null&&r(e,["pipelineJob"],K);const J=a(n,["serviceAccount"]);J!=null&&r(e,["serviceAccount"],J);const oe=a(n,["tunedModelDisplayName"]);oe!=null&&r(e,["tunedModelDisplayName"],oe);const $=a(n,["veoTuningSpec"]);return $!=null&&r(e,["veoTuningSpec"],$),e}function Jw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const d=a(n,["metadata"]);d!=null&&r(e,["metadata"],d);const f=a(n,["done"]);f!=null&&r(e,["done"],f);const m=a(n,["error"]);return m!=null&&r(e,["error"],m),e}function Kw(n,e){const o={},l=a(n,["gcsUri"]);l!=null&&r(o,["validationDatasetUri"],l);const d=a(n,["vertexDatasetResource"]);return e!==void 0&&d!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],d),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zw extends lo{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new As(oo.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.tune=async o=>{var l;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const d={tunedModelName:o.baseModel};!((l=o.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(d.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:d});return f.baseModel=void 0,await this.tuneInternal(f)}else{const d=Object.assign({},o);return await this.tuneInternal(d)}else{const d=Object.assign({},o),f=await this.tuneMldevInternal(d);let m="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?m=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(m=f.name.split("/operations/")[0]),{name:m,state:Wc.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=Lw(e);return x=fe("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>rd(y))}else{const g=jw(e);return x=fe("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>Tg(y))}}async listInternal(e){var o,l,d,f;let m,x="",v={};if(this.apiClient.isVertexAI()){const g=Pw(e);return x=fe("tuningJobs",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=Hw(y),S=new O0;return Object.assign(S,C),S})}else{const g=Vw(e);return x=fe("tunedModels",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:y.headers},S})),m.then(y=>{const C=qw(y),S=new O0;return Object.assign(S,C),S})}}async cancel(e){var o,l,d,f;let m="",x={};if(this.apiClient.isVertexAI()){const v=_w(e);m=fe("{name}:cancel",v._url),x=v._query,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const v=Aw(e);m=fe("{name}:cancel",v._url),x=v._query,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(d=e.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async tuneInternal(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI()){const x=Iw(e);return f=fe("tuningJobs",x._url),m=x._query,delete x._url,delete x._query,d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),d.then(v=>rd(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let d,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=kw(e);return f=fe("tunedModels",x._url),m=x._query,delete x._url,delete x._query,d=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),d.then(v=>Jw(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xw{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Qw=1024*1024*8,Ww=3,eE=1e3,tE=2,Zc="x-goog-upload-status";async function nE(n,e,o){var l,d,f;let m=0,x=0,v=new ed(new Response),g="upload";for(m=n.size;x<m;){const C=Math.min(Qw,m-x),S=n.slice(x,x+C);x+C>=m&&(g+=", finalize");let N=0,w=eE;for(;N<Ww&&(v=await o.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(x),"Content-Length":String(C)}}}),!(!((l=v==null?void 0:v.headers)===null||l===void 0)&&l[Zc]));)N++,await oE(w),w=w*tE;if(x+=C,((d=v==null?void 0:v.headers)===null||d===void 0?void 0:d[Zc])!=="active")break;if(m<=x)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(v==null?void 0:v.json());if(((f=v==null?void 0:v.headers)===null||f===void 0?void 0:f[Zc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function iE(n){return{size:n.size,type:n.type}}function oE(n){return new Promise(e=>setTimeout(e,n))}class lE{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nE(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iE(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sE{create(e,o,l){return new aE(e,o,l)}}class aE{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gh="x-goog-api-key";class rE{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(gh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(gh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uE="gl-node/";class Sg{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=my(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const d=new rE(this.apiKey);this.apiClient=new MN({auth:d,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:uE+"web",uploader:new lE,downloader:new Xw}),this.models=new $N(this.apiClient),this.live=new qN(this.apiClient,d,new sE),this.batches=new l2(this.apiClient),this.chats=new mC(this.models,this.apiClient),this.caches=new cC(this.apiClient),this.files=new EC(this.apiClient),this.operations=new JN(this.apiClient),this.authTokens=new Mw(this.apiClient),this.tunings=new Zw(this.apiClient)}}const cE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),dE=({isOpen:n,onClose:e,onSave:o,trip:l})=>{const[d,f]=A.useState(""),[m,x]=A.useState(""),[v,g]=A.useState(new Date().toISOString().split("T")[0]),[y,C]=A.useState(()=>{const I=new Date;return I.setDate(I.getDate()+7),I.toISOString().split("T")[0]}),[S,N]=A.useState(""),[w,_]=A.useState(void 0),[O,E]=A.useState("");if(A.useEffect(()=>{l?(f(l.title),x(l.destination),g(l.startDate),C(l.endDate),N(l.notes||""),_(l.coverPhoto)):(f(""),x(""),g(new Date().toISOString().split("T")[0]),C(()=>{const I=new Date;return I.setDate(I.getDate()+7),I.toISOString().split("T")[0]}),N(""),_(void 0))},[l]),!n)return null;const P=I=>{if(I.target.files&&I.target.files[0]){const F=I.target.files[0],K=new FileReader;K.onloadend=()=>{_(K.result)},K.readAsDataURL(F)}},L=I=>{if(I.preventDefault(),!d.trim()||!m.trim()){E("El ttulo y el destino son obligatorios.");return}if(new Date(v)>new Date(y)){E("La fecha de fin debe ser posterior a la fecha de inicio.");return}E(""),o({title:d,destination:m,startDate:v,endDate:y,notes:S,coverPhoto:w},l==null?void 0:l.id)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:I=>I.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:l?"Editar Viaje":"Aadir Nuevo Viaje"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-slate-100",children:u.jsx(cE,{className:"w-6 h-6 text-slate-500"})})]}),u.jsxs("form",{onSubmit:L,className:"space-y-3 max-h-[80vh] overflow-y-auto pr-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"trip-title",className:"block text-sm font-medium text-slate-700 mb-1",children:"Ttulo del Viaje"}),u.jsx("input",{type:"text",id:"trip-title",value:d,onChange:I=>f(I.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"p. ej., Aventura en la costa"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"trip-destination",className:"block text-sm font-medium text-slate-700 mb-1",children:"Destino"}),u.jsx("input",{type:"text",id:"trip-destination",value:m,onChange:I=>x(I.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"p. ej., Oporto, Portugal"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"trip-startDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Fecha de Inicio"}),u.jsx("input",{type:"date",id:"trip-startDate",value:v,onChange:I=>g(I.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"trip-endDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Fecha de Fin"}),u.jsx("input",{type:"date",id:"trip-endDate",value:y,onChange:I=>C(I.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"trip-notes",className:"block text-sm font-medium text-slate-700 mb-1",children:"Notas (Opcional)"}),u.jsx("textarea",{id:"trip-notes",value:S,onChange:I=>N(I.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"Aade tus pensamientos generales sobre el viaje..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Foto de Portada (Opcional)"}),u.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-300 border-dashed rounded-md",children:u.jsxs("div",{className:"space-y-1 text-center",children:[w?u.jsx("img",{src:w,alt:"Vista previa",className:"mx-auto h-24 w-auto rounded-md"}):u.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:u.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),u.jsxs("div",{className:"flex text-sm text-slate-600",children:[u.jsxs("label",{htmlFor:"trip-file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[u.jsx("span",{children:"Sube una imagen"}),u.jsx("input",{id:"trip-file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/*",onChange:P})]}),u.jsx("p",{className:"pl-1",children:"o arrstrala aqu"})]}),u.jsx("p",{className:"text-xs text-slate-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),O&&u.jsx("p",{className:"text-red-600 text-sm font-medium text-center bg-red-50 p-2 rounded-md",children:O}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-white border border-slate-300 rounded-md text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-indigo-700",children:"Guardar Viaje"})]})]})]})})},fE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),mE=["","","","","",""],pE=({isOpen:n,onClose:e,onSave:o,highlight:l,tripStartDate:d,tripEndDate:f})=>{const[m,x]=A.useState(""),[v,g]=A.useState(new Date().toISOString().split("T")[0]),[y,C]=A.useState(""),[S,N]=A.useState(void 0),[w,_]=A.useState(void 0),[O,E]=A.useState("");if(A.useEffect(()=>{l?(x(l.title),g(l.date),C(l.description),N(l.photo),_(l.emotion)):(x(""),g(d),C(""),N(void 0),_(void 0))},[l,d]),!n)return null;const P=I=>{if(I.target.files&&I.target.files[0]){const F=I.target.files[0],K=new FileReader;K.onloadend=()=>{N(K.result)},K.readAsDataURL(F)}},L=I=>{if(I.preventDefault(),!m.trim()||!y.trim()){E("El ttulo y la descripcin son obligatorios.");return}E(""),o({title:m,date:v,description:y,photo:S,emotion:w},l==null?void 0:l.id)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:I=>I.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:l?"Editar Recuerdo":"Aadir Nuevo Recuerdo"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-slate-100",children:u.jsx(fE,{className:"w-6 h-6 text-slate-500"})})]}),u.jsxs("form",{onSubmit:L,className:"space-y-3 max-h-[80vh] overflow-y-auto pr-2",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"highlight-title",className:"block text-sm font-medium text-slate-700 mb-1",children:"Ttulo del Recuerdo"}),u.jsx("input",{type:"text",id:"highlight-title",value:m,onChange:I=>x(I.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"p. ej., Visita al museo"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"highlight-date",className:"block text-sm font-medium text-slate-700 mb-1",children:"Fecha"}),u.jsx("input",{type:"date",id:"highlight-date",value:v,onChange:I=>g(I.target.value),min:d,max:f,className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cmo te sentiste?"}),u.jsx("div",{className:"flex justify-around bg-slate-50 p-3 rounded-lg",children:mE.map(I=>u.jsx("button",{type:"button",onClick:()=>_(I),className:`text-3xl p-1 rounded-full transition-all duration-200 ${w===I?"bg-indigo-200 scale-125":"hover:bg-slate-200"}`,"aria-label":`Seleccionar emocin: ${I}`,children:I},I))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"highlight-description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Descripcin"}),u.jsx("textarea",{id:"highlight-description",value:y,onChange:I=>C(I.target.value),rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"Describe este momento especial..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Foto (Opcional)"}),u.jsxs("div",{className:"mt-1 flex items-center space-x-4",children:[S&&u.jsx("img",{src:S,alt:"Vista previa",className:"h-16 w-16 object-cover rounded-md"}),u.jsx("div",{className:"flex-grow flex justify-center px-6 py-4 border-2 border-slate-300 border-dashed rounded-md",children:u.jsx("div",{className:"space-y-1 text-center",children:u.jsx("div",{className:"flex text-sm text-slate-600",children:u.jsxs("label",{htmlFor:"highlight-file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[u.jsx("span",{children:S?"Cambiar imagen":"Subir una imagen"}),u.jsx("input",{id:"highlight-file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/*",onChange:P})]})})})})]})]}),O&&u.jsx("p",{className:"text-red-600 text-sm font-medium text-center bg-red-50 p-2 rounded-md",children:O}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-white border border-slate-300 rounded-md text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-indigo-700",children:"Guardar Recuerdo"})]})]})]})})};var xh={};const vh=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),yh=n=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})]}),hE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})}),Ch=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),Th=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),gE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),xE=n=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.776 48.776 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})]}),vE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.195.025.39.05.588.082a2.25 2.25 0 0 1 2.829 2.829.096.096 0 0 0 .082.082m0 0a2.25 2.25 0 1 0 2.186 0m-2.186 0a2.25 2.25 0 0 0-2.829-2.829.096.096 0 0 1-.082-.082m0 0a2.25 2.25 0 1 0 0-2.186m0 2.186c-.195-.025-.39-.05-.588-.082a2.25 2.25 0 0 1-2.829-2.829.096.096 0 0 0-.082-.082"})}),yE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})}),CE=(n,e)=>{const o=new Date(n+"T00:00:00"),l=new Date(e+"T00:00:00"),d={year:"numeric",month:"long",day:"numeric"};return`${o.toLocaleDateString("es-ES",d)} - ${l.toLocaleDateString("es-ES",d)}`},TE=({trips:n,onSaveTrip:e,onDeleteTrip:o,onOpenShareModal:l,pairedUser:d,onStartTour:f})=>{const[m,x]=A.useState(null),[v,g]=A.useState(!1),[y,C]=A.useState(null),[S,N]=A.useState(!1),[w,_]=A.useState(null),[O,E]=A.useState(""),[P,L]=A.useState([]),[I,F]=A.useState(!1),[K,J]=A.useState(""),oe=(R,q)=>{R.stopPropagation(),C(q),g(!0)},$=()=>{C(null),g(!0)},re=(R,q)=>{if(q){const ie=n.find(ce=>ce.id===q);ie&&(e({...ie,...R}),x(ce=>ce?{...ce,...R}:null))}else{const ie={...R,id:Tn(),highlights:[]};e(ie)}g(!1),C(null)},ue=(R,q)=>{if(!m)return;let ie;if(q)ie=m.highlights.map(ye=>ye.id===q?{...ye,...R}:ye);else{const ye={...R,id:Tn()};ie=[...m.highlights,ye]}const ce={...m,highlights:ie.sort((ye,k)=>new Date(ye.date).getTime()-new Date(k.date).getTime())};e(ce),x(ce),N(!1),_(null)},te=R=>{if(!m)return;const q=m.highlights.filter(ce=>ce.id!==R.id),ie={...m,highlights:q};e(ie),x(ie)},ge=R=>{o(R.id),x(null)},He=R=>{if(!m)return;const q={date:new Date().toISOString().split("T")[0],title:R.title,description:R.description,emotion:R.emotion};ue(q),L(ie=>ie.filter(ce=>ce.title!==R.title))},se=A.useCallback(async()=>{if(!m||!O.trim()||!xh.API_KEY){J("Por favor, introduce un tema para las sugerencias.");return}F(!0),J(""),L([]);try{const R=new Sg({apiKey:xh.API_KEY}),q={type:Nt.ARRAY,items:{type:Nt.OBJECT,properties:{title:{type:Nt.STRING,description:"Un ttulo corto y atractivo para la actividad."},description:{type:Nt.STRING,description:"Una descripcin breve de la actividad."},emotion:{type:Nt.STRING,description:"Un nico emoji que represente la emocin de la experiencia (ej: , , )."}},required:["title","description","emotion"]}},ce=(await R.models.generateContent({model:"gemini-2.5-flash",contents:`Eres un asistente de viajes experto. Para un viaje a ${m.destination}, sugiere 3 actividades o recuerdos relacionados con el tema "${O}". Cntrate en experiencias nicas e interesantes, incluyendo un emoji que represente la emocin de la experiencia. Devuelve la respuesta como un array JSON que se ajuste al esquema proporcionado.`,config:{responseMimeType:"application/json",responseSchema:q}})).text.trim(),ye=JSON.parse(ce);L(ye)}catch(R){console.error(R),J("No se pudieron generar sugerencias. Intntalo de nuevo.")}finally{F(!1)}},[m,O]);return m?u.jsx(u.Fragment,{children:u.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-md scrapbook-background",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>x(null),className:"flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-800 mb-2",children:[u.jsx(hE,{className:"w-4 h-4 mr-1"})," Volver a todos los viajes"]}),u.jsx("h2",{className:"text-3xl font-bold text-slate-800 font-handwriting",children:m.title}),u.jsxs("p",{className:"text-lg text-slate-500 flex items-center mt-1",children:[u.jsx(yh,{className:"w-5 h-5 mr-2 text-slate-400"})," ",m.destination]}),u.jsx("p",{className:"text-sm text-slate-500 mt-1",children:CE(m.startDate,m.endDate)})]}),u.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0 mt-2",children:[d&&u.jsx("button",{onClick:()=>l(m),title:"Compartir viaje",className:"p-2 text-slate-500 hover:text-green-600 rounded-md hover:bg-slate-100",children:u.jsx(vE,{className:"w-5 h-5"})}),u.jsx("button",{onClick:R=>oe(R,m),className:"p-2 text-slate-500 hover:text-indigo-600 rounded-md hover:bg-slate-100",children:u.jsx(Ch,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>ge(m),className:"p-2 text-slate-500 hover:text-red-600 rounded-md hover:bg-slate-100",children:u.jsx(Th,{className:"w-5 h-5"})})]})]}),m.notes&&u.jsxs("p",{className:"mt-4 mb-6 text-slate-600 bg-white/70 p-4 rounded-lg italic text-center text-lg font-handwriting",children:['"',m.notes,'"']}),u.jsxs("div",{className:"border-t border-slate-200 pt-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"Recuerdos del Viaje"}),u.jsxs("button",{id:"travel-add-highlight-btn",onClick:()=>{_(null),N(!0)},className:"flex items-center space-x-2 text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors",children:[u.jsx(vh,{className:"w-5 h-5"}),u.jsx("span",{children:"Aadir Recuerdo"})]})]}),u.jsxs("div",{id:"ai-highlight-suggester",className:"my-6 p-4 bg-indigo-50 border-2 border-dashed border-indigo-200 rounded-lg",children:[u.jsxs("h4",{className:"font-semibold text-indigo-800 flex items-center",children:[u.jsx(gE,{className:"w-5 h-5 mr-2 text-indigo-500"}),"Asistente de Viajes"]}),u.jsx("p",{className:"text-sm text-indigo-700 mt-1",children:"Necesitas inspiracin? Pide sugerencias de recuerdos para tu viaje."}),u.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[u.jsx("input",{type:"text",value:O,onChange:R=>E(R.target.value),placeholder:"p. ej., 'comida local', 'museos'",className:"w-full px-3 py-1.5 border border-indigo-200 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"}),u.jsx("button",{onClick:se,disabled:I,className:"px-3 py-1.5 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 disabled:bg-indigo-300",children:I?"Generando...":"Sugerir"})]}),K&&u.jsx("p",{className:"text-sm text-red-600 mt-2",children:K}),P.length>0&&u.jsx("div",{className:"mt-4 space-y-2",children:P.map((R,q)=>u.jsxs("div",{className:"p-3 bg-white rounded-md flex justify-between items-start shadow-sm",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-xl mt-0.5",children:R.emotion}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-800",children:R.title}),u.jsx("p",{className:"text-sm text-slate-600",children:R.description})]})]}),u.jsx("button",{onClick:()=>He(R),className:"text-xs font-bold text-indigo-600 hover:underline ml-2 flex-shrink-0",children:"Aadir"})]},q))})]}),m.highlights.length>0?u.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-12 items-start",children:m.highlights.map((R,q)=>u.jsxs("div",{id:q===0?"highlight-card-example":void 0,className:"group relative",children:[u.jsxs("div",{className:`bg-white p-3 pb-4 shadow-xl border-4 border-white transition-transform duration-300 group-hover:scale-105 group-hover:rotate-0 ${q%4===0?"rotate-2":q%4===1?"-rotate-3":q%4===2?"rotate-1":"-rotate-2"}`,children:[R.photo&&u.jsx("div",{className:"mb-3 bg-slate-100",children:u.jsx("img",{src:R.photo,alt:R.title,className:"w-full h-48 object-cover"})}),u.jsxs("div",{className:"text-center px-2",children:[u.jsx("p",{className:"text-sm text-slate-500",children:new Date(R.date+"T00:00:00").toLocaleDateString("es-ES",{month:"long",day:"numeric"})}),u.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[R.emotion&&u.jsx("span",{className:"text-2xl",children:R.emotion}),u.jsx("p",{className:"font-bold text-slate-800 text-xl font-handwriting",children:R.title})]}),u.jsx("p",{className:"mt-2 text-sm text-slate-600 text-left whitespace-pre-wrap",children:R.description})]})]}),u.jsxs("div",{className:"absolute top-2 right-2 flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[u.jsx("button",{onClick:()=>{_(R),N(!0)},className:"p-1.5 bg-white/80 text-slate-500 hover:text-indigo-600 rounded-full shadow-md",children:u.jsx(Ch,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>te(R),className:"p-1.5 bg-white/80 text-slate-500 hover:text-red-600 rounded-full shadow-md",children:u.jsx(Th,{className:"w-4 h-4"})})]})]},R.id))}):u.jsx("p",{className:"text-center text-slate-500 py-8",children:"An no has aadido ningn recuerdo a este viaje."})]}),u.jsx(pE,{isOpen:S,onClose:()=>{N(!1),_(null)},onSave:ue,highlight:w,tripStartDate:m.startDate,tripEndDate:m.endDate})]})}):u.jsxs("div",{className:"scrapbook-background p-4 sm:p-6 rounded-xl border-4 border-white shadow-inner",children:[u.jsx("style",{children:`
                .polaroid-card:nth-child(5n+1) { transform: rotate(2deg); }
                .polaroid-card:nth-child(5n+2) { transform: rotate(-3deg); margin-top: 1rem; }
                .polaroid-card:nth-child(5n+3) { transform: rotate(4deg); }
                .polaroid-card:nth-child(5n+4) { transform: rotate(-1.5deg); margin-left: -1rem; }
                .polaroid-card:nth-child(5n+5) { transform: rotate(1deg); }
            `}),u.jsxs("div",{id:"travel-log-header",className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-3xl font-bold text-slate-800 font-handwriting",children:"Mi Bitcora de Viajes"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:f,title:"Iniciar tour guiado",className:"p-2 text-slate-500 hover:text-yellow-700 rounded-full hover:bg-yellow-100 transition-colors",children:u.jsx(yE,{className:"w-6 h-6"})}),u.jsxs("button",{id:"travel-add-trip-btn",onClick:$,className:"flex items-center space-x-2 px-4 py-2 bg-yellow-300 text-yellow-900 rounded-md text-sm font-bold shadow-md hover:bg-yellow-400 transition-transform hover:scale-105",style:{transform:"rotate(5deg)"},children:[u.jsx(vh,{className:"w-5 h-5"}),u.jsx("span",{children:"Aadir Viaje"})]})]})]}),n.length>0?u.jsx("div",{className:"flex flex-wrap justify-center gap-6 sm:gap-8 p-4",children:n.map((R,q)=>u.jsxs("div",{id:q===0?"trip-card-example":void 0,onClick:()=>x(R),className:"polaroid-card w-56 sm:w-64 bg-white p-3 pb-1 shadow-lg rounded-sm cursor-pointer group transition-transform hover:scale-105 hover:!rotate(0) hover:z-10",children:[u.jsx("div",{className:"h-40 sm:h-48 bg-slate-200 flex items-center justify-center overflow-hidden",children:R.coverPhoto?u.jsx("img",{src:R.coverPhoto,alt:R.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):u.jsx(xE,{className:"w-12 h-12 text-slate-400"})}),u.jsxs("div",{className:"p-3 text-center",children:[u.jsx("h3",{className:"font-bold text-lg text-slate-800 font-handwriting truncate",children:R.title}),u.jsx("p",{className:"text-sm text-slate-500 truncate",children:R.destination})]})]},R.id))}):u.jsxs("div",{className:"text-center py-16",children:[u.jsx(yh,{className:"w-12 h-12 mx-auto text-slate-300"}),u.jsx("h3",{className:"mt-2 text-2xl font-semibold text-slate-800 font-handwriting",children:"Tu aventura te espera"}),u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Aade tu primer viaje para empezar a pegar recuerdos en tu bitcora."})]}),u.jsx(dE,{isOpen:v,onClose:()=>{g(!1),C(null)},onSave:re,trip:y})]})},SE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),bE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),NE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m9.375 2.25c.621 0 1.125.504 1.125 1.125v3.375m-13.5 0V9.375c0-.621.504-1.125 1.125-1.125h3.375m-3.375 0c.621 0 1.125.504 1.125 1.125v3.375"})}),wE=({reflection:n})=>{const e=new Date(n.date+"T00:00:00").toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"});return u.jsxs("div",{className:"p-8 bg-white rounded-lg shadow-lg border border-zinc-100 scrapbook-background",children:[u.jsxs("div",{className:"text-center mb-4",children:[n.emotionEmoji&&u.jsx("p",{className:"text-6xl mb-2",children:n.emotionEmoji}),u.jsx("h3",{className:"text-3xl font-bold text-zinc-800 font-handwriting",children:n.dayTitle}),u.jsx("p",{className:"text-sm text-zinc-500",children:e})]}),u.jsxs("div",{className:"space-y-4",children:[n.positiveThought&&u.jsxs("div",{className:"bg-yellow-50 p-4 rounded-md border-l-4 border-yellow-300",children:[u.jsx("p",{className:"text-sm font-semibold text-yellow-800",children:"Pensamiento positivo:"}),u.jsxs("blockquote",{className:"text-zinc-700 mt-1 italic",children:['"',n.positiveThought,'"']})]}),n.lessonLearned&&u.jsxs("div",{className:"bg-sky-50 p-4 rounded-md border-l-4 border-sky-300",children:[u.jsx("p",{className:"text-sm font-semibold text-sky-800",children:"Leccin aprendida:"}),u.jsxs("blockquote",{className:"text-zinc-700 mt-1 italic",children:['"',n.lessonLearned,'"']})]})]})]})},EE=({isOpen:n,onClose:e,reflection:o,onShareWithPartner:l,partnerName:d})=>{const[f,m]=A.useState("idle");if(!n||!o)return null;const x=()=>{const v=`
Reflexin del ${new Date(o.date+"T00:00:00").toLocaleDateString("es-ES",{day:"numeric",month:"long"})}
${o.emotionEmoji} ${o.dayTitle} ${o.emotionEmoji}

Pensamiento positivo:
${o.positiveThought}

Leccin aprendida:
${o.lessonLearned}
        `.trim();navigator.clipboard.writeText(v).then(()=>{m("copied"),setTimeout(()=>m("idle"),2e3)})};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[100] flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-stone-50 rounded-lg shadow-xl p-6 w-full max-w-md",onClick:v=>v.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:"Compartir Reflexin"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-zinc-200",children:u.jsx(SE,{className:"w-6 h-6 text-zinc-500"})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-zinc-600 mb-2 text-center",children:"Vista Previa"}),u.jsx(wE,{reflection:o})]}),u.jsxs("div",{className:"flex flex-col justify-center space-y-4 pt-4 border-t border-zinc-200",children:[d&&u.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center space-x-3 px-4 py-3 bg-teal-600 text-white rounded-lg shadow-sm hover:bg-teal-700 transition-colors",children:[u.jsx(bE,{className:"w-5 h-5"}),u.jsxs("span",{className:"font-semibold",children:["Enviar a ",d]})]}),u.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center space-x-3 px-4 py-3 bg-zinc-600 text-white rounded-lg shadow-sm hover:bg-zinc-700 transition-colors",children:[u.jsx(NE,{className:"w-5 h-5"}),u.jsx("span",{className:"font-semibold",children:f==="copied"?"Copiado!":"Copiar Texto"})]})]})]})]})})},ME=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),AE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),_E=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m9.375 2.25c.621 0 1.125.504 1.125 1.125v3.375m-13.5 0V9.375c0-.621.504-1.125 1.125-1.125h3.375m-3.375 0c.621 0 1.125.504 1.125 1.125v3.375"})}),DE=n=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.776 48.776 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})]}),RE=({trip:n})=>u.jsxs("div",{className:"bg-white p-3 pb-4 shadow-lg rounded-sm border border-zinc-200",children:[u.jsx("div",{className:"h-40 bg-zinc-200 flex items-center justify-center overflow-hidden",children:n.coverPhoto?u.jsx("img",{src:n.coverPhoto,alt:n.title,className:"w-full h-full object-cover"}):u.jsx(DE,{className:"w-12 h-12 text-zinc-400"})}),u.jsxs("div",{className:"p-3 text-center",children:[u.jsx("h3",{className:"font-bold text-xl text-zinc-800 font-handwriting truncate",children:n.title}),u.jsx("p",{className:"text-md text-zinc-500 truncate",children:n.destination})]})]}),kE=({isOpen:n,onClose:e,trip:o,onShareWithPartner:l,partnerName:d})=>{const[f,m]=A.useState("idle");if(!n||!o)return null;const x=()=>{const v=`
Mira este viaje!
Ttulo: ${o.title}
Destino: ${o.destination}
Fechas: ${new Date(o.startDate+"T00:00:00").toLocaleDateString()} - ${new Date(o.endDate+"T00:00:00").toLocaleDateString()}

${o.notes?`Notas: ${o.notes}`:""}
        `.trim();navigator.clipboard.writeText(v).then(()=>{m("copied"),setTimeout(()=>m("idle"),2e3)})};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[100] flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-stone-50 rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:v=>v.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:"Compartir Viaje"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-zinc-200",children:u.jsx(ME,{className:"w-6 h-6 text-zinc-500"})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-zinc-600 mb-2 text-center",children:"Vista Previa"}),u.jsx(RE,{trip:o})]}),u.jsxs("div",{className:"flex flex-col justify-center space-y-4 pt-4 border-t border-zinc-200",children:[d&&u.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center space-x-3 px-4 py-3 bg-teal-600 text-white rounded-lg shadow-sm hover:bg-teal-700 transition-colors",children:[u.jsx(AE,{className:"w-5 h-5"}),u.jsxs("span",{className:"font-semibold",children:["Enviar a ",d]})]}),u.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center space-x-3 px-4 py-3 bg-zinc-600 text-white rounded-lg shadow-sm hover:bg-zinc-700 transition-colors",children:[u.jsx(_E,{className:"w-5 h-5"}),u.jsx("span",{className:"font-semibold",children:f==="copied"?"Copiado!":"Copiar Texto"})]})]})]})]})})};function Be(n,e){const[o,l]=A.useState(()=>{try{const f=window.localStorage.getItem(n);return f?JSON.parse(f):e}catch(f){return console.error(f),e}}),d=f=>{try{const m=f instanceof Function?f(o):f;l(m),window.localStorage.setItem(n,JSON.stringify(m))}catch(m){console.error(m)}};return A.useEffect(()=>{const f=m=>{if(m.key===n)try{l(m.newValue?JSON.parse(m.newValue):e)}catch(x){console.error(x),l(e)}};return window.addEventListener("storage",f),()=>{window.removeEventListener("storage",f)}},[n]),[o,d]}const IE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),jE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),LE=({isOpen:n,onClose:e,journalEntries:o})=>{const[l,d]=A.useState(""),[f,m]=A.useState(""),x=A.useMemo(()=>[...o].filter(S=>{const N=new Date(S.timestamp);if(N.setHours(0,0,0,0),l){const w=new Date(l+"T00:00:00");if(N<w)return!1}if(f){const w=new Date(f+"T00:00:00");if(N>w)return!1}return!0}).sort((S,N)=>new Date(N.timestamp).getTime()-new Date(S.timestamp).getTime()),[o,l,f]);if(!n)return null;const v=()=>{d(""),m("")},g=S=>new Date(S).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),y=S=>new Date(S).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),C=()=>{const S=`
      <html>
        <head>
          <title>Historial de Reflexiones</title>
          <style>
            body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; line-height: 1.6; color: #333; padding: 20px; }
            h1 { color: #0f766e; }
            h2 { font-size: 1.1em; color: #666; font-weight: normal; border-bottom: 1px solid #ddd; padding-bottom: 8px; margin-bottom: 20px; }
            .entry { border: 1px solid #eee; border-radius: 8px; padding: 15px; margin-bottom: 20px; background-color: #f9fafb; page-break-inside: avoid; }
            .entry-header { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 10px; color: #6b7280; font-size: 0.9em; }
            .date { font-weight: bold; font-size: 1.1em; color: #115e59; }
            .emoji { font-size: 1.5em; margin-right: 10px; }
            .day-title { font-style: italic; color: #4b5563; }
            .thought { border-left: 3px solid #5eead4; padding-left: 10px; margin: 10px 0; }
            .lesson { border-left: 3px solid #9ca3af; padding-left: 10px; margin: 10px 0; }
            strong { color: #374151; }
          </style>
        </head>
        <body>
          <h1>Historial de Reflexiones</h1>
          <h2>${l||f?`Filtrado desde ${l?g(l):"el inicio"} hasta ${f?g(f):"el final"}`:"Historial Completo"}</h2>
          ${x.map(w=>`
            <div class="entry">
              <div class="entry-header">
                <span class="date">${g(w.timestamp)}</span>
                <span>${y(w.timestamp)}</span>
              </div>
              ${w.dayTitle||w.emotionEmoji?`
                <p>
                    ${w.emotionEmoji?`<span class="emoji">${w.emotionEmoji}</span>`:""}
                    ${w.dayTitle?`<strong>Ttulo del da:</strong> <span class="day-title">${w.dayTitle}</span>`:""}
                </p>`:""}
              ${w.positiveThought?`<div class="thought"><p><strong>Pensamiento positivo:</strong> ${w.positiveThought}</p></div>`:""}
              ${w.lessonLearned?`<div class="lesson"><p><strong>Leccin aprendida:</strong> ${w.lessonLearned}</p></div>`:""}
            </div>
          `).join("")}
          ${x.length===0?"<p>No hay entradas para el perodo seleccionado.</p>":""}
        </body>
      </html>
    `,N=window.open("","_blank");N&&(N.document.write(S),N.document.close(),N.focus(),N.print())};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-2xl flex flex-col",onClick:S=>S.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:"Mi Lnea de Tiempo de Reflexiones"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-zinc-100",children:u.jsx(IE,{className:"w-6 h-6 text-zinc-500"})})]}),u.jsxs("div",{className:"px-1 py-4 mb-4 border-t border-b border-zinc-200 flex flex-wrap items-end gap-4",children:[u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-zinc-600 mb-1",children:"Desde"}),u.jsx("input",{type:"date",id:"start-date",value:l,onChange:S=>d(S.target.value),className:"w-full px-3 py-1.5 border border-zinc-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-teal-500"})]}),u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-zinc-600 mb-1",children:"Hasta"}),u.jsx("input",{type:"date",id:"end-date",value:f,onChange:S=>m(S.target.value),className:"w-full px-3 py-1.5 border border-zinc-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-teal-500"})]}),u.jsx("button",{onClick:v,className:"px-3 py-1.5 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Limpiar Filtros"})]}),u.jsx("div",{className:"flex-grow overflow-y-auto max-h-[60vh] pr-4",children:x.length>0?u.jsx("div",{className:"relative border-l-2 border-zinc-200 pl-6 space-y-6",children:x.map(S=>u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute -left-[33px] top-1 w-4 h-4 bg-white border-2 border-teal-500 rounded-full"}),u.jsxs("div",{className:"p-3 bg-stone-50 rounded-lg border border-zinc-200",children:[u.jsxs("div",{className:"flex justify-between items-baseline mb-3",children:[u.jsx("p",{className:"text-md font-semibold text-teal-700",children:g(S.timestamp)}),u.jsx("p",{className:"text-sm font-medium text-zinc-500",children:y(S.timestamp)})]}),u.jsxs("div",{className:"space-y-3 text-sm",children:[(S.dayTitle||S.emotionEmoji)&&u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-md",children:[S.emotionEmoji&&u.jsx("span",{className:"text-3xl",children:S.emotionEmoji}),S.dayTitle&&u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-zinc-600",children:"El ttulo de mi da:"}),u.jsxs("p",{className:"text-zinc-800 mt-1 italic",children:['"',S.dayTitle,'"']})]})]}),S.positiveThought&&u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-zinc-600",children:"Pensamiento positivo:"}),u.jsx("blockquote",{className:"text-zinc-800 mt-1 pl-3 border-l-4 border-teal-300",children:S.positiveThought})]}),S.lessonLearned&&u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-zinc-600",children:"Leccin aprendida:"}),u.jsx("blockquote",{className:"text-zinc-800 mt-1 pl-3 border-l-4 border-zinc-300",children:S.lessonLearned})]})]})]})]},S.timestamp))}):u.jsx("p",{className:"text-center text-zinc-500 py-12",children:"No se han encontrado reflexiones para el perodo seleccionado."})}),u.jsxs("div",{className:"mt-6 flex justify-between items-center pt-4 border-t border-zinc-200",children:[u.jsxs("button",{type:"button",onClick:C,disabled:x.length===0,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(jE,{className:"w-5 h-5"}),u.jsx("span",{children:"Descargar Historial"})]}),u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-teal-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Cerrar"})]})]})})},zE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),UE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),VE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),Sh={happy:"",content:"",motivated:"",love_you:"",hug:"",kiss:"",miss_you:"",sad:"",tired:"",grumpy:"",angry:""},PE=({isOpen:n,onClose:e,sharedEmotionStates:o,currentUser:l,partner:d})=>{const[f,m]=A.useState(new Date),x=A.useMemo(()=>o.reduce((S,N)=>(S[N.date]=N.emotions,S),{}),[o]);if(!n)return null;const v=()=>m(new Date(f.getFullYear(),f.getMonth()-1,1)),g=()=>m(new Date(f.getFullYear(),f.getMonth()+1,1)),y=()=>{const S=f.getFullYear(),N=f.getMonth(),w=new Date(S,N,1).getDay(),_=new Date(S,N+1,0).getDate(),O=[];for(let E=0;E<w;E++)O.push(u.jsx("div",{className:"border-r border-b border-slate-100"},`empty-start-${E}`));for(let E=1;E<=_;E++){const L=new Date(S,N,E).toISOString().split("T")[0],I=x[L];O.push(u.jsxs("div",{className:"relative p-2 h-24 border-r border-b border-slate-100 flex flex-col",children:[u.jsx("span",{className:"text-sm font-medium text-slate-600",children:E}),I&&u.jsxs("div",{className:"mt-2 flex-grow flex flex-col justify-center items-center gap-1",children:[I[l.id]&&u.jsxs("div",{className:"flex items-center gap-2 w-full",children:[u.jsx("span",{className:"text-xs font-medium text-slate-500",children:"T:"}),u.jsx("span",{className:"text-2xl",children:Sh[I[l.id]]})]}),I[d.id]&&u.jsxs("div",{className:"flex items-center gap-2 w-full",children:[u.jsxs("span",{className:"text-xs font-medium text-slate-500",children:[d.name,":"]}),u.jsx("span",{className:"text-2xl",children:Sh[I[d.id]]})]})]})]},E))}return O},C=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"];return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-2xl",onClick:S=>S.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Historial de Energa"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-slate-100",children:u.jsx(zE,{className:"w-6 h-6 text-slate-500"})})]}),u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:f.toLocaleString("es-ES",{month:"long",year:"numeric"})}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:v,className:"p-2 rounded-full hover:bg-slate-100 transition-colors",children:u.jsx(UE,{className:"w-5 h-5 text-slate-500"})}),u.jsx("button",{onClick:g,className:"p-2 rounded-full hover:bg-slate-100 transition-colors",children:u.jsx(VE,{className:"w-5 h-5 text-slate-500"})})]})]}),u.jsxs("div",{className:"grid grid-cols-7 border-t border-l border-slate-100 rounded-lg overflow-hidden max-h-[60vh] overflow-y-auto",children:[C.map(S=>u.jsx("div",{className:"text-center py-2 text-sm font-semibold text-slate-500 bg-slate-50 border-r border-b border-slate-100",children:S},S)),y()]})]})})},qE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),HE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),BE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),GE=({isOpen:n,onClose:e,routines:o,onEdit:l,onDelete:d,onCreate:f})=>{if(!n)return null;const m=x=>{d(x.id)};return u.jsx(u.Fragment,{children:u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:x=>x.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Gestionar Rutinas"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-slate-100",children:u.jsx(qE,{className:"w-6 h-6 text-slate-500"})})]}),u.jsx("div",{className:"mb-6",children:u.jsx("button",{onClick:f,className:"w-full px-4 py-2 bg-indigo-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Crear Nueva Rutina"})}),u.jsx("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto pr-2",children:o.length>0?o.map(x=>u.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg flex justify-between items-center group",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:x.color||"#64748B"}}),u.jsx("p",{className:"font-semibold text-slate-800",children:x.title})]}),u.jsxs("div",{className:"flex items-center space-x-2 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:()=>l(x),className:"p-1.5 text-slate-500 hover:text-indigo-600 rounded-md hover:bg-slate-200",children:u.jsx(HE,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>m(x),className:"p-1.5 text-slate-500 hover:text-red-600 rounded-md hover:bg-slate-200",children:u.jsx(BE,{className:"w-4 h-4"})})]})]},x.id)):u.jsx("p",{className:"text-center text-slate-500 py-8",children:"No has creado ninguna rutina todava."})})]})})})},FE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),OE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),YE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a2.25 2.25 0 0 0-2.25-2.25H9.75a2.25 2.25 0 0 0-2.25 2.25v3.75m6 0H7.5m9 0h-9m9 0v6m-9-6v6m0-6H5.25a2.25 2.25 0 0 0-2.25 2.25v4.5a2.25 2.25 0 0 0 2.25 2.25h13.5a2.25 2.25 0 0 0 2.25-2.25v-4.5a2.25 2.25 0 0 0-2.25-2.25H18.75"})}),$E=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),sr={personal:"#3B82F6",pareja:"#EC4899",trabajo:"#22C55E",otro:"#64748B"},JE=({isOpen:n,onClose:e,events:o,initialDate:l})=>{const[d,f]=A.useState(new Date(l));if(!n)return null;const m=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],x=()=>{f(new Date(d.getFullYear(),d.getMonth()-1,1))},v=()=>{f(new Date(d.getFullYear(),d.getMonth()+1,1))},g=o.reduce((S,N)=>{const w=N.date;return S[w]||(S[w]=[]),S[w].push(N),S},{}),y=()=>{const S=new Date(d.getFullYear(),d.getMonth(),1),w=new Date(d.getFullYear(),d.getMonth()+1,0).getDate(),_=S.getDay(),O=Math.ceil((_+w)/7)*7,E=[];for(let L=0;L<_;L++)E.push(u.jsx("div",{className:"border-r border-b border-zinc-300"},`empty-start-${L}`));for(let L=1;L<=w;L++){const F=new Date(d.getFullYear(),d.getMonth(),L).toISOString().split("T")[0],K=(g[F]||[]).sort((J,oe)=>J.time.localeCompare(oe.time));E.push(u.jsxs("div",{className:"relative p-2 border-r border-b border-zinc-300 flex flex-col",children:[u.jsx("span",{className:"font-semibold text-zinc-700",children:L}),K.length>0&&u.jsx("div",{className:"mt-1 space-y-1 overflow-auto",children:K.map(J=>u.jsxs("div",{className:"w-full text-[10px] p-1 rounded text-white whitespace-normal",style:{backgroundColor:J.color||sr[J.category]||sr.otro},children:[u.jsx("span",{className:"font-bold",children:J.time})," ",J.title]},`print-${J.id}`))})]},L))}const P=O-(_+w);for(let L=0;L<P;L++)E.push(u.jsx("div",{className:"border-r border-b border-zinc-300"},`empty-end-${L}`));return E},C=()=>{const S=d.toLocaleString("es-ES",{month:"long",year:"numeric"}),N=new Date(d.getFullYear(),d.getMonth(),1),_=new Date(d.getFullYear(),d.getMonth()+1,0).getDate(),O=N.getDay(),E=Math.ceil((O+_)/7)*7,P=E/7;let L="";for(let J=0;J<O;J++)L+='<div class="day-cell empty-cell"></div>';for(let J=1;J<=_;J++){const $=new Date(d.getFullYear(),d.getMonth(),J).toISOString().split("T")[0],ue=(g[$]||[]).sort((te,ge)=>te.time.localeCompare(ge.time)).map(te=>`
        <div class="event" style="background-color: ${te.color||sr[te.category]||sr.otro};">
          <strong>${te.time}</strong> ${te.title}
        </div>
      `).join("");L+=`
        <div class="day-cell">
          <div class="day-number">${J}</div>
          <div class="events-container">${ue}</div>
        </div>
      `}const I=E-(O+_);for(let J=0;J<I;J++)L+='<div class="day-cell empty-cell"></div>';const F=`
      <html>
        <head>
          <title>Calendario Mensual - ${S}</title>
          <style>
            @page {
              size: A4 landscape;
              margin: 1cm;
            }
            body { 
              font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; 
              margin: 0; 
              -webkit-print-color-adjust: exact; 
              print-color-adjust: exact;
              height: 100%;
              width: 100%;
            }
            .printable-container {
              display: flex;
              flex-direction: column;
              height: 100%;
            }
            h1 { 
              text-align: center; color: #0f766e; font-size: 1.5em; text-transform: capitalize; 
              flex-shrink: 0;
              margin: 0 0 10px 0;
            }
            .calendar-body {
              flex-grow: 1;
              display: flex;
              flex-direction: column;
              border-top: 1px solid #ccc;
              border-left: 1px solid #ccc;
            }
            .day-headers {
              display: grid;
              grid-template-columns: repeat(7, 1fr);
              flex-shrink: 0;
            }
            .day-header { text-align: center; padding: 4px; font-weight: bold; background-color: #f1f5f9; border-right: 1px solid #ccc; border-bottom: 1px solid #ccc; font-size: 0.8em; }
            .days-grid {
              display: grid;
              grid-template-columns: repeat(7, 1fr);
              flex-grow: 1;
              grid-template-rows: repeat(${P}, 1fr);
            }
            .day-cell { border-right: 1px solid #ccc; border-bottom: 1px solid #ccc; padding: 4px; display: flex; flex-direction: column; overflow: hidden; }
            .day-number { font-weight: bold; font-size: 0.8em; color: #475569; margin-bottom: 3px; }
            .empty-cell { background-color: #f8fafc; }
            .events-container { flex-grow: 1; overflow-y: auto; }
            .event { font-size: 9px; padding: 2px; border-radius: 3px; color: white; margin-top: 2px; white-space: normal; overflow-wrap: break-word; }
          </style>
        </head>
        <body>
          <div class="printable-container">
            <h1>${S}</h1>
            <div class="calendar-body">
              <div class="day-headers">
                ${m.map(J=>`<div class="day-header">${J}</div>`).join("")}
              </div>
              <div class="days-grid">
                ${L}
              </div>
            </div>
          </div>
        </body>
      </html>
    `,K=window.open("","_blank");K&&(K.document.write(F),K.document.close(),K.focus(),setTimeout(()=>{K.print()},250))};return u.jsxs("div",{id:"printable-view-container",className:"fixed inset-0 bg-white z-50 p-4 sm:p-8 flex flex-col",children:[u.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6 no-print",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-zinc-800",children:"Vista de Impresin"}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:x,className:"p-2 rounded-full hover:bg-zinc-100 transition-colors",children:u.jsx(FE,{className:"w-6 h-6 text-zinc-600"})}),u.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-zinc-700 w-48 text-center",children:d.toLocaleString("es-ES",{month:"long",year:"numeric"})}),u.jsx("button",{onClick:v,className:"p-2 rounded-full hover:bg-zinc-100 transition-colors",children:u.jsx(OE,{className:"w-6 h-6 text-zinc-600"})})]}),u.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition-colors",children:[u.jsx(YE,{className:"w-5 h-5"}),u.jsx("span",{children:"Imprimir"})]}),u.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-zinc-100 transition-colors",children:u.jsx($E,{className:"w-7 h-7 text-zinc-600"})})]})]}),u.jsx("div",{className:"flex-grow overflow-auto max-w-full",children:u.jsxs("div",{className:"min-w-[1024px] h-full flex flex-col border-t border-l border-zinc-300",children:[u.jsx("div",{className:"grid grid-cols-7",children:m.map(S=>u.jsx("div",{className:"text-center py-2 text-sm font-bold text-zinc-600 bg-zinc-100 border-r border-b border-zinc-300",children:S},S))}),u.jsx("div",{className:"grid grid-cols-7 flex-grow",style:{gridTemplateRows:`repeat(${Math.ceil((new Date(d.getFullYear(),d.getMonth(),1).getDay()+new Date(d.getFullYear(),d.getMonth()+1,0).getDate())/7)}, 1fr)`},children:y()})]})})]})};var bh={};const KE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),ZE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),XE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),QE=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),WE=n=>u.jsx("svg",{viewBox:"0 0 16 16",fill:"currentColor",...n,children:u.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"})}),eM=n=>u.jsx("svg",{viewBox:"0 0 16 16",fill:"currentColor",...n,children:u.jsx("path",{d:"M8 15V1a7 7 0 1 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"})}),tM=n=>u.jsx("svg",{viewBox:"0 0 16 16",fill:"currentColor",...n,children:u.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})}),nM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),iM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})}),oM=({task:n,onUpdateTask:e,onRequestDelete:o})=>{const[l,d]=A.useState(!1),[f,m]=A.useState(n.text),x=()=>{f.trim()?e(n.id,n.status,f.trim()):m(n.text),d(!1)};return u.jsxs("div",{className:"flex items-center group w-full",children:[l?u.jsx("input",{type:"text",value:f,onChange:v=>m(v.target.value),onBlur:x,onKeyDown:v=>v.key==="Enter"&&x(),autoFocus:!0,className:"flex-grow bg-transparent p-1 -m-1 border-b border-indigo-500 outline-none"}):u.jsx("p",{onDoubleClick:()=>d(!0),className:"flex-grow cursor-pointer",children:n.text}),u.jsxs("div",{className:"flex items-center space-x-1 sm:opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx("button",{onClick:()=>d(!0),className:"p-1 text-slate-400 hover:text-indigo-600 rounded",children:u.jsx(ZE,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>o(n),className:"p-1 text-slate-400 hover:text-red-600 rounded",children:u.jsx(XE,{className:"w-4 h-4"})})]})]})},al={todo:{icon:WE,label:"Por Hacer",color:"text-slate-500"},inProgress:{icon:eM,label:"En Progreso",color:"text-blue-500"},done:{icon:tM,label:"Hecho",color:"text-green-500"}},lM=({project:n,projectTasks:e,onAddTask:o,onUpdateTask:l,onAddMultipleTasks:d,onEditProject:f,onRequestDeleteProject:m,onRequestDeleteTask:x})=>{const[v,g]=A.useState(""),[y,C]=A.useState("todo"),[S,N]=A.useState(!1),[w,_]=A.useState(""),O=A.useMemo(()=>({todo:e.filter(L=>L.status==="todo"),inProgress:e.filter(L=>L.status==="inProgress"),done:e.filter(L=>L.status==="done")}),[e]),E=L=>{L.preventDefault(),v.trim()&&(o(n.id,v.trim()),g(""))},P=A.useCallback(async()=>{if(!bh.API_KEY){_("La clave API no est configurada para esta funcin.");return}N(!0),_("");try{const L=new Sg({apiKey:bh.API_KEY}),I={type:Nt.OBJECT,properties:{tasks:{type:Nt.ARRAY,items:{type:Nt.STRING,description:"Una tarea accionable y concisa"}}},required:["tasks"]},K=(await L.models.generateContent({model:"gemini-2.5-flash",contents:`Basado en el siguiente proyecto, sugiere 5 tareas accionables para completarlo. Ttulo del proyecto: "${n.title}". Descripcin: "${n.description||"Sin descripcin"}".`,config:{responseMimeType:"application/json",responseSchema:I}})).text.trim(),J=JSON.parse(K);J.tasks&&Array.isArray(J.tasks)&&J.tasks.length>0?d(n.id,J.tasks):_("La IA no devolvi tareas. Intntalo con una descripcin ms detallada.")}catch(L){console.error(L),_("No se pudieron generar tareas. Intntalo de nuevo.")}finally{N(!1)}},[n.id,n.title,n.description,d]);return u.jsxs("div",{className:"pl-10 pr-4 pb-4",children:[n.description&&u.jsx("p",{className:"text-sm text-slate-600 mb-4",children:n.description}),u.jsxs("div",{children:[u.jsx("div",{id:"project-task-tabs-example",className:"border-b border-slate-200",children:u.jsx("nav",{className:"-mb-px flex space-x-4","aria-label":"Tabs",children:["todo","inProgress","done"].map(L=>u.jsxs("button",{onClick:()=>C(L),className:`${y===L?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2`,children:[al[L].label,u.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${y===L?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-600"}`,children:O[L].length})]},L))})}),u.jsx("div",{className:"mt-3 space-y-2 min-h-[5rem]",children:O[y].map(L=>{const I=al[L.status].icon;return u.jsxs("div",{className:"flex items-center gap-3 text-sm p-1 rounded hover:bg-slate-200/50",children:[u.jsx("div",{className:`flex items-center ${al[L.status].color}`,children:u.jsx(I,{className:"w-4 h-4"})}),u.jsx("div",{className:"flex-grow",children:u.jsx(oM,{task:L,onUpdateTask:l,onRequestDelete:x})}),u.jsx("div",{className:"flex items-center",children:["todo","inProgress","done"].map(F=>{const K=al[F].icon;return u.jsx("button",{onClick:()=>l(L.id,F,L.text),className:`p-1 rounded-full ${L.status===F?al[F].color:"text-slate-300 hover:text-slate-500"}`,title:`Marcar como '${al[F].label}'`,children:u.jsx(K,{className:"w-5 h-5"})},F)})})]},L.id)})}),u.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-200",children:[u.jsxs("form",{onSubmit:E,className:"flex items-center space-x-2",id:"add-task-form-example",children:[u.jsx("input",{type:"text",value:v,onChange:L=>g(L.target.value),placeholder:"Aadir nueva tarea...",className:"w-full px-3 py-1.5 border border-slate-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"}),u.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700",children:"Aadir"})]}),u.jsxs("div",{className:"mt-3",children:[u.jsxs("button",{id:"ai-task-suggester-example",onClick:P,disabled:S,className:"w-full flex items-center justify-center space-x-2 px-3 py-1.5 border border-indigo-200 bg-indigo-50 text-indigo-700 text-sm font-medium rounded-md hover:bg-indigo-100 disabled:opacity-60",children:[u.jsx(QE,{className:"w-4 h-4"}),u.jsx("span",{children:S?"Generando tareas...":"Sugerir Tareas con IA"})]}),w&&u.jsx("p",{className:"text-xs text-red-600 mt-1 text-center",children:w})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-2 mt-4 pt-4 border-t border-slate-200",children:[u.jsx("button",{onClick:()=>f(n),className:"text-xs font-medium text-slate-600 hover:text-indigo-600 p-2 rounded-md",children:"Editar Proyecto"}),u.jsx("button",{onClick:()=>m(n),className:"text-xs font-medium text-slate-600 hover:text-red-600 p-2 rounded-md",children:"Eliminar Proyecto"})]})]})},sM=({projects:n,tasks:e,onAddProject:o,onEditProject:l,onDeleteProject:d,onAddTask:f,onUpdateTask:m,onDeleteTask:x,onAddMultipleTasks:v,onStartTour:g})=>{var w;const[y,C]=A.useState(((w=n[0])==null?void 0:w.id)||null),S=_=>{d(_.id)},N=_=>{x(_.id)};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-md",children:[u.jsxs("div",{id:"goals-panel-header",className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"Mis Proyectos y Metas"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:g,title:"Iniciar tour guiado",className:"p-2 text-slate-500 hover:text-indigo-600 rounded-full hover:bg-slate-100 transition-colors",children:u.jsx(iM,{className:"w-6 h-6"})}),u.jsxs("button",{id:"goals-add-project-btn",onClick:o,className:"flex items-center space-x-2 text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors",children:[u.jsx(KE,{className:"w-5 h-5"}),u.jsx("span",{children:"Nuevo Proyecto"})]})]})]}),u.jsx("div",{className:"space-y-2 overflow-y-auto pr-2",children:n.length>0?n.map((_,O)=>{const E=e.filter(K=>K.projectId===_.id),P=E.length,L=E.filter(K=>K.status==="done").length,I=P>0?L/P*100:0,F=y===_.id;return u.jsxs("div",{id:O===0?"project-card-example":void 0,className:"bg-slate-50/70 rounded-lg border border-slate-200 overflow-hidden",children:[u.jsxs("button",{onClick:()=>C(F?null:_.id),className:"w-full p-3 text-left group",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-2xl",children:_.icon||""}),u.jsx("h4",{className:"text-md font-bold text-slate-800",children:_.title})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:[L,"/",P]}),u.jsx(nM,{className:`w-5 h-5 text-slate-400 transition-transform duration-300 ${F?"rotate-180":""}`})]})]}),u.jsx("div",{className:"mt-2 pl-10",children:u.jsx("div",{id:O===0?"project-progress-bar-example":void 0,className:"w-full bg-slate-200 rounded-full h-2",children:u.jsx("div",{className:"bg-indigo-500 h-2 rounded-full transition-all duration-500",style:{width:`${I}%`}})})})]}),F&&u.jsx(lM,{project:_,projectTasks:E,onEditProject:l,onRequestDeleteProject:S,onAddTask:f,onUpdateTask:m,onRequestDeleteTask:N,onAddMultipleTasks:v})]},_.id)}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"mx-auto w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 text-slate-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h12M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-12a2.25 2.25 0 0 1-2.25-2.25V3M3.75 21v-4.125c0-.621.504-1.125 1.125-1.125h14.25c.621 0 1.125.504 1.125 1.125V21M3.75 21h16.5M12 16.5v4.5"})})}),u.jsx("h4",{className:"mt-4 text-lg font-semibold text-slate-700",children:"Define tu prxima meta"}),u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Crea un proyecto para empezar a organizar tus tareas."})]})})]})})},aM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),rM=["","","","","","","","","",""],uM=({isOpen:n,onClose:e,onSave:o,projectToEdit:l})=>{const[d,f]=A.useState(""),[m,x]=A.useState(""),[v,g]=A.useState(""),[y,C]=A.useState(""),[S,N]=A.useState(""),[w,_]=A.useState("");if(A.useEffect(()=>{n&&(l?(f(l.title),x(l.description||""),g(l.icon||""),C(l.category||""),N(l.targetDate||"")):(f(""),x(""),g(""),C(""),N("")),_(""))},[n,l]),!n)return null;const O=E=>{if(E.preventDefault(),!d.trim()){_("El ttulo no puede estar vaco.");return}_(""),o({title:d.trim(),description:m.trim(),icon:v,category:y.trim(),targetDate:S||void 0},l==null?void 0:l.id)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:E=>E.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:l?"Editar Proyecto":"Nuevo Proyecto"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-zinc-100",children:u.jsx(aM,{className:"w-6 h-6 text-zinc-500"})})]}),u.jsxs("form",{onSubmit:O,className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Icono del Proyecto"}),u.jsx("div",{className:"flex flex-wrap gap-2 bg-stone-50 p-3 rounded-lg",children:rM.map(E=>u.jsx("button",{type:"button",onClick:()=>g(E),className:`w-10 h-10 text-xl rounded-full transition-all ${v===E?"bg-teal-200 scale-110":"hover:bg-zinc-200"}`,children:E},E))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"project-title",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Ttulo"}),u.jsx("input",{type:"text",id:"project-title",value:d,onChange:E=>f(E.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"p. ej., Ponerme en forma, Aprender un idioma"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"project-category",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Categora (Opcional)"}),u.jsx("input",{type:"text",id:"project-category",value:y,onChange:E=>C(E.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"p. ej., Salud, Carrera, Personal"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"project-date",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Fecha Lmite (Opcional)"}),u.jsx("input",{type:"date",id:"project-date",value:S,onChange:E=>N(E.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"project-description",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Descripcin (Opcional)"}),u.jsx("textarea",{id:"project-description",value:m,onChange:E=>x(E.target.value),rows:3,className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 resize-none",placeholder:"Qu significa este proyecto para ti? Cmo se ve el xito?"})]}),w&&u.jsx("p",{className:"text-red-600 text-sm",children:w}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-teal-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-teal-700",children:l?"Guardar Cambios":"Crear Proyecto"})]})]})]})})},cM=n=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z"})]}),dM=({projects:n,tasks:e,onNavigate:o})=>{const l=n.slice(0,3);return u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md cursor-pointer hover:shadow-lg transition-shadow",onClick:o,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(cM,{className:"w-6 h-6 text-teal-500"}),u.jsx("h3",{className:"text-xl font-semibold text-zinc-700",children:"Mis Metas Actuales"})]}),l.length>0?u.jsxs("div",{className:"space-y-4",children:[l.map(d=>{const f=e.filter(g=>g.projectId===d.id),m=f.length,x=f.filter(g=>g.status==="done").length,v=m>0?x/m*100:0;return u.jsx("div",{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-2xl",children:d.icon||""}),u.jsxs("div",{className:"flex-grow",children:[u.jsxs("div",{className:"flex justify-between items-baseline",children:[u.jsx("p",{className:"font-semibold text-zinc-800 truncate",children:d.title}),u.jsxs("p",{className:"text-xs font-medium text-zinc-500",children:[x,"/",m]})]}),u.jsx("div",{className:"w-full bg-zinc-200 rounded-full h-2 mt-1",children:u.jsx("div",{className:"bg-teal-500 h-2 rounded-full transition-all duration-500",style:{width:`${v}%`}})})]})]})},d.id)}),n.length>3&&u.jsxs("p",{className:"text-center text-sm font-medium text-teal-600 mt-4",children:["y ",n.length-3," ms..."]})]}):u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-zinc-500",children:"An no has definido ningn proyecto. Haz clic aqu para empezar!"})})]})},bg=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Ng=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),wg=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),fM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),mM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m-7.5-2.962A3.75 3.75 0 0 1 15 12a3.75 3.75 0 0 1-2.25-6.962m8.024 10.928A9 9 0 1 0 3 18.72m10.602 0A9.01 9.01 0 0 0 18 18.72m-7.5 0v-2.25m0 2.25a3.75 3.75 0 0 0 3.75 3.75M10.5 18.75a3.75 3.75 0 0 0-3.75 3.75m0 0a3.75 3.75 0 0 0 3.75-3.75M3 13.5A3.75 3.75 0 0 1 6.75 9.75a3.75 3.75 0 0 1 3.75 3.75m-3.75 0a3.75 3.75 0 0 0-3.75 3.75"})}),pM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})}),hM=["","","","","","","",""],Nh=({listId:n,item:e,onUpdate:o,onRequestDelete:l,usersById:d,isFirst:f})=>{var S;const[m,x]=A.useState(!1),[v,g]=A.useState(e.text),y=()=>{v.trim()?o(n,e.id,v.trim(),e.completed):g(e.text),x(!1)},C=e.completedBy?(S=d.get(e.completedBy))==null?void 0:S.name:null;return u.jsxs("div",{className:"flex items-center group w-full py-1",children:[u.jsx("input",{id:f?"list-item-checkbox-example":void 0,type:"checkbox",checked:e.completed,onChange:()=>o(n,e.id,e.text,!e.completed),className:"h-5 w-5 rounded border-zinc-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),u.jsx("div",{className:"ml-3 flex-grow",children:m?u.jsx("input",{type:"text",value:v,onChange:N=>g(N.target.value),onBlur:y,onKeyDown:N=>N.key==="Enter"&&y(),autoFocus:!0,className:"w-full bg-transparent p-1 -m-1 border-b border-teal-500 outline-none text-sm"}):u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsx("p",{onDoubleClick:()=>x(!0),className:`text-sm cursor-pointer ${e.completed?"line-through text-zinc-400":"text-zinc-700"}`,children:e.text}),e.completed&&C&&u.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[" por ",C]})]})}),u.jsxs("div",{className:"flex items-center space-x-1 sm:opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx("button",{onClick:()=>x(!0),className:"p-1 text-zinc-400 hover:text-teal-600 rounded",children:u.jsx(Ng,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>l(n,e),className:"p-1 text-zinc-400 hover:text-red-600 rounded",children:u.jsx(wg,{className:"w-4 h-4"})})]})]})},gM=({list:n,onAddItem:e,onUpdateItem:o,onEditList:l,onRequestDelete:d,onRequestItemDelete:f,isOwner:m,isPaired:x,ownerName:v,onToggleShare:g,usersById:y,isFirst:C})=>{const[S,N]=A.useState(""),[w,_]=A.useState(!1),O=n.items.filter(L=>!L.completed),E=n.items.filter(L=>L.completed),P=L=>{L.preventDefault(),S.trim()&&(e(n.id,S.trim()),N(""))};return u.jsxs("div",{id:C?"list-card-example":void 0,className:"bg-white rounded-xl shadow-md p-4 flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-2xl",children:n.icon}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-zinc-800",children:n.title}),!m&&v&&u.jsxs("p",{className:"text-xs text-zinc-500",children:["De: ",v]})]})]}),u.jsxs("div",{className:"flex items-center",children:[m&&x&&u.jsx("button",{id:C?"share-list-btn-example":void 0,onClick:g,title:n.isShared?"Dejar de compartir":"Compartir con tu pareja",className:`p-1.5 rounded-md ${n.isShared?"text-teal-500":"text-zinc-400 hover:text-teal-600"}`,children:u.jsx(mM,{className:"w-5 h-5"})}),m&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:l,className:"p-1.5 text-zinc-400 hover:text-teal-600 rounded-md",children:u.jsx(Ng,{className:"w-4 h-4"})}),u.jsx("button",{onClick:d,className:"p-1.5 text-zinc-400 hover:text-red-600 rounded-md",children:u.jsx(wg,{className:"w-4 h-4"})})]})]})]}),u.jsx("div",{className:"flex-grow space-y-1 pr-1 overflow-y-auto max-h-60",children:O.length>0?O.map((L,I)=>u.jsx(Nh,{listId:n.id,item:L,onUpdate:o,onRequestDelete:f,usersById:y,isFirst:C&&I===0},L.id)):u.jsx("p",{className:"text-center text-xs text-zinc-400 py-4",children:"Todo listo!"})}),E.length>0&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-200",children:[u.jsxs("button",{onClick:()=>_(!w),className:"w-full flex justify-between items-center text-sm font-medium text-zinc-500",children:[u.jsxs("span",{children:["Completados (",E.length,")"]}),u.jsx(fM,{className:`w-4 h-4 transition-transform ${w?"rotate-180":""}`})]}),w&&u.jsx("div",{className:"mt-2 space-y-1",children:E.map(L=>u.jsx(Nh,{listId:n.id,item:L,onUpdate:o,onRequestDelete:f,usersById:y,isFirst:!1},L.id))})]}),u.jsxs("form",{onSubmit:P,id:C?"add-list-item-form-example":void 0,className:"mt-3 pt-3 border-t border-zinc-200 flex items-center space-x-2",children:[u.jsx("input",{type:"text",value:S,onChange:L=>N(L.target.value),placeholder:"Aadir elemento...",className:"w-full px-3 py-1.5 bg-stone-50 border border-zinc-200 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-teal-500"}),u.jsx("button",{type:"submit",className:"p-2 bg-teal-600 text-white rounded-md hover:bg-teal-700",children:u.jsx(bg,{className:"w-4 h-4"})})]})]})},xM=({shoppingLists:n,currentUser:e,pairedUser:o,onToggleShareList:l,onStartTour:d,...f})=>{const[m,x]=A.useState(!1),[v,g]=A.useState(null),[y,C]=A.useState(""),[S,N]=A.useState(""),w=(I=null)=>{g(I),C((I==null?void 0:I.title)||""),N((I==null?void 0:I.icon)||""),x(!0)},_=()=>{x(!1),g(null),C(""),N("")},O=I=>{I.preventDefault(),y.trim()&&(f.onSaveList(y.trim(),S,v==null?void 0:v.id),_())},E=I=>{f.onDeleteList(I.id)},P=(I,F)=>{f.onDeleteItem(I,F.id)},L=new Map;return L.set(e.id,e),o&&L.set(o.id,o),u.jsx(u.Fragment,{children:u.jsxs("div",{className:"bg-stone-50/50 p-4 sm:p-6 rounded-xl shadow-inner",children:[u.jsxs("div",{id:"home-panel-header",className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-zinc-800",children:"Mi Hogar: Listas y Tareas"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:d,title:"Iniciar tour guiado",className:"p-2 text-zinc-500 hover:text-teal-600 rounded-full hover:bg-stone-200 transition-colors",children:u.jsx(pM,{className:"w-6 h-6"})}),u.jsxs("button",{id:"home-add-list-btn",onClick:()=>w(),className:"flex-shrink-0 flex items-center space-x-2 px-4 py-2 bg-teal-600 text-white rounded-md text-sm font-medium shadow-sm hover:bg-teal-700",children:[u.jsx(bg,{className:"w-5 h-5"}),u.jsx("span",{children:"Crear Nueva Lista"})]})]})]}),m&&u.jsxs("form",{onSubmit:O,className:"mb-6 p-4 bg-white rounded-lg shadow-md border border-zinc-200 space-y-4",children:[u.jsx("h4",{className:"font-semibold",children:v?"Editar Lista":"Nueva Lista"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Icono"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:hM.map(I=>u.jsx("button",{type:"button",onClick:()=>N(I),className:`w-10 h-10 text-xl rounded-full transition-all ${S===I?"bg-teal-200 scale-110":"hover:bg-zinc-200"}`,children:I},I))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"list-title",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Ttulo"}),u.jsx("input",{id:"list-title",type:"text",value:y,onChange:I=>C(I.target.value),placeholder:"p. ej. Supermercado",className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx("button",{type:"button",onClick:_,className:"px-3 py-1.5 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-teal-600 text-white rounded-md text-sm font-medium shadow-sm hover:bg-teal-700",children:"Guardar"})]})]}),n.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((I,F)=>{var K;return u.jsx(gM,{list:I,onAddItem:f.onAddItem,onUpdateItem:f.onUpdateItem,onEditList:()=>w(I),onRequestDelete:()=>E(I),onRequestItemDelete:P,isOwner:I.ownerId===e.id,isPaired:!!o,ownerName:(K=L.get(I.ownerId))==null?void 0:K.name,onToggleShare:()=>l(I.id),usersById:L,isFirst:F===0},I.id)})}):u.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-zinc-300 rounded-lg",children:[u.jsx("div",{className:"mx-auto w-12 h-12 bg-zinc-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 text-zinc-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h7.5M8.25 12h7.5m-7.5 5.25h7.5M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})})}),u.jsx("h4",{className:"mt-4 text-lg font-semibold text-zinc-700",children:"Empieza a organizarte"}),u.jsx("p",{className:"mt-1 text-sm text-zinc-500",children:"Crea tu primera lista para llevar un registro de todo."})]})]})})},vM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),yM=({shoppingLists:n,onNavigate:e})=>{const o=n.slice(0,4);return u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md cursor-pointer hover:shadow-lg transition-shadow",onClick:e,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(vM,{className:"w-6 h-6 text-teal-500"}),u.jsx("h3",{className:"text-xl font-semibold text-zinc-700",children:"Listas del Hogar"})]}),o.length>0?u.jsx("div",{className:"space-y-3",children:o.map(l=>{const d=l.items.filter(f=>!f.completed).length;return u.jsxs("div",{className:"flex items-center gap-3 p-2 bg-stone-50 rounded-md",children:[u.jsx("span",{className:"text-xl",children:l.icon}),u.jsx("div",{className:"flex-grow",children:u.jsx("p",{className:"font-medium text-sm text-zinc-700 truncate",children:l.title})}),u.jsx("span",{className:`text-sm font-semibold px-2 py-0.5 rounded-full ${d>0?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:d})]},l.id)})}):u.jsx("div",{className:"text-center py-6",children:u.jsx("p",{className:"text-sm text-zinc-500",children:"Aade listas de compras, cuentas por pagar y ms. Haz clic para empezar!"})})]})},CM=()=>u.jsxs("div",{className:"fixed inset-0 bg-stone-100/90 backdrop-blur-sm flex justify-center items-center z-[200]",children:[u.jsx("style",{children:`
        @keyframes pulse-fade-in {
          0% {
            opacity: 0;
            transform: scale(0.9);
          }
          50% {
            opacity: 1;
            transform: scale(1.05);
          }
          100% {
            opacity: 1;
            transform: scale(1);
          }
        }
        .animate-pulse-fade-in {
          animation: pulse-fade-in 1.5s ease-in-out forwards;
        }
      `}),u.jsx("img",{src:"https://i.postimg.cc/YhvKDdRc/Logo-for-Conecta-Mente-Clean-Sans-Serif-Abstract-Design.png",alt:"ConectaMente Logo",className:"h-32 w-auto animate-pulse-fade-in rounded-full shadow-2xl"})]}),TM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),SM=["Primer Cuatrimestre","Segundo Cuatrimestre","Anual","Verano"],bM=({isOpen:n,onClose:e,onSave:o,semesterToEdit:l})=>{const[d,f]=A.useState(new Date().getFullYear()),[m,x]=A.useState("Primer Cuatrimestre"),[v,g]=A.useState("");if(A.useEffect(()=>{n&&(l?(f(l.year),x(l.term)):(f(new Date().getFullYear()),x("Primer Cuatrimestre")),g(""))},[n,l]),!n)return null;const y=C=>{if(C.preventDefault(),!d){g("El ao es obligatorio.");return}g(""),o({year:d,term:m,subjectIds:(l==null?void 0:l.subjectIds)||[]},l==null?void 0:l.id)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",onClick:C=>C.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:l?"Editar Semestre":"Nuevo Semestre"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-zinc-100",children:u.jsx(TM,{className:"w-6 h-6 text-zinc-500"})})]}),u.jsxs("form",{onSubmit:y,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"semester-year",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Ao"}),u.jsx("input",{type:"number",id:"semester-year",value:d,onChange:C=>f(parseInt(C.target.value,10)),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"e.g., 2024"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"semester-term",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Perodo"}),u.jsx("select",{id:"semester-term",value:m,onChange:C=>x(C.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500 bg-white",children:SM.map(C=>u.jsx("option",{value:C,children:C},C))})]}),v&&u.jsx("p",{className:"text-red-600 text-sm",children:v}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-violet-700",children:l?"Guardar Cambios":"Crear Semestre"})]})]})]})})},NM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),wM=[{id:"pendiente",name:"Pendiente"},{id:"cursando",name:"Cursando"},{id:"aprobada",name:"Aprobada"},{id:"final_pendiente",name:"Final Pendiente"},{id:"recursar",name:"A Recursar"}],EM=({isOpen:n,onClose:e,onSave:o,subjectToEdit:l,allSubjects:d})=>{const[f,m]=A.useState(""),[x,v]=A.useState("pendiente"),[g,y]=A.useState(null),[C,S]=A.useState([]),[N,w]=A.useState("");if(A.useEffect(()=>{n&&(l?(m(l.name),v(l.status),y(l.finalGrade),S(l.prerequisiteIds)):(m(""),v("pendiente"),y(null),S([])),w(""))},[n,l]),!n)return null;const _=P=>{S(L=>L.includes(P)?L.filter(I=>I!==P):[...L,P])},O=P=>{if(P.preventDefault(),!f.trim()){w("El nombre de la materia es obligatorio.");return}w(""),o({name:f,status:x,finalGrade:x==="aprobada"?g:null,prerequisiteIds:C},l==null?void 0:l.id)},E=d.filter(P=>P.id!==(l==null?void 0:l.id));return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",onClick:P=>P.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:l?"Editar Materia":"Nueva Materia al Plan"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-zinc-100",children:u.jsx(NM,{className:"w-6 h-6 text-zinc-500"})})]}),u.jsxs("form",{onSubmit:O,className:"space-y-4 max-h-[80vh] overflow-y-auto pr-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"subject-name",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Nombre de la Materia"}),u.jsx("input",{type:"text",id:"subject-name",value:f,onChange:P=>m(P.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"p. ej., Anlisis Matemtico II"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"subject-status",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Estado"}),u.jsx("select",{id:"subject-status",value:x,onChange:P=>v(P.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500 bg-white",children:wM.map(P=>u.jsx("option",{value:P.id,children:P.name},P.id))})]}),x==="aprobada"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"subject-grade",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Nota Final"}),u.jsx("input",{type:"number",id:"subject-grade",value:g??"",onChange:P=>y(P.target.value?parseFloat(P.target.value):null),step:"0.01",min:"1",max:"10",className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),E.length>0&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Correlativas (Materias requeridas)"}),u.jsx("div",{className:"p-3 bg-stone-50 rounded-md border border-zinc-200 max-h-40 overflow-y-auto space-y-2",children:E.map(P=>u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:`prereq-${P.id}`,type:"checkbox",checked:C.includes(P.id),onChange:()=>_(P.id),className:"h-4 w-4 rounded border-zinc-300 text-violet-600 focus:ring-violet-500"}),u.jsx("label",{htmlFor:`prereq-${P.id}`,className:"ml-2 text-sm text-zinc-600",children:P.name})]},P.id))})]}),N&&u.jsx("p",{className:"text-red-600 text-sm",children:N}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-violet-700",children:l?"Guardar Cambios":"Guardar Materia"})]})]})]})})},wh=({percentage:n,stroke:e,label:o,subLabel:l})=>{const f=2*Math.PI*70,m=Math.max(0,Math.min(100,n)),x=f-m/100*f;return u.jsxs("div",{className:"relative flex flex-col items-center",children:[u.jsxs("svg",{width:"160",height:"160",viewBox:"0 0 160 160",className:"-rotate-90",children:[u.jsx("circle",{className:"text-zinc-200",strokeWidth:"12",stroke:"currentColor",fill:"transparent",r:70,cx:"80",cy:"80"}),u.jsx("circle",{className:e,strokeWidth:"12",strokeDasharray:f,strokeDashoffset:x,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:70,cx:"80",cy:"80",style:{transition:"stroke-dashoffset 0.5s ease-out"}})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center",children:[u.jsx("span",{className:"text-3xl font-bold text-zinc-700",children:o}),u.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:l})]})]})},MM=({subjects:n})=>{const{gpa:e,progressPercentage:o,approvedCount:l,totalCount:d}=A.useMemo(()=>{const f=n.filter(C=>C.status==="aprobada"),m=f.filter(C=>C.finalGrade!==null&&C.finalGrade>=1),x=n.length,v=f.length,g=m.length>0?m.reduce((C,S)=>C+S.finalGrade,0)/m.length:0,y=x>0?v/x*100:0;return{gpa:g,progressPercentage:y,approvedCount:v,totalCount:x}},[n]);return n.length===0?u.jsxs("div",{className:"text-center text-zinc-500 py-8",children:[u.jsx("h4",{className:"text-lg font-semibold text-zinc-800 mb-2",children:"Progreso Acadmico"}),u.jsx("p",{children:"Aade materias a tu Plan de Estudios para ver tu progreso."})]}):u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold text-zinc-800 mb-4 text-center",children:"Progreso Acadmico"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 items-start",children:[u.jsxs("div",{className:"flex flex-col items-center p-4",children:[u.jsx("div",{className:"w-[160px] h-[160px]",children:u.jsx(wh,{percentage:e>0?e/10*100:0,stroke:"text-teal-500",label:e>0?e.toFixed(2):"N/A",subLabel:"Promedio General"})}),u.jsx("p",{className:"text-center text-sm text-zinc-600 mt-3 max-w-xs",children:"Basado en la nota final de las materias aprobadas."})]}),u.jsxs("div",{className:"flex flex-col items-center p-4",children:[u.jsx("div",{className:"w-[160px] h-[160px]",children:u.jsx(wh,{percentage:o,stroke:"text-violet-500",label:`${Math.round(o)}%`,subLabel:"Avance de Carrera"})}),u.jsxs("p",{className:"text-center text-sm text-zinc-600 mt-3 max-w-xs",children:[l," de ",d," materias aprobadas."]})]})]})]})},AM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),Eh={pendiente:{bg:"bg-zinc-100",text:"text-zinc-800",name:"Pendiente"},cursando:{bg:"bg-blue-100",text:"text-blue-800",name:"Cursando"},aprobada:{bg:"bg-green-100",text:"text-green-800",name:"Aprobada"},final_pendiente:{bg:"bg-amber-100",text:"text-amber-800",name:"Final Pendiente"},recursar:{bg:"bg-red-100",text:"text-red-800",name:"A Recursar"}},Xc=({subject:n,isCentral:e=!1})=>{const o=Eh[n.status]||Eh.pendiente;return u.jsxs("div",{className:`p-3 rounded-lg border-2 w-full ${e?"bg-white border-violet-500 shadow-lg":"bg-stone-50 border-stone-200"}`,children:[u.jsx("p",{className:`font-semibold ${e?"text-violet-800":"text-zinc-800"}`,children:n.name}),u.jsx("span",{className:`mt-1 inline-block px-2 py-0.5 text-xs font-medium rounded-full ${o.bg} ${o.text}`,children:o.name})]})},_M=({isOpen:n,onClose:e,subject:o,allSubjects:l})=>{if(!n||!o)return null;const d=o.prerequisiteIds.map(m=>l.find(x=>x.id===m)).filter(m=>!!m),f=l.filter(m=>m.prerequisiteIds.includes(o.id));return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[70] flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-stone-100 rounded-lg shadow-xl p-6 w-full max-w-3xl",onClick:m=>m.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("h2",{className:"text-2xl font-bold text-zinc-800",children:["Correlatividades de ",u.jsx("span",{className:"text-violet-600",children:o.name})]}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-zinc-200",children:u.jsx(AM,{className:"w-6 h-6 text-zinc-500"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-4 items-center text-center",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("h3",{className:"font-bold text-zinc-600 mb-3 text-sm tracking-widest uppercase",children:"Requiere"}),u.jsx("div",{className:"space-y-3 w-full",children:d.length>0?d.map(m=>u.jsx(Xc,{subject:m},m.id)):u.jsx("div",{className:"text-sm text-zinc-500 p-4 bg-stone-50/50 rounded-lg border border-dashed border-zinc-300 h-full flex items-center justify-center",children:u.jsx("p",{children:"Sin requisitos"})})})]}),u.jsxs("div",{className:"flex md:flex-col items-center justify-around md:justify-center h-full px-4",children:[u.jsx("div",{className:"hidden md:block w-px h-full bg-zinc-300 relative",children:u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-stone-100 px-1 text-2xl text-zinc-400",children:""})}),u.jsx("div",{className:"block md:hidden h-px w-full bg-zinc-300 relative",children:u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-stone-100 px-1 text-2xl text-zinc-400",children:""})})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("h3",{className:"font-bold text-zinc-600 mb-3 text-sm tracking-widest uppercase",children:"Habilita"}),u.jsx("div",{className:"space-y-3 w-full",children:f.length>0?f.map(m=>u.jsx(Xc,{subject:m},m.id)):u.jsx("div",{className:"text-sm text-zinc-500 p-4 bg-stone-50/50 rounded-lg border border-dashed border-zinc-300 h-full flex items-center justify-center",children:u.jsx("p",{children:"No habilita materias"})})})]})]}),u.jsx("div",{className:"mt-8 pt-4 border-t border-zinc-200",children:u.jsx(Xc,{subject:o,isCentral:!0})})]})})},DM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),RM=({isOpen:n,onClose:e,onSave:o,examToEdit:l,subjectId:d})=>{const[f,m]=A.useState("parcial"),[x,v]=A.useState(""),[g,y]=A.useState(""),[C,S]=A.useState(new Date().toISOString().split("T")[0]),[N,w]=A.useState("09:00"),[_,O]=A.useState(null),[E,P]=A.useState("");if(A.useEffect(()=>{n&&(l?(m(l.type),v(l.title),y(l.topics||""),S(l.date),w(l.time),O(l.grade)):(m("parcial"),v(""),y(""),S(new Date().toISOString().split("T")[0]),w("09:00"),O(null)),P(""))},[n,l]),!n)return null;const L=I=>{if(I.preventDefault(),!x.trim()){P("El ttulo es obligatorio.");return}P(""),o({subjectId:d,type:f,title:x,date:C,time:N,grade:_,topics:g},l==null?void 0:l.id)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[70] flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",onClick:I=>I.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:l?"Editar Examen":"Nuevo Examen"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-zinc-100",children:u.jsx(DM,{className:"w-6 h-6 text-zinc-500"})})]}),u.jsxs("form",{onSubmit:L,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Tipo de Examen"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"radio",value:"parcial",checked:f==="parcial",onChange:()=>m("parcial"),className:"h-4 w-4 text-violet-600 focus:ring-violet-500 border-zinc-300"}),u.jsx("span",{className:"ml-2 text-sm text-zinc-600",children:"Parcial"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"radio",value:"final",checked:f==="final",onChange:()=>m("final"),className:"h-4 w-4 text-violet-600 focus:ring-violet-500 border-zinc-300"}),u.jsx("span",{className:"ml-2 text-sm text-zinc-600",children:"Final"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exam-title",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Ttulo"}),u.jsx("input",{type:"text",id:"exam-title",value:x,onChange:I=>v(I.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"e.g., Primer Parcial, Recuperatorio"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exam-topics",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Temas (Opcional)"}),u.jsx("textarea",{id:"exam-topics",value:g,onChange:I=>y(I.target.value),rows:3,className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500 resize-none",placeholder:`e.g., Tema 1: Variables Complejas
Tema 2: Ecuaciones Diferenciales`})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exam-date",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Fecha"}),u.jsx("input",{type:"date",id:"exam-date",value:C,onChange:I=>S(I.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exam-time",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Hora"}),u.jsx("input",{type:"time",id:"exam-time",value:N,onChange:I=>w(I.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exam-grade",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Nota (Opcional)"}),u.jsx("input",{type:"number",id:"exam-grade",value:_??"",onChange:I=>O(I.target.value?parseFloat(I.target.value):null),step:"0.01",min:"1",max:"10",className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),E&&u.jsx("p",{className:"text-red-600 text-sm",children:E}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-violet-700",children:l?"Guardar Cambios":"Guardar Examen"})]})]})]})})},kM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),IM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),jM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),LM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),zM={pendiente:{bg:"bg-zinc-100",text:"text-zinc-800",name:"Pendiente"},cursando:{bg:"bg-blue-100",text:"text-blue-800",name:"Cursando"},aprobada:{bg:"bg-green-100",text:"text-green-800",name:"Aprobada"},final_pendiente:{bg:"bg-amber-100",text:"text-amber-800",name:"Final Pendiente"},recursar:{bg:"bg-red-100",text:"text-red-800",name:"A Recursar"}},UM=Object.entries(zM).map(([n,{name:e}])=>({id:n,name:e})),VM=({isOpen:n,onClose:e,semester:o,subjects:l,exams:d,onUnassignSubject:f,onUpdateSubjectStatusAndGrade:m,onPromptForGrade:x,onSaveExam:v,onDeleteExam:g})=>{const[y,C]=A.useState(!1),[S,N]=A.useState(null),[w,_]=A.useState(null);if(!n)return null;const O=o.subjectIds.map(F=>l.find(K=>K.id===F)).filter(F=>!!F),E=F=>{_(F),N(null),C(!0)},P=(F,K)=>{_(K),N(F),C(!0)},L=(F,K)=>{if(K==="aprobada"){const J=l.find(oe=>oe.id===F);J&&x(J)}else m(F,K,null)},I=(F,K)=>{v(F,K),C(!1)};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-3xl flex flex-col",onClick:F=>F.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:o.term}),u.jsx("p",{className:"text-lg text-zinc-600",children:o.year})]}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-zinc-100",children:u.jsx(kM,{className:"w-6 h-6 text-zinc-500"})})]}),u.jsx("div",{className:"flex-grow overflow-y-auto max-h-[70vh] pr-4 -mr-4 space-y-4",children:O.length>0?O.map(F=>{const K=d.filter(J=>J.subjectId===F.id);return u.jsxs("div",{className:"p-4 bg-stone-50 rounded-lg border border-zinc-200",children:[u.jsxs("div",{className:"flex justify-between items-start gap-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-zinc-800",children:F.name}),u.jsx("button",{onClick:()=>f(F.id,o.id),className:"text-xs font-medium text-red-600 hover:text-red-800",children:"Quitar"})]}),u.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-zinc-600 mb-1",children:"Estado"}),u.jsx("select",{value:F.status,onChange:J=>L(F.id,J.target.value),className:"w-full px-3 py-1.5 border border-zinc-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-violet-500 bg-white",children:UM.map(J=>u.jsx("option",{value:J.id,children:J.name},J.id))}),F.status==="aprobada"&&F.finalGrade!==null&&u.jsxs("p",{className:"text-sm mt-2",children:["Nota Final: ",u.jsx("span",{className:"font-bold text-green-700",children:F.finalGrade})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("label",{className:"block text-sm font-medium text-zinc-600",children:"Exmenes"}),u.jsxs("button",{onClick:()=>E(F),className:"text-xs font-medium text-violet-600 hover:text-violet-800 flex items-center gap-1",children:[u.jsx(IM,{className:"w-3 h-3"})," Aadir"]})]}),u.jsx("div",{className:"space-y-1",children:K.length>0?K.map(J=>u.jsxs("div",{className:"flex justify-between items-center bg-white p-1.5 rounded border border-zinc-200 group text-sm",children:[u.jsx("p",{className:"font-medium text-zinc-700",children:J.title}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:()=>P(J,F),className:"p-1 text-zinc-400 hover:text-violet-600",children:u.jsx(jM,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>g(J.id),className:"p-1 text-zinc-400 hover:text-red-600",children:u.jsx(LM,{className:"w-4 h-4"})})]})]},J.id)):u.jsx("p",{className:"text-xs text-zinc-500 text-center py-2",children:"Sin exmenes"})})]})]})]},F.id)}):u.jsxs("div",{className:"text-center text-zinc-500 py-12 border-2 border-dashed border-zinc-200 rounded-lg",children:[u.jsx("p",{className:"font-semibold",children:"Sin Materias"}),u.jsx("p",{className:"text-sm mt-1",children:"Arrastra materias desde el banco para asignarlas a este cuatrimestre."})]})})]})}),w&&u.jsx(RM,{isOpen:y,onClose:()=>C(!1),onSave:I,examToEdit:S,subjectId:w.id})]})},Mh=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),PM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),Ah=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.12 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),qM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),HM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})}),BM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),GM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.195.025.39.05.588.082a2.25 2.25 0 0 1 2.829 2.829.096.096 0 0 0 .082.082m0 0a2.25 2.25 0 1 0 2.186 0m-2.186 0a2.25 2.25 0 0 0-2.829-2.829.096.096 0 0 1-.082-.082m0 0a2.25 2.25 0 1 0 0-2.186m0 2.186c-.195-.025-.39-.05-.588-.082a2.25 2.25 0 0 1-2.829-2.829.096.096 0 0 0-.082-.082"})}),FM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"})}),OM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})}),ws={pendiente:{bg:"bg-zinc-100",text:"text-zinc-800",name:"Pendiente"},cursando:{bg:"bg-blue-100",text:"text-blue-800",name:"Cursando"},aprobada:{bg:"bg-green-100",text:"text-green-800",name:"Aprobada"},final_pendiente:{bg:"bg-amber-100",text:"text-amber-800",name:"Final Pendiente"},recursar:{bg:"bg-red-100",text:"text-red-800",name:"A Recursar"}},YM=({semesters:n,subjects:e,exams:o,onStartTour:l,...d})=>{const[f,m]=A.useState({semester:!1,subject:!1}),[x,v]=A.useState({}),[g,y]=A.useState(!1),[C,S]=A.useState(null),[N,w]=A.useState(null),[_,O]=A.useState(null),E=A.useMemo(()=>new Map(e.map($=>[$.id,$])),[e]),P=A.useMemo(()=>e.filter($=>!n.some(re=>re.subjectIds.includes($.id))),[e,n]),L=A.useMemo(()=>[...n].sort(($,re)=>$.year-re.year||$.term.localeCompare(re.term)),[n]),I=$=>!$.prerequisiteIds||$.prerequisiteIds.length===0?!0:$.prerequisiteIds.every(re=>{var ue;return((ue=E.get(re))==null?void 0:ue.status)==="aprobada"}),F=$=>{d.onDeleteSemester($.id)},K=$=>{d.onDeleteSubject($.id)},J=($,re)=>{$.dataTransfer.setData("subjectId",re)},oe=($,re)=>{$.preventDefault();const ue=$.dataTransfer.getData("subjectId"),te=E.get(ue);te&&I(te)&&d.onAssignSubject(ue,re),O(null)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[u.jsxs("div",{id:"subject-bank",className:"lg:col-span-2 bg-white p-4 sm:p-6 rounded-xl shadow-md flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[u.jsx("h3",{className:"text-xl font-semibold text-zinc-700",children:"Banco de Materias"}),u.jsxs("button",{id:"academic-add-subject-btn",onClick:()=>{v({}),m({...f,subject:!0})},className:"flex items-center space-x-2 text-sm font-medium text-violet-600 hover:text-violet-800",children:[u.jsx(Mh,{className:"w-5 h-5"}),u.jsx("span",{children:"Aadir Materia"})]})]}),u.jsx("div",{className:"space-y-2 flex-grow overflow-y-auto pr-2",children:P.length>0?P.map(($,re)=>{const ue=I($),te=ws[$.status]||ws.pendiente;return u.jsxs("div",{id:re===0?"draggable-subject-example":void 0,draggable:ue,onDragStart:ge=>ue&&J(ge,$.id),className:`p-3 rounded-md flex justify-between items-center bg-stone-50 group relative transition-colors ${ue?"cursor-grab hover:bg-stone-100":"cursor-not-allowed"}`,title:ue?`Arrastra para asignar ${$.name}`:"Requiere correlativas",children:[u.jsxs("div",{className:`flex items-center gap-2 flex-grow ${ue?"":"opacity-60"}`,children:[!ue&&u.jsx(HM,{className:"w-4 h-4 text-zinc-400 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-zinc-800",children:$.name}),u.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded-full ${te.bg} ${te.text}`,children:te.name})]})]}),u.jsxs("div",{className:"flex items-center space-x-1 pr-3",children:[u.jsx("button",{onClick:()=>S($),title:"Ver correlatividades",className:"p-1 text-zinc-400 hover:text-violet-600 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(GM,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>K($),title:"Eliminar materia",className:"p-1 text-zinc-400 hover:text-red-600 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Ah,{className:"w-4 h-4"})})]})]},$.id)}):u.jsxs("div",{className:"text-center text-zinc-500 py-12 border-2 border-dashed border-zinc-200 rounded-lg",children:[u.jsx("p",{className:"font-semibold",children:"Todo asignado!"}),u.jsx("p",{className:"text-sm mt-1",children:"Todas las materias de tu plan estn en un cuatrimestre."})]})})]}),u.jsxs("div",{id:"semester-timeline",className:"lg:col-span-3 bg-white p-4 sm:p-6 rounded-xl shadow-md",children:[u.jsxs("div",{id:"academic-panel-header",className:"flex flex-wrap gap-4 justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-semibold text-zinc-700",children:"Lnea de Tiempo"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:l,title:"Iniciar tour guiado",className:"p-2 text-zinc-500 hover:text-violet-600 rounded-full hover:bg-stone-100 transition-colors",children:u.jsx(OM,{className:"w-6 h-6"})}),u.jsxs("button",{id:"academic-progress-toggle",onClick:()=>y(!g),className:"flex items-center space-x-2 text-sm font-medium text-violet-600 hover:text-violet-800",children:[u.jsx(BM,{className:"w-5 h-5"}),u.jsx("span",{children:"Progreso"}),u.jsx(qM,{className:`w-4 h-4 transition-transform ${g?"rotate-180":""}`})]}),u.jsxs("button",{id:"academic-add-semester-btn",onClick:()=>{v({}),m({...f,semester:!0})},className:"flex items-center space-x-2 text-sm font-medium text-violet-600 hover:text-violet-800",children:[u.jsx(Mh,{className:"w-5 h-5"}),u.jsx("span",{children:"Cuatrimestre"})]})]})]}),u.jsx("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${g?"max-h-[500px] opacity-100 mb-6 border-b border-zinc-200 pb-6":"max-h-0 opacity-0"}`,children:u.jsx(MM,{subjects:e})}),u.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:L.map(($,re)=>{const ue=$.subjectIds.map(ge=>E.get(ge)).filter(ge=>!!ge),te=_===$.id;return u.jsxs("div",{id:re===0?"semester-card-example":void 0,onDragOver:ge=>{ge.preventDefault(),O($.id)},onDragLeave:()=>O(null),onDrop:ge=>oe(ge,$.id),className:`p-3 rounded-lg border-2 transition-all ${te?"border-violet-500 bg-violet-50 shadow-lg":"border-zinc-200 bg-stone-50"}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("button",{onClick:()=>w($),className:"text-left group",children:[u.jsxs("h4",{className:"font-bold text-zinc-800 text-lg group-hover:text-violet-700",children:[$.term," ",$.year]}),u.jsx("span",{className:"text-sm text-zinc-500 group-hover:text-violet-600",children:"Ver detalles y exmenes"})]}),u.jsxs("div",{className:"relative group",children:[u.jsx("button",{className:"p-1.5 text-zinc-500 hover:text-zinc-800 rounded-full hover:bg-zinc-200",children:u.jsx(FM,{className:"w-5 h-5"})}),u.jsxs("div",{className:"absolute top-full right-0 mt-1 w-36 bg-white rounded-md shadow-lg border border-zinc-200 z-10 hidden group-focus-within:block group-hover:block",children:[u.jsxs("button",{onClick:()=>{v({semester:$}),m(ge=>({...ge,semester:!0}))},className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-100",children:[u.jsx(PM,{className:"w-4 h-4"})," Editar"]}),u.jsxs("button",{onClick:()=>F($),className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[u.jsx(Ah,{className:"w-4 h-4"})," Eliminar"]})]})]})]}),u.jsx("div",{className:"space-y-1.5 min-h-[3rem]",children:ue.map(ge=>u.jsxs("div",{className:"bg-white p-2 rounded flex justify-between items-center shadow-sm",children:[u.jsx("p",{className:"text-sm font-medium text-zinc-700",children:ge.name}),u.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded-full ${ws[ge.status].bg} ${ws[ge.status].text}`,children:ws[ge.status].name})]},ge.id))})]},$.id)})})]})]}),u.jsx(bM,{isOpen:f.semester,onClose:()=>m({...f,semester:!1}),onSave:d.onSaveSemester,semesterToEdit:x.semester}),u.jsx(EM,{isOpen:f.subject,onClose:()=>m({...f,subject:!1}),onSave:d.onSaveSubject,subjectToEdit:x.subject,allSubjects:e}),u.jsx(_M,{isOpen:!!C,onClose:()=>S(null),subject:C,allSubjects:e}),N&&u.jsx(VM,{isOpen:!!N,onClose:()=>w(null),semester:N,subjects:e,exams:o,onUnassignSubject:d.onUnassignSubject,onUpdateSubjectStatusAndGrade:d.onUpdateSubjectStatusAndGrade,onPromptForGrade:d.onPromptForGrade,onSaveExam:d.onSaveExam,onDeleteExam:d.onDeleteExam})]})},$M=n=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[u.jsx("path",{d:"M12 14.25c-2.43 0-4.68.62-6.53 1.69.58 1.13 1.34 2.14 2.26 3.06 1.32.96 2.82 1.5 4.38 1.5s3.06-.54 4.38-1.5c.92-.92 1.68-1.93 2.26-3.06C16.68 14.87 14.43 14.25 12 14.25Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14.25A5.25 5.25 0 0 0 17.25 9V6.75a5.25 5.25 0 0 0-5.25-5.25A5.25 5.25 0 0 0 6.75 6.75V9a5.25 5.25 0 0 0 5.25 5.25Z"})]}),JM=({subjects:n,exams:e,semesters:o,onNavigate:l})=>{const{subjectsInCurrentSemester:d,currentSemesterLabel:f}=A.useMemo(()=>{const x=new Date,v=x.getFullYear(),y=x.getMonth()<6?"Primer Cuatrimestre":"Segundo Cuatrimestre",C=o.find(_=>_.year===v&&_.term===y),S=C?`${C.term} ${C.year}`:"Cuatrimestre Actual";if(!C)return{subjectsInCurrentSemester:[],currentSemesterLabel:S};const N=new Map(n.map(_=>[_.id,_]));return{subjectsInCurrentSemester:C.subjectIds.map(_=>N.get(_)).filter(_=>!!_),currentSemesterLabel:S}},[o,n]),m=A.useMemo(()=>{const x=new Date;x.setHours(0,0,0,0);const v=new Map(n.map(g=>[g.id,g.name]));return e.filter(g=>new Date(g.date+"T00:00:00Z")>=x&&g.grade===null).sort((g,y)=>new Date(g.date).getTime()-new Date(y.date).getTime()).slice(0,3).map(g=>({...g,subjectName:v.get(g.subjectId)||"Materia desconocida"}))},[e,n]);return u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md cursor-pointer hover:shadow-lg transition-shadow",onClick:l,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx($M,{className:"w-6 h-6 text-teal-500"}),u.jsx("h3",{className:"text-xl font-semibold text-zinc-700",children:"Resumen Acadmico"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-semibold text-zinc-600 mb-2",children:f}),d.length>0?u.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(x=>u.jsx("div",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:x.name},x.id))}):u.jsx("div",{className:"text-center py-2",children:u.jsx("p",{className:"text-sm text-zinc-500",children:"No hay materias definidas para este cuatrimestre."})})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-zinc-600 mb-2",children:"Prximos Exmenes"}),m.length>0?u.jsx("div",{className:"space-y-2",children:m.map(x=>u.jsxs("div",{className:"p-2 bg-stone-50 rounded-md text-sm",children:[u.jsxs("div",{className:"flex justify-between font-medium text-zinc-800",children:[u.jsx("span",{className:"truncate pr-2",children:x.subjectName}),u.jsx("span",{className:"text-teal-600 capitalize flex-shrink-0",children:x.type})]}),u.jsx("div",{className:"text-xs text-zinc-500 mt-0.5",children:new Date(x.date+"T00:00:00Z").toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"short"})})]},x.id))}):u.jsx("div",{className:"text-center py-4",children:u.jsx("p",{className:"text-sm text-zinc-500",children:"No hay prximos exmenes programados."})})]})]})},KM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),ZM=({isOpen:n,onClose:e,onSave:o,subjectName:l})=>{const[d,f]=A.useState(""),[m,x]=A.useState("");if(A.useEffect(()=>{n&&(f(""),x(""))},[n]),!n)return null;const v=g=>{g.preventDefault();const y=parseFloat(d);if(isNaN(y)||y<1||y>10){x("Por favor, introduce una nota vlida entre 1 y 10.");return}o(y)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[80] flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:g=>g.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:"Aadir Nota Final"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-zinc-100",children:u.jsx(KM,{className:"w-6 h-6 text-zinc-500"})})]}),u.jsxs("p",{className:"mb-4 text-zinc-600",children:["Materia: ",u.jsx("span",{className:"font-semibold text-zinc-800",children:l})]}),u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"final-grade-input",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Nota Final (1-10)"}),u.jsx("input",{type:"number",id:"final-grade-input",value:d,onChange:g=>f(g.target.value),step:"0.01",min:"1",max:"10",autoFocus:!0,className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"Ej: 7.50"})]}),m&&u.jsx("p",{className:"text-red-600 text-sm",children:m}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-violet-700",children:"Guardar Nota"})]})]})]})})},XM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),QM=({isOpen:n,onClose:e,onSave:o,exam:l,subjectName:d})=>{const[f,m]=A.useState(""),[x,v]=A.useState("");if(A.useEffect(()=>{var y;n&&(m(((y=l==null?void 0:l.grade)==null?void 0:y.toString())||""),v(""))},[n,l]),!n||!l)return null;const g=y=>{y.preventDefault();const C=parseFloat(f);if(f.trim()===""){o(null);return}if(isNaN(C)||C<1||C>10){v("Por favor, introduce una nota vlida entre 1 y 10.");return}o(C)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[80] flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:y=>y.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800",children:"Cargar Nota de Examen"}),u.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-zinc-100",children:u.jsx(XM,{className:"w-6 h-6 text-zinc-500"})})]}),u.jsxs("p",{className:"mb-1 text-zinc-600",children:["Materia: ",u.jsx("span",{className:"font-semibold text-zinc-800",children:d})]}),u.jsxs("p",{className:"mb-4 text-zinc-600",children:["Examen: ",u.jsx("span",{className:"font-semibold text-zinc-800",children:l.title})]}),u.jsxs("form",{onSubmit:g,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exam-grade-input",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Nota (1-10)"}),u.jsx("input",{type:"number",id:"exam-grade-input",value:f,onChange:y=>m(y.target.value),step:"0.01",min:"1",max:"10",autoFocus:!0,className:"w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"Dejar vaco para quitar nota"})]}),x&&u.jsx("p",{className:"text-red-600 text-sm",children:x}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-violet-700",children:"Guardar Nota"})]})]})]})})},WM=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),eA=({isOpen:n,onClose:e,onConfirm:o,title:l,message:d,confirmText:f,cancelText:m})=>n?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[80] flex justify-center items-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",onClick:x=>x.stopPropagation(),children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:u.jsx(WM,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),u.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[u.jsx("h3",{className:"text-lg leading-6 font-medium text-zinc-900",children:l}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-zinc-500",children:d})})]})]}),u.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[u.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:o,children:f||"Confirmar"}),u.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-zinc-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-zinc-700 hover:bg-zinc-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:e,children:m||"Cancelar"})]})]})}):null,tA=({step:n,currentStep:e,totalSteps:o,onNext:l,onPrev:d,onClose:f})=>{const[m,x]=A.useState({top:0,left:0}),v=A.useRef(null);return A.useLayoutEffect(()=>{const g=()=>{if(!v.current||n.position==="center")return;const C=document.querySelector(n.element);if(!C)return;const S=C.getBoundingClientRect(),N=v.current.getBoundingClientRect(),w=12;let _=0,O=0;const E=S.top+S.height/2-N.height/2,P=S.left+S.width/2-N.width/2;switch(n.position){case"top":_=S.top-N.height-w,O=P;break;case"bottom":_=S.bottom+w,O=P;break;case"left":_=E,O=S.left-N.width-w;break;case"right":_=E,O=S.right+w;break;default:_=S.bottom+w,O=P;break}_<w&&(_=w),O<w&&(O=w),_+N.height>window.innerHeight-w&&(_=window.innerHeight-N.height-w),O+N.width>window.innerWidth-w&&(O=window.innerWidth-N.width-w),x({top:_,left:O})},y=setTimeout(g,300);return window.addEventListener("resize",g),()=>{clearTimeout(y),window.removeEventListener("resize",g)}},[n]),u.jsxs("div",{ref:v,className:`fixed z-[1001] w-80 bg-white rounded-lg shadow-2xl p-5 transition-all duration-300 ${n.position==="center"?"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2":""}`,style:n.position!=="center"?{top:`${m.top}px`,left:`${m.left}px`}:{},onClick:g=>g.stopPropagation(),children:[u.jsx("h3",{className:"text-lg font-bold text-zinc-800",children:n.title}),u.jsx("p",{className:"text-sm text-zinc-600 mt-2",children:n.content}),u.jsxs("div",{className:"flex justify-between items-center mt-4",children:[u.jsxs("span",{className:"text-xs font-medium text-zinc-500",children:[e+1," / ",o]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:f,className:"text-xs font-bold text-zinc-600 hover:text-zinc-900",children:"Saltar Tour"}),e>0&&u.jsx("button",{onClick:d,className:"px-3 py-1 bg-zinc-200 text-sm font-semibold rounded-md hover:bg-zinc-300",children:"Anterior"}),u.jsx("button",{onClick:l,className:"px-3 py-1 bg-teal-600 text-white text-sm font-semibold rounded-md hover:bg-teal-700",children:e===o-1?"Finalizar":"Siguiente"})]})]})]})},Es=({isOpen:n,onClose:e,steps:o})=>{const[l,d]=A.useState(0);if(A.useEffect(()=>{n||setTimeout(()=>d(0),300)},[n]),A.useEffect(()=>{if(n&&o[l]){const y=o[l];if(y.element!=="body"&&y.position!=="center"){const C=document.querySelector(y.element);C&&C.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},[l,n,o]),!n)return null;const f=()=>{l<o.length-1?d(l+1):e()},m=()=>{l>0&&d(l-1)},x=o[l],v=x?document.querySelector(x.element):null,g=v&&x.position!=="center"?{position:"absolute",top:`${v.getBoundingClientRect().top-4}px`,left:`${v.getBoundingClientRect().left-4}px`,width:`${v.getBoundingClientRect().width+8}px`,height:`${v.getBoundingClientRect().height+8}px`,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.6), 0 0 15px rgba(255, 255, 255, 0.7)",borderRadius:"8px",zIndex:1e3,pointerEvents:"none",transition:"all 0.3s ease-in-out"}:{position:"absolute",top:"50%",left:"50%",width:"0px",height:"0px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.6)",zIndex:1e3};return u.jsx("div",{className:"fixed inset-0 z-[999]",onClick:e,children:x&&u.jsxs(u.Fragment,{children:[u.jsx("div",{style:g}),u.jsx(tA,{step:x,currentStep:l,totalSteps:o.length,onNext:f,onPrev:m,onClose:e})]})})},nA=[{id:"user-1",name:"Vicki",pairedWith:null},{id:"user-2",name:"Lucas",pairedWith:null}],Qc=({length:n,value:e,onChange:o,error:l})=>{const d=A.useRef([]),f=e.split(""),m=(v,g)=>{var C;const y=v.target.value;if(/^[0-9]$/.test(y)||y===""){const S=[...f];for(;S.length<n;)S.push("");S[g]=y;const N=S.slice(0,n).join("");o(N),y&&g<n-1&&((C=d.current[g+1])==null||C.focus())}},x=(v,g)=>{var y;v.key==="Backspace"&&!f[g]&&g>0&&((y=d.current[g-1])==null||y.focus())};return A.useEffect(()=>{d.current=d.current.slice(0,n)},[n]),u.jsxs("div",{className:`flex justify-center gap-2 sm:gap-3 ${l?"animate-shake":""}`,children:[u.jsx("style",{children:`
            @keyframes shake {
                10%, 90% { transform: translate3d(-1px, 0, 0); }
                20%, 80% { transform: translate3d(2px, 0, 0); }
                30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
                40%, 60% { transform: translate3d(4px, 0, 0); }
            }
            .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }
        `}),Array.from({length:n}).map((v,g)=>u.jsx("input",{ref:y=>{d.current[g]=y},type:"tel",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:f[g]||"",onChange:y=>m(y,g),onKeyDown:y=>x(y,g),className:"w-12 h-14 sm:w-14 sm:h-16 text-center text-2xl sm:text-3xl font-bold border-2 border-zinc-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition"},g))]})},iA=({isOpen:n,onClose:e,onSave:o,currentUser:l})=>{const[d,f]=A.useState(""),[m,x]=A.useState(""),[v,g]=A.useState(""),[y,C]=A.useState(""),S=()=>{f(""),x(""),g(""),C("")},N=()=>{S(),e()},w=()=>{if(C(""),l.pin&&d!==l.pin){C("El PIN actual es incorrecto.");return}if(m.length!==4){C("El nuevo PIN debe tener 4 dgitos.");return}if(m!==v){C("Los nuevos PIN no coinciden.");return}o(m),S()};return A.useEffect(()=>{n||S()},[n]),n?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:N,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:_=>_.stopPropagation(),children:[u.jsx("h2",{className:"text-2xl font-bold text-zinc-800 mb-6 text-center",children:"Cambiar PIN"}),u.jsxs("div",{className:"space-y-6",children:[l.pin&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-center text-sm font-medium text-zinc-700 mb-2",children:"PIN Actual"}),u.jsx(Qc,{length:4,value:d,onChange:f})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-center text-sm font-medium text-zinc-700 mb-2",children:"Nuevo PIN"}),u.jsx(Qc,{length:4,value:m,onChange:x})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-center text-sm font-medium text-zinc-700 mb-2",children:"Confirmar Nuevo PIN"}),u.jsx(Qc,{length:4,value:v,onChange:g})]})]}),y&&u.jsx("p",{className:"text-red-600 text-sm mt-4 text-center",children:y}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-6 mt-4 border-t border-zinc-200",children:[u.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-white border border-zinc-300 rounded-md text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-teal-600 border border-transparent rounded-md text-sm font-medium text-white shadow-sm hover:bg-teal-700",children:"Guardar Cambios"})]})]})}):null},io=(n,e=new Date)=>{const o=new Date(e);o.setDate(o.getDate()+1);const l=o.getDay();let d=n-l;return d<0&&(d+=7),o.setDate(o.getDate()+d),o.toISOString().split("T")[0]},_h=[{id:"routine-gym-1",title:"Gimnasio",time:"07:00",description:"Entrenamiento de fuerza.",category:"personal",frequency:"weekly",daysOfWeek:[1,3,5],startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date(new Date().getFullYear(),new Date().getMonth()+2,0).toISOString().split("T")[0],reminder:!0,color:"#3B82F6"},{id:"routine-meeting-2",title:"Reunin de Equipo",time:"09:30",description:"Revisin semanal de proyectos.",category:"trabajo",frequency:"weekly",daysOfWeek:[2],startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date(new Date().getFullYear(),new Date().getMonth()+2,0).toISOString().split("T")[0],reminder:!0,color:"#22C55E"}],Dh=[{id:"event-dinner-1",title:"Cena con amigos",date:io(5),time:"20:30",category:"personal",reminder:!0,color:"#EC4899",completed:!1},{id:"event-dentist-2",title:"Cita con el dentista",date:new Date(new Date().setDate(new Date().getDate()+10)).toISOString().split("T")[0],time:"15:00",category:"otro",reminder:!0,color:"#64748B",completed:!1},{id:Tn(),routineId:"routine-gym-1",title:"Gimnasio",date:io(1),time:"07:00",category:"personal",reminder:!0,color:"#3B82F6",completed:!1},{id:Tn(),routineId:"routine-gym-1",title:"Gimnasio",date:io(3),time:"07:00",category:"personal",reminder:!0,color:"#3B82F6",completed:!1},{id:Tn(),routineId:"routine-gym-1",title:"Gimnasio",date:io(5),time:"07:00",category:"personal",reminder:!0,color:"#3B82F6",completed:!1},{id:Tn(),routineId:"routine-meeting-2",title:"Reunin de Equipo",date:io(2),time:"09:30",category:"trabajo",reminder:!0,color:"#22C55E",completed:!1},{id:Tn(),routineId:"routine-meeting-2",title:"Reunin de Equipo",date:io(2,new Date(io(2))),time:"09:30",category:"trabajo",reminder:!0,color:"#22C55E",completed:!1}],Rh=[{id:"trip-1",title:"Aventura en la Montaa",destination:"Bariloche, Argentina",startDate:"2024-01-15",endDate:"2024-01-22",notes:"Un viaje increble lleno de trekking y paisajes espectaculares. El chocolate caliente fue el mejor.",highlights:[{id:"h-1-1",date:"2024-01-16",title:"Cerro Campanario",description:"Vistas panormicas de 360 grados de los lagos y montaas. Impresionante.",emotion:""},{id:"h-1-2",date:"2024-01-18",title:"Circuito Chico",description:"Recorrido en coche por los lugares ms icnicos, con paradas en miradores.",emotion:""},{id:"h-1-3",date:"2024-01-20",title:"Caminata a Refugio Frey",description:"Un trekking desafiante pero con una recompensa increble al llegar a la laguna y el refugio.",emotion:""}]},{id:"trip-2",title:"Explorando la Historia",destination:"Roma, Italia",startDate:"2024-05-10",endDate:"2024-05-17",notes:"Cada esquina cuenta una historia. La comida es simplemente de otro nivel.",highlights:[{id:"h-2-1",date:"2024-05-11",title:"El Coliseo",description:"Visita al amanecer para evitar las multitudes. Se senta la historia en el aire.",emotion:""},{id:"h-2-2",date:"2024-05-13",title:"El Vaticano",description:"La Baslica de San Pedro y los Museos Vaticanos. La Capilla Sixtina es indescriptible.",emotion:""}]}],kh=[{date:new Date(Date.now()-864e5).toISOString().split("T")[0],timestamp:new Date(Date.now()-864e5).toISOString(),positiveThought:"Hoy doy gracias por la conversacin que tuve con un viejo amigo. Me hizo darme cuenta de lo importante que es mantener esas conexiones.",lessonLearned:"Aprend que a veces, tomarse un descanso de 5 minutos puede cambiar completamente mi productividad por la tarde.",dayTitle:"Una llamada que alegra el alma",emotionEmoji:""},{date:new Date(Date.now()-3*864e5).toISOString().split("T")[0],timestamp:new Date(Date.now()-3*864e5).toISOString(),positiveThought:"Logr terminar un proyecto en el que estaba atascado. La sensacin de logro es increble.",lessonLearned:"La perseverancia realmente vale la pena. No rendirse ante el primer obstculo es clave.",dayTitle:"Da de romper barreras",emotionEmoji:""},{date:new Date(Date.now()-7*864e5).toISOString().split("T")[0],timestamp:new Date(Date.now()-7*864e5).toISOString(),positiveThought:"Disfrut de una simple taza de caf por la maana, viendo el sol salir. Los pequeos momentos son los mejores.",lessonLearned:"No necesito grandes eventos para sentirme feliz. La paz se encuentra en las pequeas cosas cotidianas.",dayTitle:"Calma matutina",emotionEmoji:""}],Ih=[{id:"proj-1",title:"Aprender a tocar la guitarra",description:"Ser capaz de tocar mis 5 canciones favoritas para fin de ao.",icon:"",category:"Creatividad"},{id:"proj-2",title:"Operacin Maratn",description:"Correr una maratn completa en menos de 4 horas.",icon:"",category:"Salud",targetDate:"2024-11-25"}],jh=[{id:"task-1-1",projectId:"proj-1",text:"Comprar una guitarra acstica",status:"done"},{id:"task-1-2",projectId:"proj-1",text:"Aprender los 4 acordes bsicos (G, C, D, Em)",status:"inProgress"},{id:"task-1-3",projectId:"proj-1",text:"Practicar cambios de acordes durante 15 min al da",status:"todo"},{id:"task-2-1",projectId:"proj-2",text:"Investigar planes de entrenamiento",status:"done"},{id:"task-2-2",projectId:"proj-2",text:"Comprar zapatillas para correr adecuadas",status:"done"},{id:"task-2-3",projectId:"proj-2",text:"Correr 10km sin parar",status:"inProgress"},{id:"task-2-4",projectId:"proj-2",text:"Inscribirme a una media maratn",status:"todo"}],oA=[{id:"list-supermercado-1",title:"Supermercado",icon:"",ownerId:"user-1",isShared:!1,items:[{id:"item-1-1",text:"Leche",completed:!1},{id:"item-1-2",text:"Huevos",completed:!0},{id:"item-1-3",text:"Pan",completed:!1},{id:"item-1-4",text:"Pollo",completed:!1}]},{id:"list-cuentas-2",title:"Cuentas por Pagar",icon:"",ownerId:"user-1",isShared:!1,items:[{id:"item-2-1",text:"Pagar factura de luz",completed:!1},{id:"item-2-2",text:"Pagar internet",completed:!1},{id:"item-2-3",text:"Suscripcin de msica",completed:!0}]}],Lh=[{id:"sem-1",year:2024,term:"Primer Cuatrimestre",subjectIds:["sub-1"]},{id:"sem-2",year:2023,term:"Segundo Cuatrimestre",subjectIds:["sub-2","sub-3"]}],zh=[{id:"sub-1",name:"Anlisis Matemtico II",status:"cursando",finalGrade:null,prerequisiteIds:["sub-2"]},{id:"sub-2",name:"Anlisis Matemtico I",status:"aprobada",finalGrade:8,prerequisiteIds:[]},{id:"sub-3",name:"lgebra y Geometra Analtica",status:"aprobada",finalGrade:7,prerequisiteIds:[]},{id:"sub-4",name:"Fsica I",status:"pendiente",finalGrade:null,prerequisiteIds:["sub-2","sub-3"]}],Uh=[{id:"exam-1",subjectId:"sub-1",type:"parcial",title:"Primer Parcial",date:new Date(new Date().setDate(new Date().getDate()+14)).toISOString().split("T")[0],time:"09:00",grade:null,topics:`Integrales Dobles
Series de Fourier
Transformada de Laplace`},{id:"exam-2",subjectId:"sub-2",type:"final",title:"Final",date:"2023-12-15",time:"14:00",grade:8,topics:`Lmites y Continuidad
Derivadas y Aplicaciones
Integrales Simples`}],Vh=n=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5.25H9.75M9 8.25H9.75M9 11.25H9.75M9 14.25H9.75M9 17.25H9.75M15 5.25H15.75M15 8.25H15.75M15 11.25H15.75M15 14.25H15.75M15 17.25H15.75"})});function lA(){var ii;const[n,e]=A.useState(!0),[o,l]=Be("users",nA),[d,f]=Be("pairingRequests",[]),[m,x]=A.useState(null),[v,g]=A.useState(new Date),[y,C]=A.useState(new Date),S=`events_${m==null?void 0:m.id}`,N=`routines_${m==null?void 0:m.id}`,w=`journal_entries_${m==null?void 0:m.id}`,_=`notifications_${m==null?void 0:m.id}`,O=`projects_${m==null?void 0:m.id}`,E=`tasks_${m==null?void 0:m.id}`,P=`trips_${m==null?void 0:m.id}`,L=`semesters_${m==null?void 0:m.id}`,I=`subjects_${m==null?void 0:m.id}`,F=`exams_${m==null?void 0:m.id}`,K=`summary_order_${m==null?void 0:m.id}`,J=`main_panel_order_${m==null?void 0:m.id}`,[oe,$]=Be(S,Dh),[re,ue]=Be(N,_h),[te,ge]=Be(w,kh),[He,se]=Be(O,Ih),[R,q]=Be(E,jh),[ie,ce]=Be(P,Rh),[ye,k]=Be("all_shopping_lists",oA),[W,ne]=Be(L,Lh),[ae,xe]=Be(I,zh),[Ce,Ne]=Be(F,Uh),[ft,Ge]=A.useState(!1),[Ei,Sn]=A.useState(!1),[xl,Mi]=A.useState(!1),[bn,Nn]=A.useState(!1),[vl,_s]=A.useState(!1),[Ds,ao]=A.useState(!1),[yl,ro]=A.useState(!1),[hr,Cl]=A.useState(!1),[Et,Tl]=A.useState(!1),[Rs,uo]=A.useState(!1),[co,fo]=A.useState(!1),[ks,Sl]=A.useState(!1),[gr,wn]=A.useState(!1),[Ke,Yt]=A.useState(null),[ct,bl]=A.useState(null),[xr,mo]=A.useState(null),[po,En]=A.useState(null),[Wn,Mn]=A.useState(null),[ei,Ai]=A.useState(null),[_i,ho]=A.useState(null),[Ut,An]=A.useState(null),[vr,go]=A.useState([]),[xo,_n]=Be(_,[]),[Di,vo]=Be("notifications_muted",!1),{sendSystemNotification:Nl}=cd(),[wl,Vt]=Be(`notified_events_${m==null?void 0:m.id}`,[]),[nt,mt]=Be(`last_reflection_prompt_${m==null?void 0:m.id}`,""),[Mt,pt]=A.useState("planner"),[yo,Dn]=A.useState("Personal"),Is=["home","academic","goals"],[ti,El]=Be(K,Is),on=A.useRef(null),ln=A.useRef(null),Ri=["schedule","reflection","partnerNotes"],[Rn,it]=Be(J,Ri),ki=A.useRef(null),Ii=A.useRef(null),kn=`tour_completed_main_${m==null?void 0:m.id}`,[In,yr]=Be(kn,!1),[js,Co]=A.useState(!1),[Ls,To]=Be(`tour_completed_home_${m==null?void 0:m.id}`,!1),[ji,sn]=Be(`tour_completed_goals_${m==null?void 0:m.id}`,!1),[At,zs]=Be(`tour_completed_academic_${m==null?void 0:m.id}`,!1),[Us,Ml]=Be(`tour_completed_travel_${m==null?void 0:m.id}`,!1),[Vs,ni]=A.useState(!1),[Cr,Ct]=A.useState(!1),[Al,So]=A.useState(!1),[_l,pn]=A.useState(!1),Ps=()=>{if(on.current===null||ln.current===null)return;const D=[...ti],U=D.splice(on.current,1)[0];D.splice(ln.current,0,U),on.current=null,ln.current=null,El(D)},qs=()=>{if(ki.current===null||Ii.current===null)return;const D=[...Rn],U=D.splice(ki.current,1)[0];D.splice(Ii.current,0,U),ki.current=null,Ii.current=null,it(D)};A.useEffect(()=>{const D=setTimeout(()=>e(!1),2e3);return()=>clearTimeout(D)},[]);const pe=A.useMemo(()=>m!=null&&m.pairedWith&&o.find(D=>D.id===m.pairedWith)||null,[m,o]),Tr=A.useMemo(()=>{const D=[{element:"body",title:"Bienvenido/a a ConectaMente!",content:"Este tour te guiar por las funciones principales. Puedes usar los botones para navegar o hacer clic fuera para salir.",position:"center"},{element:"#header-nav",title:"Navegacin Principal",content:"Desde aqu puedes navegar entre las secciones clave: tu Planificador (la vista actual), Hogar, Metas, Acadmico y Viajes.",position:"bottom"},{element:"#header-nav-home",title:"Seccin: Mi Hogar",content:"Aqu puedes organizar tus listas de compras, tareas del hogar y ms. Todo lo que necesitas para gestionar tu espacio personal y familiar.",position:"bottom"},{element:"#header-nav-goals",title:"Seccin: Metas",content:"Define tus grandes proyectos y ambiciones. Desglsalos en tareas ms pequeas y sigue tu progreso para alcanzar tus sueos.",position:"bottom"},{element:"#header-nav-academic",title:"Seccin: Acadmico",content:"Lleva un control completo de tu carrera. Gestiona materias, correlatividades, fechas de examen y tus calificaciones, todo en un solo lugar.",position:"bottom"},{element:"#header-nav-travel",title:"Seccin: Viajes",content:"Crea una bitcora digital de tus aventuras. Guarda tus destinos, fechas y pega los mejores recuerdos y fotos de cada viaje.",position:"bottom"},{element:"#calendar-view",title:"Tu Calendario",content:"Este es tu calendario. Te da una vista general de tus eventos del mes. Haz clic en un da para ver o aadir eventos para esa fecha especfica.",position:"left"},{element:"#schedule-panel",title:"Agenda del Da",content:"Aqu vers los eventos del da seleccionado. Puedes aadir nuevos eventos, gestionar rutinas y marcar tareas como completadas.",position:"right"},{element:"#reflection-panel",title:"Reflexin Diaria",content:"Tmate un momento cada da para conectar contigo. Guarda tus pensamientos, lecciones aprendidas y cmo te sentiste.",position:"right"},{element:"#summary-column",title:"Resmenes Rpidos",content:"En esta columna tienes vistas rpidas de tus otras secciones. Y puedes arrastrarlas para reordenarlas como prefieras!",position:"left"}];return pe&&D.push({element:"#couple-space-tab",title:"Espacio de Conexiones",content:"Este es su espacio privado para compartir notas, cmo se sienten y conectar a un nivel ms profundo.",position:"bottom"}),D.push({element:"#user-menu",title:"Tu Perfil y Conexiones",content:"Desde aqu gestionas tu perfil, la seguridad y, muy importante, tus 'Conexiones'. Puedes vincular tu cuenta con la de tu pareja para compartir un espacio privado.",position:"left"}),D.push({element:"body",title:"Todo listo!",content:"Has completado el tour. Explora y haz de ConectaMente tu espacio. Recuerda que puedes volver a hacer este tour desde el men de usuario.",position:"center"}),D},[pe]),Hs=[{element:"#home-panel-header",title:"Seccin Mi Hogar",content:"Este espacio es para organizar las tareas y listas de tu da a da, ya sea personal o para compartir.",position:"bottom"},{element:"#home-add-list-btn",title:"Crear una Lista",content:"Usa este botn para crear cualquier tipo de lista: supermercado, cuentas por pagar, tareas del hogar, etc.",position:"bottom"},{element:"#list-card-example",title:"Tus Listas",content:"Cada lista que crees aparecer aqu. Puedes editarla o eliminarla usando los conos que aparecen al pasar el mouse.",position:"bottom"},{element:"#add-list-item-form-example",title:"Aadir Elementos",content:"Escribe aqu para aadir un nuevo tem a la lista y presiona el botn '+' o Enter.",position:"top"},{element:"#list-item-checkbox-example",title:"Completar Tareas",content:"Marca la casilla para tachar un elemento. Qu satisfaccin!",position:"right"},...pe?[{element:"#share-list-btn-example",title:"Compartir Listas",content:"Puedes compartir listas para que tu pareja pueda verlas y editarlas en tiempo real.",position:"left"}]:[],{element:"body",position:"center",title:"Hogar, dulce hogar organizado",content:"Ya ests listo/a para mantener todo en orden."}],Bs=[{element:"#goals-panel-header",title:"Seccin de Metas",content:"Aqu puedes dar vida a tus grandes ambiciones. Define proyectos, desglsalos en tareas y sigue tu progreso.",position:"bottom"},{element:"#goals-add-project-btn",title:"Crear un Proyecto",content:"Usa este botn para empezar un nuevo proyecto o meta. Dale un nombre, un cono y una descripcin motivadora.",position:"bottom"},{element:"#project-card-example",title:"Tu Proyecto",content:"Cada proyecto se muestra as. Haz clic para expandir y ver las tareas. La barra muestra tu progreso general.",position:"bottom"},{element:"#add-task-form-example",title:"Aadir Tareas",content:"Una vez expandido un proyecto, puedes aadir tareas manualmente aqu. Divide y vencers!",position:"top"},{element:"#ai-task-suggester-example",title:"Sugerencias con IA",content:"No sabes por dnde empezar? Pide a la IA que te sugiera los primeros pasos para tu proyecto.",position:"top"},{element:"body",position:"center",title:"A conquistar!",content:"Ya sabes cmo organizar tus metas. El primer paso es el ms importante!"}],Dl=[{element:"#academic-panel-header",title:"Panel Acadmico",content:"Gestiona toda tu carrera desde aqu. Organiza tus materias, cuatrimestres y lleva un control de tus exmenes y notas.",position:"bottom"},{element:"#subject-bank",title:"Banco de Materias",content:"Esta es tu 'caja' con todas las materias de tu plan de estudios. Adelas con el botn de arriba.",position:"right"},{element:"#draggable-subject-example",title:"Arrastrar y Soltar",content:"Arrastra una materia desde el banco y sultala en un cuatrimestre para asignarla. Si tiene un candado, significa que an no cumpliste sus correlativas.",position:"right"},{element:"#semester-timeline",title:"Lnea de Tiempo",content:"Aqu organizas tus cuatrimestres. Puedes crearlos, editarlos y ver qu materias cursas en cada uno.",position:"left"},{element:"#semester-card-example",title:"Detalles del Cuatrimestre",content:"Haz clic en el ttulo de un cuatrimestre para abrir una vista detallada donde puedes gestionar exmenes y cambiar el estado de las materias.",position:"left"},{element:"#academic-progress-toggle",title:"Ver Progreso",content:"Haz clic aqu para desplegar un resumen visual de tu avance en la carrera y tu promedio general.",position:"left"},{element:"body",position:"center",title:"xito en tus estudios!",content:"Ahora tienes el control total de tu recorrido acadmico."}],Sr=[{element:"#travel-log-header",title:"Bitcora de Viajes",content:"Este es tu diario de aventuras. Guarda cada viaje y colecciona tus recuerdos ms preciados.",position:"bottom"},{element:"#travel-add-trip-btn",title:"Aadir un Viaje",content:"Haz clic aqu para registrar un nuevo viaje. Podrs aadir destino, fechas y una foto de portada.",position:"bottom"},{element:"#trip-card-example",title:"Tus Viajes",content:"Cada viaje se muestra como una foto polaroid. Haz clic en una para abrirla y ver todos los detalles y recuerdos.",position:"bottom"},{element:"body",position:"center",title:"A viajar!",content:"Cuando entres a un viaje, podrs aadir 'Recuerdos' (fotos, notas, emociones) y pedirle a la IA que te d ideas. Buen viaje!"}],Gs=A.useMemo(()=>m?ye.filter(D=>D.ownerId===m.id||D.isShared&&D.ownerId===(pe==null?void 0:pe.id)):[],[ye,m,pe]),jn=A.useMemo(()=>!m||!pe?null:[m.id,pe.id].sort().join("_"),[m,pe]),[_t,Rl]=Be(`qa_sessions_${jn}`,[]),[hn,$t]=Be(`partner_notes_${jn}`,[]),[Rt,Fs]=Be(`shared_emotions_${jn}`,[]),bo=A.useMemo(()=>{const D=new Map(ae.map(U=>[U.id,U]));return Ce.map(U=>{const z=D.get(U.subjectId);return z?{id:`exam-${U.id}`,title:`[${U.type==="final"?"Final":"Parcial"}] ${z.name}`,date:U.date,time:U.time,category:"otro",reminder:!0,color:"#8B5CF6",completed:U.grade!==null,isAcademic:!0}:null}).filter(U=>U!==null)},[Ce,ae]),an=A.useMemo(()=>[...oe,...bo],[oe,bo]);A.useEffect(()=>{if(!m)$([]),ue([]),ge([]),_n([]),go([]),Vt([]),se([]),q([]),ce([]),ne([]),xe([]),Ne([]);else{const D=`events_${m.id}`,U=localStorage.getItem(D);$(U?JSON.parse(U):Dh);const z=`routines_${m.id}`,H=localStorage.getItem(z);ue(H?JSON.parse(H):_h);const le=`journal_entries_${m.id}`,we=localStorage.getItem(le);ge(we?JSON.parse(we):kh);const We=`trips_${m.id}`,zn=localStorage.getItem(We);ce(zn?JSON.parse(zn):Rh);const qi=`projects_${m.id}`,ot=localStorage.getItem(qi);se(ot?JSON.parse(ot):Ih);const Pt=`tasks_${m.id}`,Hl=localStorage.getItem(Pt);q(Hl?JSON.parse(Hl):jh);const Kr=`semesters_${m.id}`,Ws=localStorage.getItem(Kr);ne(Ws?JSON.parse(Ws):Lh);const Zr=`subjects_${m.id}`,St=localStorage.getItem(Zr);xe(St?JSON.parse(St):zh);const Hi=`exams_${m.id}`,Bl=localStorage.getItem(Hi);Ne(Bl?JSON.parse(Bl):Uh)}},[m,$,ue,ge,_n,Vt,se,q,ce,ne,xe,Ne]),A.useEffect(()=>{if(m&&!In){const D=setTimeout(()=>Co(!0),500);return()=>clearTimeout(D)}},[m,In]),A.useEffect(()=>{if(!m)return;const D=setTimeout(()=>{switch(Mt){case"home":Ls||ni(!0);break;case"goals":ji||Ct(!0);break;case"academic":At||So(!0);break;case"travel":Us||pn(!0);break}},500);return()=>clearTimeout(D)},[Mt,m,Ls,ji,At,Us]);const Fe=()=>Tn(),rn=(D,U)=>{const z=o.find(H=>H.id===D);if(!z)return!1;if(!z.pin){const H=o.map(le=>le.id===D?{...le,pin:U}:le);return l(H),x({...z,pin:U}),!0}return z.pin===U?(x(z),!0):!1},kl=()=>{x(null)},Li=D=>{const U={id:Fe(),name:D,pairedWith:null};return l(z=>[...z,U]),U},gn=D=>{if(!m)return;const U=o.map(z=>z.id===m.id?{...z,pin:D}:z);l(U),x(z=>z?{...z,pin:D}:null),Cl(!1)},Il=D=>{if(!m)return;if(!d.find(z=>z.fromUserId===m.id&&z.toUserId===D||z.fromUserId===D&&z.toUserId===m.id)){const z={id:Fe(),fromUserId:m.id,toUserId:D,status:"pending"};f([...d,z])}},No=(D,U)=>{const z=d.find(H=>H.id===D);if(z){if(U==="accepted"){const H=o.find(we=>we.id===z.fromUserId),le=o.find(we=>we.id===z.toUserId);if(H&&le){H.pairedWith=le.id,le.pairedWith=H.id;const we=o.map(We=>We.id===H.id?H:We.id===le.id?le:We);l(we),m&&(m.id===H.id||m.id===le.id)&&x(o.find(We=>We.id===m.id))}f(d.filter(we=>!(we.fromUserId===(H==null?void 0:H.id)&&we.toUserId===(le==null?void 0:le.id))&&!(we.fromUserId===(le==null?void 0:le.id)&&we.toUserId===(H==null?void 0:H.id))))}else f(d.filter(H=>H.id!==D));Nn(!1)}},Os=()=>{if(!m||!m.pairedWith)return;const D=m.pairedWith,U=o.map(z=>z.id===m.id||z.id===D?{...z,pairedWith:null}:z);l(U),x(U.find(z=>z.id===m.id)),Nn(!1)},wo=()=>{bl(null),Ge(!0)},Eo=D=>{if(D.routineId){Ze({type:"generic",title:"Evento de Rutina",message:"Para editar, gestiona la rutina que cre este evento."});return}if(D.isAcademic){Ze({type:"generic",title:"Evento Acadmico",message:'Para editar este examen, ve a la seccin "Acadmico".'});return}bl(D),Ge(!0)},jl=()=>{Ge(!1),bl(null)},Tt=D=>{$(ct?oe.map(U=>U.id===ct.id?{...D,id:ct.id}:U):[...oe,{...D,id:Fe(),completed:!1}]),jl()},Ln=D=>{const U=oe.find(z=>z.id===D);if(U!=null&&U.routineId){Ze({type:"generic",title:"No se puede eliminar",message:"Para eliminar este evento, elimina o edita la rutina asociada."});return}if(U!=null&&U.isAcademic){Ze({type:"generic",title:"No se puede eliminar",message:'Para eliminar este examen, ve a la seccin "Acadmico".'});return}$(oe.filter(z=>z.id!==D))},Mo=D=>{const U=an.find(z=>z.id===D);if(U&&U.isAcademic){const z=U.id.replace("exam-",""),H=Ce.find(le=>le.id===z);H&&(H.grade!==null?Pl({...H,grade:null},H.id):$r(H))}else U&&$(oe.map(z=>z.id===D?{...z,completed:!z.completed}:z))},zi=()=>{mo(null),Mi(!1),Sn(!0)},br=D=>{mo(D),Mi(!1),Sn(!0)},Ll=(D,U)=>{var qi;const z=new Date;z.setUTCHours(0,0,0,0);let H;U?(H={...D,id:U},$(ot=>ot.filter(Pt=>Pt.routineId===U?new Date(Pt.date+"T00:00:00Z")<z:!0)),ue(ot=>ot.map(Pt=>Pt.id===U?H:Pt))):(H={...D,id:Fe()},ue(ot=>[...ot,H]));const le=[],we=new Date(H.startDate+"T00:00:00Z"),We=new Date(H.endDate+"T00:00:00Z");let zn=U?we>z?we:z:we;for(let ot=new Date(zn);ot<=We;ot.setUTCDate(ot.getUTCDate()+1)){let Pt=!1;H.frequency==="weekly"?(qi=H.daysOfWeek)!=null&&qi.includes(ot.getUTCDay())&&(Pt=!0):H.frequency==="monthly"&&H.dayOfMonth===ot.getUTCDate()&&(Pt=!0),Pt&&le.push({id:Fe(),routineId:H.id,title:H.title,date:ot.toISOString().split("T")[0],time:H.time,description:H.description,category:H.category,reminder:H.reminder,color:H.color,completed:!1})}$(ot=>[...ot,...le]),Sn(!1),mo(null)},zl=D=>{const U=new Date;U.setUTCHours(0,0,0,0),ue(z=>z.filter(H=>H.id!==D)),$(z=>z.filter(H=>H.routineId===D?new Date(H.date+"T00:00:00Z")<U:!0))},Ui=D=>{const U={...D,timestamp:new Date().toISOString()};ge(z=>{const H=z.findIndex(le=>le.date===D.date);if(H>-1){const le=[...z];return le[H]=U,le}else return[...z,U]})},Ao=D=>{Mn(D),Tl(!0)},Ys=()=>{if(!Wn||!m)return;const{timestamp:D,...U}=Wn,z={id:Fe(),authorId:m.id,text:`${m.name} ha compartido su reflexin.`,timestamp:new Date().toISOString(),type:"reflection",reflectionContent:U};$t(H=>[...H,z]),Tl(!1)},Nr=D=>{Ai(D),uo(!0)},wr=()=>{if(!ei||!m)return;const{id:D,...U}=ei,z={id:Fe(),authorId:m.id,text:`${m.name} ha compartido un viaje.`,timestamp:new Date().toISOString(),type:"trip",tripContent:U};$t(H=>[...H,z]),uo(!1)},Er=(D,U)=>{if(!m)return;const z={id:Fe(),authorId:m.id,text:U,timestamp:new Date().toISOString(),type:"note",replyToId:D};$t(H=>[z,...H])},Ul=()=>{En(null),fo(!0)},Mr=D=>{En(D),fo(!0)},Ar=(D,U)=>{se(U?z=>z.map(H=>H.id===U?{...D,id:U}:H):z=>[...z,{...D,id:Fe()}]),fo(!1),En(null)},_r=D=>{se(U=>U.filter(z=>z.id!==D)),q(U=>U.filter(z=>z.projectId!==D))},Dr=(D,U)=>{const z={id:Fe(),projectId:D,text:U,status:"todo"};q(H=>[...H,z])},Rr=(D,U,z)=>{q(H=>H.map(le=>le.id===D?{...le,status:U,text:z??le.text}:le))},$s=D=>{q(U=>U.filter(z=>z.id!==D))},kr=(D,U)=>{const z=U.map(H=>({id:Fe(),projectId:D,text:H,status:"todo"}));q(H=>[...H,...z])},Ir=D=>{ce(U=>{const z=U.findIndex(H=>H.id===D.id);if(z>-1){const H=[...U];return H[z]=D,H}else return[...U,{...D,id:Fe()}]})},jr=D=>{ce(U=>U.filter(z=>z.id!==D))},Lr=(D,U,z)=>{if(z)k(H=>H.map(le=>le.id===z?{...le,title:D,icon:U}:le));else{const H={id:Fe(),title:D,icon:U,items:[],ownerId:m.id,isShared:!1};k(le=>[...le,H])}},Vl=D=>{k(U=>U.filter(z=>z.id!==D))},zr=D=>{k(U=>U.map(z=>z.id===D&&z.ownerId===(m==null?void 0:m.id)?{...z,isShared:!z.isShared}:z))},Ur=(D,U)=>{const z={id:Fe(),text:U,completed:!1};k(H=>H.map(le=>le.id===D?{...le,items:[...le.items,z]}:le))},Vr=(D,U,z,H)=>{k(le=>le.map(we=>we.id===D?{...we,items:we.items.map(We=>We.id===U?{...We,text:z,completed:H,completedBy:H?m.id:void 0}:We)}:we))},Js=(D,U)=>{k(z=>z.map(H=>H.id===D?{...H,items:H.items.filter(le=>le.id!==U)}:H))},Pr=(D,U)=>{ne(U?z=>z.map(H=>H.id===U?{...D,id:U,subjectIds:H.subjectIds}:H):z=>[...z,{...D,id:Fe(),subjectIds:[]}])},qr=D=>{const U=W.find(z=>z.id===D);U&&(xe(z=>z.map(H=>U.subjectIds.includes(H.id)?{...H,status:"pendiente"}:H)),ne(z=>z.filter(H=>H.id!==D)))},Hr=(D,U)=>{xe(U?z=>z.map(H=>H.id===U?{...D,id:U}:H):z=>[...z,{...D,id:Fe()}])},Br=D=>{ne(U=>U.map(z=>({...z,subjectIds:z.subjectIds.filter(H=>H!==D)}))),xe(U=>U.filter(z=>z.id!==D).map(z=>({...z,prerequisiteIds:z.prerequisiteIds.filter(H=>H!==D)}))),Ne(U=>U.filter(z=>z.subjectId!==D))},Pl=(D,U)=>{Ne(U?z=>z.map(H=>H.id===U?{...D,id:U}:H):z=>[...z,{...D,id:Fe()}])},Gr=D=>{Ne(U=>U.filter(z=>z.id!==D))},Fr=(D,U)=>{ne(z=>z.map(H=>H.id===U?{...H,subjectIds:[...H.subjectIds,D]}:H)),xe(z=>z.map(H=>H.id===D?{...H,status:"cursando"}:H))},Or=(D,U)=>{ne(z=>z.map(H=>H.id===U?{...H,subjectIds:H.subjectIds.filter(le=>le!==D)}:H)),xe(z=>z.map(H=>H.id===D?{...H,status:"pendiente"}:H))},Yr=D=>{if(!m||!pe)return;const U={id:Fe(),authorId:m.id,text:`${m.name} ha actualizado una materia.`,timestamp:new Date().toISOString(),type:"subject_update",subjectUpdateContent:{subjectName:D.name,newStatus:D.status,finalGrade:D.finalGrade}};$t(z=>[U,...z]),Ze({type:"new_partner_note",title:"Progreso Acadmico Compartido",message:`${m.name} actualiz el estado de ${D.name}.`})},Vi=(D,U,z=null)=>{let H;const le=ae.map(we=>we.id===D?(H={...we,status:U,finalGrade:U==="aprobada"?z:null},H):we);if(xe(le),pe&&H&&(U==="aprobada"||U==="recursar")){const we=U==="aprobada"?"aprobado":"puesto a recursar";Yt({isOpen:!0,title:`${U==="aprobada"?"Felicitaciones!":"Actualizacin Acadmica"} - Compartir`,message:`Quieres compartir con ${pe.name} que has ${we} "${H.name}"?`,onConfirm:()=>Yr(H),confirmText:"S, compartir",cancelText:"No, gracias"})}},Pi=D=>{ho(D),Sl(!0)},$r=D=>{An(D),wn(!0)},Ks=D=>{if(Ut&&(Pl({...Ut,grade:D},Ut.id),Ut.type==="final"&&D!==null&&D>=4)){const z=ae.find(H=>H.id===Ut.subjectId);z&&z.status!=="aprobada"&&Vi(z.id,"aprobada",D)}wn(!1),An(null)},ql=D=>{_n(U=>U.map(z=>z.id===D?{...z,read:!0}:z))},Zs=()=>{_n(D=>D.map(U=>({...U,read:!0})))},_o=A.useCallback(D=>{switch(window.focus(),D.type){case"event_reminder":if(D.relatedId){const U=an.find(z=>z.id===D.relatedId);U&&(pt(U.isAcademic?"academic":"planner"),Dn("Personal"),C(new Date(U.date+"T00:00:00Z")))}break;case"daily_reflection_prompt":pt("planner"),Dn("Personal"),C(new Date);break;case"pairing_request":case"new_partner_note":case"new_shared_reflection":case"new_shared_emotion":case"new_shared_trip":pe?(pt("planner"),Dn("Pareja")):Nn(!0);break;case"new_qa_question":pt("planner"),Dn("Pareja");break}ql(D.id),vo(!1)},[an,pe]),Ze=A.useCallback(D=>{if(Di&&D.type!=="generic")return;const U={...D,id:Fe(),timestamp:new Date().toISOString(),read:!1};D.type!=="generic"&&_n(z=>[U,...z].slice(0,50)),go(z=>[...z,U]),D.type!=="generic"&&Nl(U.title,{body:U.message,tag:U.relatedId||U.id},()=>_o(U))},[Di,_n,Nl,_o]);A.useEffect(()=>{const U=setInterval(()=>{const z=new Date,H=new Date(z.getTime()+15*6e4);an.forEach(le=>{if(le.reminder&&!wl.includes(le.id)){const we=new Date(`${le.date}T${le.time}:00`);if(we<=H&&we>z){const We=Math.round((we.getTime()-z.getTime())/6e4);Ze({type:"event_reminder",title:`Recordatorio: ${le.title}`,message:`Tu evento ${le.routineId?"(de rutina) ":""}empieza en ${We} minutos.`,relatedId:le.id,data:{date:le.date}}),Vt(zn=>[...zn,le.id])}}})},6e4);return()=>clearInterval(U)},[an,wl,Ze,Vt]),A.useEffect(()=>{const U=setInterval(()=>{const z=new Date,H=z.toISOString().split("T")[0];z.getHours()===20&&nt!==H&&(te.some(we=>we.date===H)||(Ze({type:"daily_reflection_prompt",title:"Cmo fue tu da?",message:"Tmate un momento para tu reflexin diaria. Ayuda a despejar la mente.",data:{date:H}}),mt(H)))},18e5);return()=>clearInterval(U)},[te,nt,Ze,mt]),A.useEffect(()=>{if(!m)return;d.filter(U=>U.toUserId===m.id&&U.status==="pending").forEach(U=>{if(!xo.some(H=>H.relatedId===U.id&&H.type==="pairing_request")){const H=o.find(le=>le.id===U.fromUserId);Ze({type:"pairing_request",title:"Nueva Solicitud de Conexin",message:`${(H==null?void 0:H.name)||"Alguien"} quiere conectar contigo.`,relatedId:U.id})}})},[d,m,o,xo,Ze]);const un=A.useRef(null),Do=A.useRef(null),Ro=A.useRef(null);A.useEffect(()=>{if(pe){const D=[...hn].filter(H=>H.authorId===pe.id).sort((H,le)=>new Date(le.timestamp).getTime()-new Date(H.timestamp).getTime())[0];un.current=(D==null?void 0:D.timestamp)||null;const U=[...Rt].filter(H=>H.emotions[pe.id]).sort((H,le)=>new Date(le.date).getTime()-new Date(H.date).getTime())[0];Do.current=(U==null?void 0:U.date)||null;const z=[..._t].filter(H=>H.askerId===pe.id).sort((H,le)=>new Date(le.askedAt).getTime()-new Date(H.askedAt).getTime())[0];Ro.current=(z==null?void 0:z.id)||null}},[pe,hn,Rt,_t]),A.useEffect(()=>{if(!pe)return;const D=[...hn].filter(U=>U.authorId===pe.id).sort((U,z)=>new Date(z.timestamp).getTime()-new Date(U.timestamp).getTime())[0];D&&D.timestamp!==un.current&&(un.current!==null&&(D.type==="reflection"?Ze({type:"new_shared_reflection",title:"Nueva Reflexin",message:`${pe.name} ha compartido una reflexin.`}):D.type==="trip"?Ze({type:"new_shared_trip",title:"Nuevo Viaje Compartido",message:`${pe.name} ha compartido un viaje.`}):Ze({type:"new_partner_note",title:"Nueva Nota",message:`${pe.name} te ha dejado una nota.`})),un.current=D.timestamp)},[hn,pe,Ze]),A.useEffect(()=>{if(!pe)return;const D=[...Rt].filter(U=>U.emotions[pe.id]).sort((U,z)=>new Date(z.date).getTime()-new Date(U.date).getTime())[0];D&&D.date!==Do.current&&(Do.current!==null&&Ze({type:"new_shared_emotion",title:"Nuevo Estado Emocional",message:`${pe.name} ha compartido cmo se siente.`}),Do.current=D.date)},[Rt,pe,Ze]),A.useEffect(()=>{if(!pe)return;const D=[..._t].filter(U=>U.askerId===pe.id&&!U.answer).sort((U,z)=>new Date(z.askedAt).getTime()-new Date(U.askedAt).getTime())[0];D&&D.id!==Ro.current&&(Ro.current!==null&&Ze({type:"new_qa_question",title:"Nueva Pregunta",message:`${pe.name} te ha hecho una pregunta.`}),Ro.current=D.id)},[_t,pe,Ze]);const Jr=()=>{pt("planner"),Dn("Pareja")};if(n)return u.jsx(CM,{});if(!m)return u.jsx(Bv,{users:o,onLogin:rn,onCreateUser:Li});const Xs=y.toISOString().split("T")[0],Qs=te.find(D=>D.date===Xs);return u.jsxs(u.Fragment,{children:[u.jsx("style",{children:`
        .draggable-summary:active {
          cursor: grabbing;
          transform: scale(1.01);
          z-index: 10;
          box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
      `}),u.jsx(wv,{toastNotifications:vr,setToastNotifications:go}),u.jsxs("div",{className:"min-h-screen font-sans",children:[u.jsx("div",{children:u.jsx(Hv,{user:m,onLogout:kl,onManagePairing:()=>Nn(!0),onManagePin:()=>Cl(!0),notifications:xo,onMarkAsRead:ql,onMarkAllAsRead:Zs,onNotificationClick:_o,isMuted:Di,onToggleMute:()=>vo(D=>!D),onNavigateToPlanner:()=>pt("planner"),onNavigateToTravelLog:()=>pt("travel"),onNavigateToGoals:()=>pt("goals"),onNavigateToHome:()=>pt("home"),onNavigateToAcademic:()=>pt("academic"),activeSection:Mt,onStartTour:()=>Co(!0)})}),u.jsxs("main",{className:"max-w-7xl mx-auto p-2 sm:p-6 lg:p-8",children:[Mt==="planner"&&u.jsxs(u.Fragment,{children:[pe&&u.jsx("div",{id:"couple-space-tab",className:"mb-6 border-b border-zinc-200",children:u.jsxs("nav",{className:"-mb-px flex space-x-4 sm:space-x-8","aria-label":"Tabs",children:[u.jsx("button",{onClick:()=>Dn("Personal"),className:`${yo==="Personal"?"border-teal-500 text-teal-600":"border-transparent text-zinc-500 hover:text-zinc-700 hover:border-zinc-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Planificador Personal"}),u.jsx("button",{onClick:()=>Dn("Pareja"),className:`${yo==="Pareja"?"border-teal-500 text-teal-600":"border-transparent text-zinc-500 hover:text-zinc-700 hover:border-zinc-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Espacio de Conexiones"})]})}),yo==="Personal"||!pe?u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-8",children:[u.jsx("div",{className:"xl:col-span-3 space-y-8",children:(()=>{const D={schedule:u.jsx("div",{id:"schedule-panel",className:"bg-white p-4 sm:p-6 rounded-xl shadow-md",children:u.jsx(gv,{selectedDate:y,events:an,exams:Ce,subjects:ae,onAddEvent:wo,onEditEvent:Eo,onDeleteEvent:Ln,onManageRoutines:()=>Mi(!0),onToggleEventCompletion:Mo})}),reflection:u.jsx("div",{id:"reflection-panel",children:u.jsx(uy,{journalEntries:te,currentJournalEntry:Qs,selectedDate:y,onSave:Ui,onOpenHistory:()=>_s(!0),onOpenShareModal:Ao,partner:pe})}),partnerNotes:pe?u.jsx(oy,{partner:pe,partnerNotes:hn,sharedEmotionStates:Rt,onNavigate:Jr}):null};return Rn.filter(z=>D[z]).map((z,H)=>u.jsxs("div",{draggable:!0,onDragStart:()=>ki.current=H,onDragEnter:()=>Ii.current=H,onDragEnd:qs,onDragOver:le=>le.preventDefault(),className:"draggable-summary group relative cursor-grab transition-transform",children:[u.jsx("div",{className:"absolute top-3 right-3 p-1 bg-white/50 rounded-md text-zinc-400 opacity-0 group-hover:opacity-100 transition-opacity z-10",title:"Arrastrar para reordenar",children:u.jsx(Vh,{className:"w-5 h-5"})}),D[z]]},z))})()}),u.jsxs("div",{id:"summary-column",className:"xl:col-span-2 space-y-8",children:[u.jsx("div",{id:"calendar-view",className:"bg-white p-4 sm:p-6 rounded-xl shadow-md",children:u.jsx(rv,{currentDate:v,setCurrentDate:g,selectedDate:y,onDateSelect:C,events:an,onOpenPrintView:()=>ro(!0)})}),(()=>{const D={home:u.jsx(yM,{shoppingLists:Gs,onNavigate:()=>pt("home")}),academic:u.jsx(JM,{subjects:ae,exams:Ce,semesters:W,onNavigate:()=>pt("academic")}),goals:u.jsx(dM,{projects:He,tasks:R,onNavigate:()=>pt("goals")})};return ti.filter(z=>D[z]).map((z,H)=>u.jsxs("div",{draggable:!0,onDragStart:()=>on.current=H,onDragEnter:()=>ln.current=H,onDragEnd:Ps,onDragOver:le=>le.preventDefault(),className:"draggable-summary group relative cursor-grab transition-transform",children:[u.jsx("div",{className:"absolute top-3 right-3 p-1 bg-white/50 rounded-md text-zinc-400 opacity-0 group-hover:opacity-100 transition-opacity z-10",title:"Arrastrar para reordenar",children:u.jsx(Vh,{className:"w-5 h-5"})}),D[z]]},z))})()]})]}):null,yo==="Pareja"&&pe&&jn&&u.jsx(ny,{currentUser:m,partner:pe,qaSessions:_t,setQaSessions:Rl,partnerNotes:hn,setPartnerNotes:$t,sharedEmotionStates:Rt,setSharedEmotionStates:Fs,onOpenEmotionLog:()=>ao(!0),onAddReply:Er})]}),Mt==="travel"&&u.jsx(TE,{trips:ie,onSaveTrip:Ir,onDeleteTrip:jr,onOpenShareModal:Nr,pairedUser:pe,onStartTour:()=>pn(!0)}),Mt==="academic"&&u.jsx(YM,{semesters:W,subjects:ae,exams:Ce,onSaveSemester:Pr,onDeleteSemester:qr,onSaveSubject:Hr,onDeleteSubject:Br,onSaveExam:Pl,onDeleteExam:Gr,onAssignSubject:Fr,onUnassignSubject:Or,onUpdateSubjectStatusAndGrade:Vi,onPromptForGrade:Pi,onStartTour:()=>So(!0)}),Mt==="goals"&&u.jsx(sM,{projects:He,tasks:R,onAddProject:Ul,onEditProject:Mr,onDeleteProject:_r,onAddTask:Dr,onUpdateTask:Rr,onDeleteTask:$s,onAddMultipleTasks:kr,onStartTour:()=>Ct(!0)}),Mt==="home"&&u.jsx(xM,{shoppingLists:Gs,onSaveList:Lr,onDeleteList:Vl,onAddItem:Ur,onUpdateItem:Vr,onDeleteItem:Js,onToggleShareList:zr,currentUser:m,pairedUser:pe,onStartTour:()=>ni(!0)})]})]}),u.jsx(JE,{isOpen:yl,onClose:()=>ro(!1),events:an,initialDate:v}),u.jsx(yv,{isOpen:ft,onClose:jl,onSave:Tt,event:ct,selectedDate:y}),u.jsx(Sv,{isOpen:Ei,onClose:()=>{Sn(!1),mo(null)},onSave:Ll,routineToEdit:xr}),u.jsx(GE,{isOpen:xl,onClose:()=>Mi(!1),routines:re,onCreate:zi,onEdit:br,onDelete:zl}),u.jsx(uM,{isOpen:co,onClose:()=>{fo(!1),En(null)},onSave:Ar,projectToEdit:po}),u.jsx(Fv,{isOpen:bn,onClose:()=>Nn(!1),currentUser:m,pairedUser:pe,users:o,requests:d,onSendRequest:Il,onRespondToRequest:No,onUnpair:Os}),u.jsx(LE,{isOpen:vl,onClose:()=>_s(!1),journalEntries:te}),pe&&u.jsx(PE,{isOpen:Ds,onClose:()=>ao(!1),sharedEmotionStates:Rt,currentUser:m,partner:pe}),u.jsx(iA,{isOpen:hr,onClose:()=>Cl(!1),onSave:gn,currentUser:m}),u.jsx(EE,{isOpen:Et,onClose:()=>Tl(!1),reflection:Wn,onShareWithPartner:Ys,partnerName:pe==null?void 0:pe.name}),u.jsx(kE,{isOpen:Rs,onClose:()=>uo(!1),trip:ei,onShareWithPartner:wr,partnerName:pe==null?void 0:pe.name}),u.jsx(ZM,{isOpen:ks,onClose:()=>{Sl(!1),ho(null)},onSave:D=>{_i&&Vi(_i.id,"aprobada",D),Sl(!1),ho(null)},subjectName:(_i==null?void 0:_i.name)||""}),u.jsx(QM,{isOpen:gr,onClose:()=>{wn(!1),An(null)},onSave:Ks,exam:Ut,subjectName:((ii=ae.find(D=>D.id===(Ut==null?void 0:Ut.subjectId)))==null?void 0:ii.name)||""}),(Ke==null?void 0:Ke.isOpen)&&u.jsx(eA,{isOpen:Ke.isOpen,onClose:()=>Yt(null),onConfirm:()=>{Ke.onConfirm(),Yt(null)},title:Ke.title,message:Ke.message,confirmText:Ke.confirmText,cancelText:Ke.cancelText}),u.jsx(Es,{isOpen:js,onClose:()=>{Co(!1),yr(!0)},steps:Tr}),u.jsx(Es,{isOpen:Vs,onClose:()=>{ni(!1),To(!0)},steps:Hs}),u.jsx(Es,{isOpen:Cr,onClose:()=>{Ct(!1),sn(!0)},steps:Bs}),u.jsx(Es,{isOpen:Al,onClose:()=>{So(!1),zs(!0)},steps:Dl}),u.jsx(Es,{isOpen:_l,onClose:()=>{pn(!1),Ml(!0)},steps:Sr})]})}const Eg=document.getElementById("root");if(!Eg)throw new Error("Could not find root element to mount to");const sA=ov.createRoot(Eg);sA.render(u.jsx(qh.StrictMode,{children:u.jsx(lA,{})}));
